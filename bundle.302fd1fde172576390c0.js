!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=197)}([function(t,e,n){"use strict";t.exports=n(440)},function(t,e,n){var r=n(4),i=n(10),o=n(21),a=n(16),s=n(25),u=function(t,e,n){var c,l,f,h,p=t&u.F,d=t&u.G,m=t&u.S,y=t&u.P,v=t&u.B,g=d?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,b=d?i:i[e]||(i[e]={}),w=b.prototype||(b.prototype={});for(c in d&&(n=e),n)f=((l=!p&&g&&void 0!==g[c])?g:n)[c],h=v&&l?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,g&&a(g,c,f,t&u.U),b[c]!=f&&o(b,c,h),y&&w[c]!=f&&(w[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(40),o=n(193),a=n(194),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){r.tokenListeners_.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){r.tokenListeners_=r.tokenListeners_.filter(function(e){return e!==t})},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++){var s=a[o];e.push(t.services_[i][s])}return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=c),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==c?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=c),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){if(o.deepExtend(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++){var r=n[e];this.INTERNAL.addAuthTokenListener(r)}this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var i=0,a=this.analyticsEventRequests_;i<a.length;i++){var s=a[i];this.INTERNAL.analytics.logEvent.apply(void 0,s)}this.analyticsEventRequests_=[]}}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var f="7.5.0",h=new a.Logger("@firebase/app");
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var d=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var a=r;void 0===a.name&&(a.name=c);var s=a.name;if("string"!=typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(e,s))throw u.create("duplicate-app",{appName:s});var f=new t(n,a,i);return e[s]=f,l(f,"create"),f},app:a,apps:null,SDK_VERSION:f,INTERNAL:{registerService:function(e,c,l,f,p){if(void 0===p&&(p=!1),n[e])return h.debug("There were multiple attempts to register service "+e+"."),i[e];function d(t){if(void 0===t&&(t=a()),"function"!=typeof t[e])throw u.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=c,f&&(r[e]=f,s().forEach(function(t){f("create",t)})),void 0!==l&&o.deepExtend(d,l),i[e]=d,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,p?t:[])},d},removeApp:function(t){l(e[t],"delete"),delete e[t]},factories:n,useAsService:p}};function a(t){if(t=t||c,!o.contains(e,t))throw u.create("no-app",{appName:t});return e[t]}function s(){return Object.keys(e).map(function(t){return e[t]})}function l(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=p(0,o[i]);if(null===a)return;r[a]&&r[a](e,t)}}function p(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=t,i}(l);return e.INTERNAL=i.__assign(i.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),m=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var y=d;e.default=y,e.firebase=y},function(t,e,n){t.exports=n(444)()},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(73)("wks"),i=n(42),o=n(4).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(27),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(6),i=n(139),o=n(37),a=Object.defineProperty;e.f=n(11)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(90),i=n(24),o=n(189),a=n(39).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(32);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r,i={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function u(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],e))}else{for(var s=[];a<r.parts.length;a++)s.push(m(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=n.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach(function(n){e.setAttribute(n,t.attributes[n])}),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}var p=null,d=0;function m(t,e){var n,r,i;if(e.singleton){var o=d++;n=p||(p=c(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(e),r=function(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&t.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=s(t,e);return u(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o],c=i[a.id];c&&(c.refs--,r.push(c))}t&&u(s(t,e),e);for(var l=0;l<r.length;l++){var f=r[l];if(0===f.refs){for(var h=0;h<f.parts.length;h++)f.parts[h]();delete i[f.id]}}}}},function(t,e,n){var r=n(4),i=n(21),o=n(20),a=n(42)("src"),s=n(202),u=(""+s).split("toString");n(10).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(1),i=n(5),o=n(32),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(this,n(51))},function(t,e,n){var r=n(18),i=n(69),o=n(130),a=n(185),s=r.Symbol,u=i("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(12),i=n(41);t.exports=n(11)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(62),i=n(32);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(26);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(63),i=n(41),o=n(22),a=n(37),s=n(20),u=n(139),c=Object.getOwnPropertyDescriptor;e.f=n(11)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(1),i=n(10),o=n(5);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(25),i=n(62),o=n(14),a=n(9),s=n(155);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var m,y,v=o(e),g=i(v),b=r(s,d,3),w=a(g.length),E=0,S=n?p(e,w):u?p(e,0):void 0;w>E;E++)if((h||E in g)&&(y=b(m=g[E],E,v),t))if(n)S[E]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:S.push(m)}else if(l)return!1;return f?-1:c||l?l:S}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(11)){var r=n(43),i=n(4),o=n(5),a=n(1),s=n(84),u=n(120),c=n(25),l=n(60),f=n(41),h=n(21),p=n(61),d=n(27),m=n(9),y=n(166),v=n(45),g=n(37),b=n(20),w=n(64),E=n(7),S=n(14),T=n(112),_=n(46),I=n(48),k=n(47).f,C=n(114),N=n(42),A=n(8),O=n(30),x=n(74),P=n(65),D=n(116),R=n(58),M=n(77),L=n(59),F=n(115),U=n(157),j=n(12),B=n(28),V=j.f,q=B.f,W=i.RangeError,K=i.TypeError,z=i.Uint8Array,G=Array.prototype,H=u.ArrayBuffer,Q=u.DataView,Y=O(0),X=O(2),$=O(3),J=O(4),Z=O(5),tt=O(6),et=x(!0),nt=x(!1),rt=D.values,it=D.keys,ot=D.entries,at=G.lastIndexOf,st=G.reduce,ut=G.reduceRight,ct=G.join,lt=G.sort,ft=G.slice,ht=G.toString,pt=G.toLocaleString,dt=A("iterator"),mt=A("toStringTag"),yt=N("typed_constructor"),vt=N("def_constructor"),gt=s.CONSTR,bt=s.TYPED,wt=s.VIEW,Et=O(1,function(t,e){return kt(P(t,t[vt]),e)}),St=o(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Tt=!!z&&!!z.prototype.set&&o(function(){new z(1).set({})}),_t=function(t,e){var n=d(t);if(n<0||n%e)throw W("Wrong offset!");return n},It=function(t){if(E(t)&&bt in t)return t;throw K(t+" is not a typed array!")},kt=function(t,e){if(!(E(t)&&yt in t))throw K("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Nt(P(t,t[vt]),e)},Nt=function(t,e){for(var n=0,r=e.length,i=kt(t,r);r>n;)i[n]=e[n++];return i},At=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,r,i,o,a,s=S(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=C(s);if(null!=h&&!T(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=m(s.length),i=kt(this,n);n>e;e++)i[e]=f?l(s[e],e):s[e];return i},xt=function(){for(var t=0,e=arguments.length,n=kt(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!z&&o(function(){pt.call(new z(1))}),Dt=function(){return pt.apply(Pt?ft.call(It(this)):It(this),arguments)},Rt={copyWithin:function(t,e){return U.call(It(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(It(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(It(this),arguments)},filter:function(t){return Ct(this,X(It(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(It(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(It(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(It(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(It(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(It(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(It(this),arguments)},lastIndexOf:function(t){return at.apply(It(this),arguments)},map:function(t){return Et(It(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(It(this),arguments)},reduceRight:function(t){return ut.apply(It(this),arguments)},reverse:function(){for(var t,e=It(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return $(It(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(It(this),t)},subarray:function(t,e){var n=It(this),r=n.length,i=v(t,r);return new(P(n,n[vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===e?r:v(e,r))-i))}},Mt=function(t,e){return Ct(this,ft.call(It(this),t,e))},Lt=function(t){It(this);var e=_t(arguments[1],1),n=this.length,r=S(t),i=m(r.length),o=0;if(i+e>n)throw W("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ft={entries:function(){return ot.call(It(this))},keys:function(){return it.call(It(this))},values:function(){return rt.call(It(this))}},Ut=function(t,e){return E(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},jt=function(t,e){return Ut(t,e=g(e,!0))?f(2,t[e]):q(t,e)},Bt=function(t,e,n){return!(Ut(t,e=g(e,!0))&&E(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};gt||(B.f=jt,j.f=Bt),a(a.S+a.F*!gt,"Object",{getOwnPropertyDescriptor:jt,defineProperty:Bt}),o(function(){ht.call({})})&&(ht=pt=function(){return ct.call(this)});var Vt=p({},Rt);p(Vt,Ft),h(Vt,dt,Ft.values),p(Vt,{slice:Mt,set:Lt,constructor:function(){},toString:ht,toLocaleString:Dt}),At(Vt,"buffer","b"),At(Vt,"byteOffset","o"),At(Vt,"byteLength","l"),At(Vt,"length","e"),V(Vt,mt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,p="set"+t,d=i[c],v=d||{},g=d&&I(d),b=!d||!s.ABV,S={},T=d&&d.prototype,C=function(t,n){V(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,St)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,St)}(this,n,t)},enumerable:!0})};b?(d=n(function(t,n,r,i){l(t,d,c,"_d");var o,a,s,u,f=0,p=0;if(E(n)){if(!(n instanceof H||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return bt in n?Nt(d,n):Ot.call(d,n);o=n,p=_t(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw W("Wrong length!");if((a=v-p)<0)throw W("Wrong length!")}else if((a=m(i)*e)+p>v)throw W("Wrong length!");s=a/e}else s=y(n),o=new H(a=s*e);for(h(t,"_d",{b:o,o:p,l:a,e:s,v:new Q(o)});f<s;)C(t,f++)}),T=d.prototype=_(Vt),h(T,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&M(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){var o;return l(t,d,c),E(n)?n instanceof H||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,_t(r,e),i):void 0!==r?new v(n,_t(r,e)):new v(n):bt in n?Nt(d,n):Ot.call(d,n):new v(y(n))}),Y(g!==Function.prototype?k(v).concat(k(g)):k(v),function(t){t in d||h(d,t,v[t])}),d.prototype=T,r||(T.constructor=d));var N=T[dt],A=!!N&&("values"==N.name||null==N.name),O=Ft.values;h(d,yt,!0),h(T,bt,c),h(T,wt,!0),h(T,vt,d),(u?new d(1)[mt]==c:mt in T)||V(T,mt,{get:function(){return c}}),S[c]=d,a(a.G+a.W+a.F*(d!=v),S),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){v.of.call(d,1)}),c,{from:Ot,of:xt}),"BYTES_PER_ELEMENT"in T||h(T,"BYTES_PER_ELEMENT",e),a(a.P,c,Rt),L(c),a(a.P+a.F*Tt,c,{set:Lt}),a(a.P+a.F*!A,c,Ft),r||T.toString==ht||(T.toString=ht),a(a.P+a.F*o(function(){new d(1).slice()}),c,{slice:Mt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),c,{toLocaleString:Dt}),R[c]=A?N:O,r||A||h(T,dt,O)}}else t.exports=function(){}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(42)("meta"),i=n(7),o=n(20),a=n(12).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(5)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e,n){var r=n(52),i=n(176),o=n(54),a=n(85),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return f}),n.d(e,"__exportStar",function(){return h}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return y}),n.d(e,"__await",function(){return v}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return w}),n.d(e,"__makeTemplateObject",function(){return E}),n.d(e,"__importStar",function(){return S}),n.d(e,"__importDefault",function(){return T});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,i,(e=t[n](e)).done,e.value)})}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(141),i=n(99);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(27),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(6),i=n(142),o=n(99),a=n(98)("IE_PROTO"),s=function(){},u=function(){var t,e=n(96)("iframe"),r=o.length;for(e.style.display="none",n(100).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(141),i=n(99).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(20),i=n(14),o=n(98)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(8)("unscopables"),i=Array.prototype;null==i[r]&&n(21)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(34);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(52),i=n(39),o=n(67);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(35);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){"use strict";var r,i=(r=n(2))&&"object"==typeof r&&"default"in r?r.default:r;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.exports=i},function(t,e,n){var r=n(12).f,i=n(20),o=n(8)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(1),i=n(32),o=n(5),a=n(102),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var i={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(4),i=n(12),o=n(11),a=n(8)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(16);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(31);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(31),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(6),i=n(26),o=n(8)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(18),i=n(125).f,o=n(53),a=n(86),s=n(128),u=n(179),c=n(395);t.exports=function(t,e){var n,l,f,h,p,d=t.target,m=t.global,y=t.stat;if(n=m?r:y?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(m?l:d+(y?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,l,h,t)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(175),i=n(127);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(18),i=n(128),o=n(87),a=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(127);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(39).f,i=n(24),o=n(19)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(94),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(e),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var g=h(n,v);try{c(e,v,g)}catch(t){}}}return e}return e}},function(t,e,n){var r=n(10),i=n(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(43)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(22),i=n(9),o=n(45);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(31);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(8)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(64),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(159);var r=n(16),i=n(21),o=n(5),a=n(32),s=n(8),u=n(117),c=s("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),p=!o(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),d=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e}):void 0;if(!p||!d||"replace"===t&&!l||"split"===t&&!f){var m=/./[h],y=n(a,h,""[t],function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=y[0],g=y[1];r(String.prototype,t,v),i(RegExp.prototype,h,2==e?function(t,e){return g.call(t,this,e)}:function(t){return g.call(t,this)})}}},function(t,e,n){var r=n(25),i=n(154),o=n(112),a=n(6),s=n(9),u=n(114),c={},l={};(e=t.exports=function(t,e,n,f,h){var p,d,m,y,v=h?function(){return t}:u(t),g=r(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>b;b++)if((y=e?g(a(d=t[b])[0],d[1]):g(t[b]))===c||y===l)return y}else for(m=v.call(t);!(d=m.next()).done;)if((y=i(m,g,d.value,e))===c||y===l)return y}).BREAK=c,e.RETURN=l},function(t,e,n){var r=n(4).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(4),i=n(1),o=n(16),a=n(61),s=n(38),u=n(81),c=n(60),l=n(7),f=n(5),h=n(77),p=n(56),d=n(103);t.exports=function(t,e,n,m,y,v){var g=r[t],b=g,w=y?"set":"add",E=b&&b.prototype,S={},T=function(t){var e=E[t];o(E,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||E.forEach&&!f(function(){(new b).entries().next()}))){var _=new b,I=_[w](v?{}:-0,1)!=_,k=f(function(){_.has(1)}),C=h(function(t){new b(t)}),N=!v&&f(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});C||((b=e(function(e,n){c(e,b,t);var r=d(new g,e,b);return null!=n&&u(n,y,r[w],r),r})).prototype=E,E.constructor=b),(k||N)&&(T("delete"),T("has"),y&&T("get")),(N||I)&&T(w),v&&E.clear&&delete E.clear}else b=m.getConstructor(e,t,y,w),a(b.prototype,n),s.NEED=!0;return p(b,t),S[t]=b,i(i.G+i.W+i.F*(b!=g),S),v||m.setStrong(b,t,y),b}},function(t,e,n){for(var r,i=n(4),o=n(21),a=n(42),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){var r=n(35);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(18),i=n(69),o=n(53),a=n(24),s=n(128),u=n(178),c=n(129),l=c.get,f=c.enforce,h=String(u).split("toString");i("inspectSource",function(t){return u.call(t)}),(t.exports=function(t,e,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),f(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||u.call(this)})},function(t,e){t.exports=!1},function(t,e,n){var r=n(69),i=n(130),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e,n){t.exports=n(18)},function(t,e,n){var r=n(132),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports={}},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(441)},function(t,e,n){"use strict";t.exports=n(446)},,function(t,e,n){var r=n(7),i=n(4).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){e.f=n(8)},function(t,e,n){var r=n(73)("keys"),i=n(42);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(4).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(7),i=n(6),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(25)(Function.call,n(28).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(7),i=n(101).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(27),i=n(32);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(27),i=n(32);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(43),i=n(1),o=n(16),a=n(21),s=n(58),u=n(153),c=n(56),l=n(48),f=n(8)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,m,y,v){u(n,e,d);var g,b,w,E=function(t){if(!h&&t in I)return I[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T="values"==m,_=!1,I=t.prototype,k=I[f]||I["@@iterator"]||m&&I[m],C=k||E(m),N=m?T?E("entries"):C:void 0,A="Array"==e&&I.entries||k;if(A&&(w=l(A.call(new t)))!==Object.prototype&&w.next&&(c(w,S,!0),r||"function"==typeof w[f]||a(w,f,p)),T&&k&&"values"!==k.name&&(_=!0,C=function(){return k.call(this)}),r&&!v||!h&&!_&&I[f]||a(I,f,C),s[e]=C,s[S]=p,m)if(g={values:T?C:E("values"),keys:y?C:E("keys"),entries:N},v)for(b in g)b in I||o(I,b,g[b]);else i(i.P+i.F*(h||_),e,g);return g}},function(t,e,n){var r=n(110),i=n(32);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(7),i=n(31),o=n(8)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(8)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(58),i=n(8)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(12),i=n(41);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(64),i=n(8)("iterator"),o=n(58);t.exports=n(10).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(14),i=n(45),o=n(9);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(49),i=n(158),o=n(58),a=n(22);t.exports=n(108)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r,i,o=n(78),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(t){var e,n,r,i,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),r=a.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=u},function(t,e,n){"use strict";var r=n(107)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,a=n(25),s=n(147),u=n(100),c=n(96),l=n(4),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,m=l.Dispatch,y=0,v={},g=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){g.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete v[t]},"process"==n(31)(f)?r=function(t){f.nextTick(a(g,t,1))}:m&&m.now?r=function(t){m.now(a(g,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){"use strict";var r=n(4),i=n(11),o=n(43),a=n(84),s=n(21),u=n(61),c=n(5),l=n(60),f=n(27),h=n(9),p=n(166),d=n(47).f,m=n(12).f,y=n(115),v=n(56),g="prototype",b="Wrong index!",w=r.ArrayBuffer,E=r.DataView,S=r.Math,T=r.RangeError,_=r.Infinity,I=w,k=S.abs,C=S.pow,N=S.floor,A=S.log,O=S.LN2,x=i?"_b":"buffer",P=i?"_l":"byteLength",D=i?"_o":"byteOffset";function R(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?C(2,-24)-C(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for((t=k(t))!=t||t===_?(i=t!=t?1:0,r=u):(r=N(A(t)/O),t*(o=C(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*C(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*C(2,e),r+=c):(i=t*C(2,c-1)*C(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function M(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-_:_;r+=C(2,e),l-=a}return(c?-1:1)*r*C(2,l-e)}function L(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function F(t){return[255&t]}function U(t){return[255&t,t>>8&255]}function j(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function B(t){return R(t,52,8)}function V(t){return R(t,23,4)}function q(t,e,n){m(t[g],e,{get:function(){return this[n]}})}function W(t,e,n,r){var i=p(+n);if(i+e>t[P])throw T(b);var o=t[x]._b,a=i+t[D],s=o.slice(a,a+e);return r?s:s.reverse()}function K(t,e,n,r,i,o){var a=p(+n);if(a+e>t[P])throw T(b);for(var s=t[x]._b,u=a+t[D],c=r(+i),l=0;l<e;l++)s[u+l]=c[o?l:e-l-1]}if(a.ABV){if(!c(function(){w(1)})||!c(function(){new w(-1)})||c(function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name})){for(var z,G=(w=function(t){return l(this,w),new I(p(t))})[g]=I[g],H=d(I),Q=0;H.length>Q;)(z=H[Q++])in w||s(w,z,I[z]);o||(G.constructor=w)}var Y=new E(new w(2)),X=E[g].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||u(E[g],{setInt8:function(t,e){X.call(this,t,e<<24>>24)},setUint8:function(t,e){X.call(this,t,e<<24>>24)}},!0)}else w=function(t){l(this,w,"ArrayBuffer");var e=p(t);this._b=y.call(new Array(e),0),this[P]=e},E=function(t,e,n){l(this,E,"DataView"),l(t,w,"DataView");var r=t[P],i=f(e);if(i<0||i>r)throw T("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw T("Wrong length!");this[x]=t,this[D]=i,this[P]=n},i&&(q(w,"byteLength","_l"),q(E,"buffer","_b"),q(E,"byteLength","_l"),q(E,"byteOffset","_o")),u(E[g],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return L(W(this,4,t,arguments[1]))},getUint32:function(t){return L(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return M(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return M(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,F,e)},setUint8:function(t,e){K(this,1,t,F,e)},setInt16:function(t,e){K(this,2,t,U,e,arguments[2])},setUint16:function(t,e){K(this,2,t,U,e,arguments[2])},setInt32:function(t,e){K(this,4,t,j,e,arguments[2])},setUint32:function(t,e){K(this,4,t,j,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,B,e,arguments[2])}});v(w,"ArrayBuffer"),v(E,"DataView"),s(E[g],a.VIEW,!0),e.ArrayBuffer=w,e.DataView=E},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(172)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){var r=n(52),i=n(174),o=n(67),a=n(68),s=n(85),u=n(24),c=n(176),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(18),i=n(53);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r,i,o,a=n(391),s=n(18),u=n(35),c=n(53),l=n(24),f=n(88),h=n(89),p=s.WeakMap;if(a){var d=new p,m=d.get,y=d.has,v=d.set;r=function(t,e){return v.call(d,t,e),e},i=function(t){return m.call(d,t)||{}},o=function(t){return y.call(d,t)}}else{var g=f("state");h[g]=!0,r=function(t,e){return c(t,g,e),e},i=function(t){return l(t,g)?t[g]:{}},o=function(t){return l(t,g)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(181),i=n(133).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(126);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";(function(t,r){var i,o=n(195);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(51),n(447)(t))},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){var r=n(454);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var f=n[0],h=n[1],p=n.index;if(s+=t.slice(a,p),a=p+f.length,h)s+=h[1];else{var d=t[a],m=n[2],y=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=d&&d!==m,S="+"===b||"*"===b,T="?"===b||"*"===b,_=n[2]||l,I=v||g;r.push({name:y||o++,prefix:m||"",delimiter:_,optional:T,repeat:S,partial:E,asterisk:!!w,pattern:I?c(I):w?".*":"[^"+u(_)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=u(h[p]),!e[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!e[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"==typeof c)a+=u(c);else{var h=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},function(t){t.exports=JSON.parse('{"name":"pokedex","version":"1.0.0","description":"EPAM\'s JavaScript development course final project","main":"index.js","scripts":{"start":"webpack-dev-server --progress --mode development --open --hot","build":"rimraf ./dist && webpack --progress --mode production","predeploy":"npm run build","deploy":"gh-pages -d dist"},"repository":{"type":"git","url":"git+https://github.com/TigranKirakosov/final-project.git"},"keywords":["react","webpack","sass","mocked-api"],"author":"Tigran Kirakosov","license":"ISC","bugs":{"url":"https://github.com/TigranKirakosov/final-project/issues"},"homepage":"https://tigrankirakosov.github.io/final-project/","devDependencies":{"@babel/core":"^7.5.5","@babel/plugin-proposal-class-properties":"^7.5.5","@babel/preset-env":"^7.5.5","@babel/preset-react":"^7.0.0","autoprefixer":"^9.6.1","babel-loader":"^8.0.6","copy-webpack-plugin":"^5.0.4","css-loader":"^3.2.0","eslint":"^6.7.2","eslint-plugin-react":"^7.17.0","eslint-plugin-react-hooks":"^2.3.0","file-loader":"^4.2.0","gh-pages":"^2.1.1","html-webpack-plugin":"^3.2.0","mini-css-extract-plugin":"^0.8.0","node-sass":"^4.12.0","postcss-loader":"^3.0.0","rimraf":"^2.6.3","sass-loader":"^7.2.0","style-loader":"^1.0.0","webpack":"^4.39.1","webpack-cli":"^3.3.6","webpack-dev-server":"^3.8.0"},"dependencies":{"@babel/polyfill":"^7.4.4","firebase":"^7.5.0","json-server":"^0.15.1","react":"^16.9.0","react-app-polyfill":"^1.0.2","react-dom":"^16.9.0","react-redux":"^7.1.0","react-router-dom":"^5.0.1","redux":"^4.0.4","redux-saga":"^1.0.5"},"browserslist":["defaults","not ie < 11","last 2 versions","> 1%","iOS 7","last 3 iOS versions"]}')},function(t,e,n){t.exports=!n(11)&&!n(5)(function(){return 7!=Object.defineProperty(n(96)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(4),i=n(10),o=n(43),a=n(97),s=n(12).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(20),i=n(22),o=n(74)(!1),a=n(98)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(12),i=n(6),o=n(44);t.exports=n(11)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(22),i=n(47).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(11),i=n(44),o=n(75),a=n(63),s=n(14),u=n(62),c=Object.assign;t.exports=!c||n(5)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,l=1,f=o.f,h=a.f;c>l;)for(var p,d=u(arguments[l++]),m=f?i(d).concat(f(d)):i(d),y=m.length,v=0;y>v;)p=m[v++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(26),i=n(7),o=n(147),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(4).parseInt,i=n(57).trim,o=n(102),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(4).parseFloat,i=n(57).trim;t.exports=1/r(n(102)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(31);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(7),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(46),i=n(41),o=n(56),a={};n(21)(a,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(292);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(26),i=n(14),o=n(62),a=n(9);t.exports=function(t,e,n,s,u){r(e);var c=i(t),l=o(c),f=a(c.length),h=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(h in l){s=l[h],h+=p;break}if(h+=p,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=p)h in l&&(s=e(s,l[h],h,c));return s}},function(t,e,n){"use strict";var r=n(14),i=n(45),o=n(9);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(117);n(1)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(11)&&"g"!=/./g.flags&&n(12).f(RegExp.prototype,"flags",{configurable:!0,get:n(78)})},function(t,e,n){"use strict";var r,i,o,a,s=n(43),u=n(4),c=n(25),l=n(64),f=n(1),h=n(7),p=n(26),d=n(60),m=n(81),y=n(65),v=n(119).set,g=n(312)(),b=n(162),w=n(313),E=n(82),S=n(163),T=u.TypeError,_=u.process,I=_&&_.versions,k=I&&I.v8||"",C=u.Promise,N="process"==l(_),A=function(){},O=i=b.f,x=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(8)("species")]=function(t){t(A,A)};return(N||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==k.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&L(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(T("Promise-chain cycle")):(o=P(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(u,function(){var e,n,r,i=t._v,o=M(t);if(o&&(e=w(function(){N?_.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=N||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(u,function(){var e;N?_.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=P(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(U,r,1),c(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};x||(C=function(t){d(this,C,"Promise","_h"),p(t),r.call(this);try{t(c(U,this,1),c(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(61)(C.prototype,{then:function(t,e){var n=O(y(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=N?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(U,t,1),this.reject=c(F,t,1)},b.f=O=function(t){return t===C||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!x,{Promise:C}),n(56)(C,"Promise"),n(59)("Promise"),a=n(10).Promise,f(f.S+f.F*!x,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!x),"Promise",{resolve:function(t){return S(s&&this===a?C:this,t)}}),f(f.S+f.F*!(x&&n(77)(function(t){C.all(t).catch(A)})),"Promise",{all:function(t){var e=this,n=O(e),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=w(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(26);function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(6),i=n(7),o=n(162);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(12).f,i=n(46),o=n(61),a=n(25),s=n(60),u=n(81),c=n(108),l=n(158),f=n(59),h=n(11),p=n(38).fastKey,d=n(50),m=h?"_s":"size",y=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,null!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=d(this,e),r=y(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return d(this,e)[m]}}),l},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(61),i=n(38).getWeak,o=n(6),a=n(7),s=n(60),u=n(81),c=n(30),l=n(20),f=n(50),h=c(5),p=c(6),d=0,m=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=r&&u(r,n,t[o],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(f(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(f(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(27),i=n(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(47),i=n(75),o=n(6),a=n(4).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(9),i=n(104),o=n(32);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var f=l-u,h=i.call(c,Math.ceil(f/c.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){var r=n(11),i=n(44),o=n(22),a=n(63).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",f="suspendedYield",h="executing",p="completed",d={};function m(){}function y(){}function v(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,o)&&(g=w);var E=v.prototype=m.prototype=Object.create(g);function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){var e;this._invoke=function(n,i){function o(){return new Promise(function(e,o){!function e(n,i,o,a){var s=c(t[n],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},function(t){return e("throw",t,o,a)})}a(s.arg)}(n,i,e,o)})}return e=e?e.then(o,o):o()}}function _(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function N(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:e,done:!0}}return y.prototype=E.constructor=v,v.constructor=y,v[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,r,i){var o=new T(u(e,n,r,i));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(E),E[s]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(385);function i(){}var o=null,a={};function s(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,t!==i&&p(t,this)}function u(t,e){for(;3===t._i;)t=t._j;if(s._l&&s._l(t),0===t._i)return 0===t._h?(t._h=1,void(t._k=e)):1===t._h?(t._h=2,void(t._k=[t._k,e])):void t._k.push(e);!function(t,e){r(function(){var n=1===t._i?e.onFulfilled:e.onRejected;if(null!==n){var r=function(t,e){try{return t(e)}catch(t){return o=t,a}}(n,t._j);r===a?l(e.promise,o):c(e.promise,r)}else 1===t._i?c(e.promise,t._j):l(e.promise,t._j)})}(t,e)}function c(t,e){if(e===t)return l(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=function(t){try{return t.then}catch(t){return o=t,a}}(e);if(n===a)return l(t,o);if(n===t.then&&e instanceof s)return t._i=3,t._j=e,void f(t);if("function"==typeof n)return void p(n.bind(e),t)}t._i=1,t._j=e,f(t)}function l(t,e){t._i=2,t._j=e,s._m&&s._m(t,e),f(t)}function f(t){if(1===t._h&&(u(t,t._k),t._k=null),2===t._h){for(var e=0;e<t._k.length;e++)u(t,t._k[e]);t._k=null}}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1,r=function(t,e,n){try{t(e,n)}catch(t){return o=t,a}}(t,function(t){n||(n=!0,c(e,t))},function(t){n||(n=!0,l(e,t))});n||r!==a||(n=!0,l(e,o))}t.exports=s,s._l=null,s._m=null,s._n=i,s.prototype.then=function(t,e){if(this.constructor!==s)return function(t,e,n){return new t.constructor(function(r,o){var a=new s(i);a.then(r,o),u(t,new h(e,n,a))})}(this,t,e);var n=new s(i);return u(this,new h(t,e,n)),n}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(34),i=n(126),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(52),i=n(34),o=n(177);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(18),i=n(35),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(69);t.exports=r("native-function-to-string",Function.toString)},function(t,e,n){var r=n(24),i=n(392),o=n(125),a=n(39);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},function(t,e,n){var r=n(90),i=n(18),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(24),i=n(68),o=n(393).indexOf,a=n(89);t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(85),i=n(39),o=n(67);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var r=n(35),i=n(134),o=n(19)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(34);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r=n(126),i=n(19)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(54),i=n(400),o=n(133),a=n(89),s=n(401),u=n(177),c=n(88)("IE_PROTO"),l=function(){},f=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f.prototype[o[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[c]=t):n=f(),void 0===e?n:i(n,e)},a[c]=!0},function(t,e,n){var r=n(181),i=n(133);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){e.f=n(19)},function(t,e,n){var r=n(404);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r,i,o,a=n(192),s=n(53),u=n(24),c=n(19),l=n(87),f=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),l||u(r,f)||s(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(24),i=n(70),o=n(88),a=n(431),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(40),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p="FirebaseError",d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){return JSON.parse(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=f,e.ErrorFactory=m,e.FirebaseError=d,e.Sha1=w,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=T,e.getUA=h,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=g,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(51))},function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return u}),n.d(e,"setLogLevel",function(){return c});var i,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,i.ERROR],t))},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(t){o.forEach(function(e){e.logLevel=t})}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(51))},function(t,e,n){n(198),t.exports=n(483)},function(t,e,n){"use strict";n(199);var r,i=(r=n(370))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,n){"use strict";n(200),n(343),n(345),n(348),n(350),n(352),n(354),n(356),n(358),n(360),n(362),n(364),n(366),n(170)},function(t,e,n){n(201),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(282),n(283),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(116),n(306),n(159),n(307),n(160),n(308),n(309),n(310),n(311),n(161),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),t.exports=n(10)},function(t,e,n){"use strict";var r=n(4),i=n(20),o=n(11),a=n(1),s=n(16),u=n(38).KEY,c=n(5),l=n(73),f=n(56),h=n(42),p=n(8),d=n(97),m=n(140),y=n(203),v=n(76),g=n(6),b=n(7),w=n(14),E=n(22),S=n(37),T=n(41),_=n(46),I=n(143),k=n(28),C=n(75),N=n(12),A=n(44),O=k.f,x=N.f,P=I.f,D=r.Symbol,R=r.JSON,M=R&&R.stringify,L=p("_hidden"),F=p("toPrimitive"),U={}.propertyIsEnumerable,j=l("symbol-registry"),B=l("symbols"),V=l("op-symbols"),q=Object.prototype,W="function"==typeof D&&!!C.f,K=r.QObject,z=!K||!K.prototype||!K.prototype.findChild,G=o&&c(function(){return 7!=_(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(q,e);r&&delete q[e],x(t,e,n),r&&t!==q&&x(q,e,r)}:x,H=function(t){var e=B[t]=_(D.prototype);return e._k=t,e},Q=W&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Y=function(t,e,n){return t===q&&Y(V,e,n),g(t),e=S(e,!0),g(n),i(B,e)?(n.enumerable?(i(t,L)&&t[L][e]&&(t[L][e]=!1),n=_(n,{enumerable:T(0,!1)})):(i(t,L)||x(t,L,T(1,{})),t[L][e]=!0),G(t,e,n)):x(t,e,n)},X=function(t,e){g(t);for(var n,r=y(e=E(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},$=function(t){var e=U.call(this,t=S(t,!0));return!(this===q&&i(B,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,L)&&this[L][t])||e)},J=function(t,e){if(t=E(t),e=S(e,!0),t!==q||!i(B,e)||i(V,e)){var n=O(t,e);return!n||!i(B,e)||i(t,L)&&t[L][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=P(E(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==L||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===q,r=P(n?V:E(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(q,e)||o.push(B[e]);return o};W||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(V,n),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),G(this,t,T(1,n))};return o&&z&&G(q,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),k.f=J,N.f=Y,n(47).f=I.f=Z,n(63).f=$,C.f=tt,o&&!n(43)&&s(q,"propertyIsEnumerable",$,!0),d.f=function(t){return H(p(t))}),a(a.G+a.W+a.F*!W,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=A(p.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=D(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!W,"Object",{create:function(t,e){return void 0===e?_(t):X(_(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=c(function(){C.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return C.f(w(t))}}),R&&a(a.S+a.F*(!W||c(function(){var t=D();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!Q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Q(e))return e}),r[1]=e,M.apply(R,r)}}),D.prototype[F]||n(21)(D.prototype,F,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(73)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(44),i=n(75),o=n(63);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(1);r(r.S,"Object",{create:n(46)})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(11),"Object",{defineProperty:n(12).f})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(11),"Object",{defineProperties:n(142)})},function(t,e,n){var r=n(22),i=n(28).f;n(29)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(14),i=n(48);n(29)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(14),i=n(44);n(29)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(29)("getOwnPropertyNames",function(){return n(143).f})},function(t,e,n){var r=n(7),i=n(38).onFreeze;n(29)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(7),i=n(38).onFreeze;n(29)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(7),i=n(38).onFreeze;n(29)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(7);n(29)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(7);n(29)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(7);n(29)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(144)})},function(t,e,n){var r=n(1);r(r.S,"Object",{is:n(145)})},function(t,e,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(101).set})},function(t,e,n){"use strict";var r=n(64),i={};i[n(8)("toStringTag")]="z",i+""!="[object z]"&&n(16)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(1);r(r.P,"Function",{bind:n(146)})},function(t,e,n){var r=n(12).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(11)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(7),i=n(48),o=n(8)("hasInstance"),a=Function.prototype;o in a||n(12).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(1),i=n(148);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(1),i=n(149);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(4),i=n(20),o=n(31),a=n(103),s=n(37),u=n(5),c=n(47).f,l=n(28).f,f=n(12).f,h=n(57).trim,p=r.Number,d=p,m=p.prototype,y="Number"==o(n(46)(m)),v="trim"in String.prototype,g=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=v?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(y?u(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new d(g(e)),n,p):g(e)};for(var b,w=n(11)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)i(d,b=w[E])&&!i(p,b)&&f(p,b,l(d,b));p.prototype=m,m.constructor=p,n(16)(r,"Number",p)}},function(t,e,n){"use strict";var r=n(1),i=n(27),o=n(150),a=n(104),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(5)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,l),c=i(t),m="",y="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(d(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),y=p()}else f(0,n),f(1<<-e,0),y=p()+a.call("0",c);return y=c>0?m+((s=y.length)<=c?"0."+a.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c)):m+y}})},function(t,e,n){"use strict";var r=n(1),i=n(5),o=n(150),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(1),i=n(4).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{isInteger:n(151)})},function(t,e,n){var r=n(1);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),i=n(151),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1),i=n(149);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(1),i=n(148);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(1),i=n(152),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(1),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(1),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),i=n(105);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(1),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(1),i=n(106);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(1);r(r.S,"Math",{fround:n(246)})},function(t,e,n){var r=n(105),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<u?c*(i/u/a+1/o-1/o)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var r=n(1),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(1),i=Math.imul;r(r.S+r.F*n(5)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log1p:n(152)})},function(t,e,n){var r=n(1);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(1);r(r.S,"Math",{sign:n(105)})},function(t,e,n){var r=n(1),i=n(106),o=Math.exp;r(r.S+r.F*n(5)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(1),i=n(106),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(1),i=n(45),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(1),i=n(22),o=n(9);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(57)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(107)(!0);n(108)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(1),i=n(107)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(109),a="".endsWith;r(r.P+r.F*n(111)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(1),i=n(109);r(r.P+r.F*n(111)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1);r(r.P,"String",{repeat:n(104)})},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(109),a="".startsWith;r(r.P+r.F*n(111)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(17)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(17)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(17)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(17)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(17)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(17)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(17)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(17)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(17)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(17)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(17)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(17)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(17)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(1);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(1),i=n(14),o=n(37);r(r.P+r.F*n(5)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(1),i=n(281);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(5),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(16)(r,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(8)("toPrimitive"),i=Date.prototype;r in i||n(21)(i,r,n(284))},function(t,e,n){"use strict";var r=n(6),i=n(37);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(1);r(r.S,"Array",{isArray:n(76)})},function(t,e,n){"use strict";var r=n(25),i=n(1),o=n(14),a=n(154),s=n(112),u=n(9),c=n(113),l=n(114);i(i.S+i.F*!n(77)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,y=void 0!==m,v=0,g=l(h);if(y&&(m=r(m,d>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(e=u(h.length));e>v;v++)c(n,v,y?m(h[v],v):h[v]);else for(f=g.call(h),n=new p;!(i=f.next()).done;v++)c(n,v,y?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(1),i=n(113);r(r.S+r.F*n(5)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(1),i=n(22),o=[].join;r(r.P+r.F*(n(62)!=Object||!n(23)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(1),i=n(100),o=n(31),a=n(45),s=n(9),u=[].slice;r(r.P+r.F*n(5)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),l=s(c-i),f=new Array(l),h=0;h<l;h++)f[h]="String"==r?this.charAt(i+h):this[i+h];return f}})},function(t,e,n){"use strict";var r=n(1),i=n(26),o=n(14),a=n(5),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(23)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(1),i=n(30)(0),o=n(23)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(7),i=n(76),o=n(8)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(1),i=n(30)(1);r(r.P+r.F*!n(23)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(30)(2);r(r.P+r.F*!n(23)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(30)(3);r(r.P+r.F*!n(23)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(30)(4);r(r.P+r.F*!n(23)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(156);r(r.P+r.F*!n(23)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(1),i=n(156);r(r.P+r.F*!n(23)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(1),i=n(74)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(23)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(22),o=n(27),a=n(9),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(23)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(1);r(r.P,"Array",{copyWithin:n(157)}),n(49)("copyWithin")},function(t,e,n){var r=n(1);r(r.P,"Array",{fill:n(115)}),n(49)("fill")},function(t,e,n){"use strict";var r=n(1),i=n(30)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(49)("find")},function(t,e,n){"use strict";var r=n(1),i=n(30)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(49)(o)},function(t,e,n){n(59)("Array")},function(t,e,n){var r=n(4),i=n(103),o=n(12).f,a=n(47).f,s=n(110),u=n(78),c=r.RegExp,l=c,f=c.prototype,h=/a/g,p=/a/g,d=new c(h)!==h;if(n(11)&&(!d||n(5)(function(){return p[n(8)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(d?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:f,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},y=a(l),v=0;y.length>v;)m(y[v++]);f.constructor=c,c.prototype=f,n(16)(r,"RegExp",c)}n(59)("RegExp")},function(t,e,n){"use strict";n(160);var r=n(6),i=n(78),o=n(11),a=/./.toString,s=function(t){n(16)(RegExp.prototype,"toString",t,!0)};n(5)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";var r=n(6),i=n(9),o=n(118),a=n(79);n(80)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var f,h=[],p=0;null!==(f=a(u,c));){var d=String(f[0]);h[p]=d,""===d&&(u.lastIndex=o(c,i(u.lastIndex),l)),p++}return 0===p?null:h}]})},function(t,e,n){"use strict";var r=n(6),i=n(14),o=n(9),a=n(27),s=n(118),u=n(79),c=Math.max,l=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(80)("replace",2,function(t,e,n,d){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=d(n,t,this,e);if(i.done)return i.value;var f=r(t),h=String(this),p="function"==typeof e;p||(e=String(e));var y=f.global;if(y){var v=f.unicode;f.lastIndex=0}for(var g=[];;){var b=u(f,h);if(null===b)break;if(g.push(b),!y)break;""===String(b[0])&&(f.lastIndex=s(h,o(f.lastIndex),v))}for(var w,E="",S=0,T=0;T<g.length;T++){b=g[T];for(var _=String(b[0]),I=c(l(a(b.index),h.length),0),k=[],C=1;C<b.length;C++)k.push(void 0===(w=b[C])?w:String(w));var N=b.groups;if(p){var A=[_].concat(k,I,h);void 0!==N&&A.push(N);var O=String(e.apply(void 0,A))}else O=m(_,h,I,k,N,e);I>=S&&(E+=h.slice(S,I)+O,S=I+_.length)}return E+h.slice(S)}];function m(t,e,r,o,a,s){var u=r+t.length,c=o.length,l=p;return void 0!==a&&(a=i(a),l=h),n.call(s,l,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var h=f(l/10);return 0===h?n:h<=c?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var r=n(6),i=n(145),o=n(79);n(80)("search",1,function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]})},function(t,e,n){"use strict";var r=n(110),i=n(6),o=n(65),a=n(118),s=n(9),u=n(79),c=n(117),l=n(5),f=Math.min,h=[].push,p=!l(function(){RegExp(4294967295,"y")});n(80)("split",2,function(t,e,n,l){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,l+"g");(o=c.call(d,i))&&!((a=d.lastIndex)>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&h.apply(u,o.slice(1)),s=o[0].length,f=a,u.length>=p));)d.lastIndex===o.index&&d.lastIndex++;return f===i.length?!s&&d.test("")||u.push(""):u.push(i.slice(f)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):d.call(String(i),n,r)},function(t,e){var r=l(d,t,this,e,d!==n);if(r.done)return r.value;var c=i(t),h=String(this),m=o(c,RegExp),y=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),g=new m(p?c:"^(?:"+c.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===h.length)return null===u(g,h)?[h]:[];for(var w=0,E=0,S=[];E<h.length;){g.lastIndex=p?E:0;var T,_=u(g,p?h:h.slice(E));if(null===_||(T=f(s(g.lastIndex+(p?0:E)),h.length))===w)E=a(h,E,y);else{if(S.push(h.slice(w,E)),S.length===b)return S;for(var I=1;I<=_.length-1;I++)if(S.push(_[I]),S.length===b)return S;E=w=T}}return S.push(h.slice(w)),S}]})},function(t,e,n){var r=n(4),i=n(119).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(31)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(164),i=n(50);t.exports=n(83)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(164),i=n(50);t.exports=n(83)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(4),o=n(30)(0),a=n(16),s=n(38),u=n(144),c=n(165),l=n(7),f=n(50),h=n(50),p=!i.ActiveXObject&&"ActiveXObject"in i,d=s.getWeak,m=Object.isExtensible,y=c.ufstore,v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(l(t)){var e=d(t);return!0===e?y(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,"WeakMap"),t,e)}},b=t.exports=n(83)("WeakMap",v,g,c,!0,!0);h&&p&&(u((r=c.getConstructor(v,"WeakMap")).prototype,g),s.NEED=!0,o(["delete","has","get","set"],function(t){var e=b.prototype,n=e[t];a(e,t,function(e,i){if(l(e)&&!m(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(165),i=n(50);n(83)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(1),i=n(84),o=n(120),a=n(6),s=n(45),u=n(9),c=n(7),l=n(4).ArrayBuffer,f=n(65),h=o.ArrayBuffer,p=o.DataView,d=i.ABV&&l.isView,m=h.prototype.slice,y=i.VIEW;r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||c(t)&&y in t}}),r(r.P+r.U+r.F*n(5)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,h))(u(i-r)),c=new p(this),l=new p(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(59)("ArrayBuffer")},function(t,e,n){var r=n(1);r(r.G+r.W+r.F*!n(84).ABV,{DataView:n(120).DataView})},function(t,e,n){n(33)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(33)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(33)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(1),i=n(26),o=n(6),a=(n(4).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(5)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(1),i=n(46),o=n(26),a=n(6),s=n(7),u=n(5),c=n(146),l=(n(4).Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!u(function(){l(function(){})});r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(12),i=n(1),o=n(6),a=n(37);i(i.S+i.F*n(5)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),i=n(28).f,o=n(6);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(1),i=n(6),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(153)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(28),i=n(48),o=n(20),a=n(1),s=n(7),u=n(6);a(a.S,"Reflect",{get:function t(e,n){var a,c,l=arguments.length<3?e:arguments[2];return u(e)===l?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(e))?t(c,n,l):void 0}})},function(t,e,n){var r=n(28),i=n(1),o=n(6);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(1),i=n(48),o=n(6);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),i=n(6),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(167)})},function(t,e,n){var r=n(1),i=n(6),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(12),i=n(28),o=n(48),a=n(20),s=n(1),u=n(41),c=n(6),l=n(7);s(s.S,"Reflect",{set:function t(e,n,s){var f,h,p=arguments.length<4?e:arguments[3],d=i.f(c(e),n);if(!d){if(l(h=o(e)))return t(h,n,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!l(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var r=n(1),i=n(101);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(344),t.exports=n(10).Array.includes},function(t,e,n){"use strict";var r=n(1),i=n(74)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(49)("includes")},function(t,e,n){n(346),t.exports=n(10).Array.flatMap},function(t,e,n){"use strict";var r=n(1),i=n(347),o=n(14),a=n(9),s=n(26),u=n(155);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(49)("flatMap")},function(t,e,n){"use strict";var r=n(76),i=n(7),o=n(9),a=n(25),s=n(8)("isConcatSpreadable");t.exports=function t(e,n,u,c,l,f,h,p){for(var d,m,y=l,v=0,g=!!h&&a(h,p,3);v<c;){if(v in u){if(d=g?g(u[v],v,n):u[v],m=!1,i(d)&&(m=void 0!==(m=d[s])?!!m:r(d)),m&&f>0)y=t(e,n,d,o(d.length),y,f-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}v++}return y}},function(t,e,n){n(349),t.exports=n(10).String.padStart},function(t,e,n){"use strict";var r=n(1),i=n(168),o=n(82),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(351),t.exports=n(10).String.padEnd},function(t,e,n){"use strict";var r=n(1),i=n(168),o=n(82),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(353),t.exports=n(10).String.trimLeft},function(t,e,n){"use strict";n(57)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){n(355),t.exports=n(10).String.trimRight},function(t,e,n){"use strict";n(57)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(357),t.exports=n(97).f("asyncIterator")},function(t,e,n){n(140)("asyncIterator")},function(t,e,n){n(359),t.exports=n(10).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(1),i=n(167),o=n(22),a=n(28),s=n(113);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,e=c[f++]))&&s(l,e,n);return l}})},function(t,e,n){n(361),t.exports=n(10).Object.values},function(t,e,n){var r=n(1),i=n(169)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){n(363),t.exports=n(10).Object.entries},function(t,e,n){var r=n(1),i=n(169)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(161),n(365),t.exports=n(10).Promise.finally},function(t,e,n){"use strict";var r=n(1),i=n(10),o=n(4),a=n(65),s=n(163);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){n(367),n(368),n(369),t.exports=n(10)},function(t,e,n){var r=n(4),i=n(1),o=n(82),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(1),i=n(119);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(116),i=n(44),o=n(16),a=n(4),s=n(21),u=n(58),c=n(8),l=c("iterator"),f=c("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),m=0;m<d.length;m++){var y,v=d[m],g=p[v],b=a[v],w=b&&b.prototype;if(w&&(w[l]||s(w,l,h),w[f]||s(w,f,v),u[v]=h,g))for(y in r)w[y]||o(w,y,r[y],!0)}},function(t,e,n){n(371),t.exports=n(171).global},function(t,e,n){var r=n(372);r(r.G,{global:n(121)})},function(t,e,n){var r=n(121),i=n(171),o=n(373),a=n(375),s=n(382),u=function(t,e,n){var c,l,f,h=t&u.F,p=t&u.G,d=t&u.S,m=t&u.P,y=t&u.B,v=t&u.W,g=p?i:i[e]||(i[e]={}),b=g.prototype,w=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(l=!h&&w&&void 0!==w[c])&&s(g,c)||(f=l?w[c]:n[c],g[c]=p&&"function"!=typeof w[c]?n[c]:y&&l?o(f,r):v&&w[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((g.virtual||(g.virtual={}))[c]=f,t&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(374);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(376),i=n(381);t.exports=n(123)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(377),i=n(378),o=n(380),a=Object.defineProperty;e.f=n(123)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(122);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(123)&&!n(172)(function(){return 7!=Object.defineProperty(n(379)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(122),i=n(121).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(122);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";"undefined"==typeof Promise&&(n(384).enable(),window.Promise=n(386)),"undefined"!=typeof window&&n(387),Object.assign=n(124),n(388),n(425)},function(t,e,n){"use strict";var r=n(173),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._l=null,r._m=null}function s(t,e){return e.some(function(e){return t instanceof e})}e.disable=a,e.enable=function(t){t=t||{},o&&a();o=!0;var e=0,n=0,u={};function c(e){(t.allRejections||s(u[e].error,t.whitelist||i))&&(u[e].displayId=n++,t.onUnhandled?(u[e].logged=!0,t.onUnhandled(u[e].displayId,u[e].error)):(u[e].logged=!0,function(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}(u[e].displayId,u[e].error)))}r._l=function(e){2===e._i&&u[e._o]&&(u[e._o].logged?function(e){u[e].logged&&(t.onHandled?t.onHandled(u[e].displayId,u[e].error):u[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[e].displayId+".")))}(e._o):clearTimeout(u[e._o].timeout),delete u[e._o])},r._m=function(t,n){0===t._h&&(t._o=e++,u[t._o]={displayId:null,error:n,timeout:setTimeout(c.bind(null,t._o),s(n,i)?100:2e3),logged:!1})}}},function(t,e,n){"use strict";(function(e){function n(t){i.length||(r(),!0),i[i.length]=t}t.exports=n;var r,i=[],o=0,a=1024;function s(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>a){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0,!1}var u,c,l,f=void 0!==e?e:self,h=f.MutationObserver||f.WebKitMutationObserver;function p(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}"function"==typeof h?(u=1,c=new h(s),l=document.createTextNode(""),c.observe(l,{characterData:!0}),r=function(){u=-u,l.data=u}):r=p(s),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n(51))},function(t,e,n){"use strict";var r=n(173);t.exports=r;var i=l(!0),o=l(!1),a=l(null),s=l(void 0),u=l(0),c=l("");function l(t){var e=new r(r._n);return e._i=1,e._j=t,e}r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return s;if(!0===t)return i;if(!1===t)return o;if(0===t)return u;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return l(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){if(0===e.length)return t([]);var i=e.length;function o(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._i;)s=s._j;return 1===s._i?o(a,s._j):(2===s._i&&n(s._j),void s.then(function(t){o(a,t)},n))}var u=s.then;if("function"==typeof u)return void new r(u.bind(s)).then(function(t){o(a,t)},n)}e[a]=s,0==--i&&t(e)}for(var a=0;a<e.length;a++)o(a,e[a])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",function(){return c}),n.d(e,"Request",function(){return y}),n.d(e,"Response",function(){return g}),n.d(e,"DOMException",function(){return w}),n.d(e,"fetch",function(){return E});var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function h(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,r=l(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=f(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=a(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[a(t)]},c.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},c.prototype.set=function(t,e){this.map[a(t)]=s(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),u(t)},c.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),u(t)},c.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),u(t)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var n,r,i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},d.call(y.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];g.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})};var w=self.DOMException;try{new w}catch(t){(w=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function E(t,e){return new Promise(function(n,i){var o=new y(t,e);if(o.signal&&o.signal.aborted)return i(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new g(i,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new w("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}E.polyfill=!0,self.fetch||(self.fetch=E,self.Headers=c,self.Request=y,self.Response=g)},function(t,e,n){t.exports=n(389),n(421),n(422),n(423),n(424)},function(t,e,n){n(390),n(397),n(399),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420);var r=n(90);t.exports=r.Symbol},function(t,e,n){"use strict";var r=n(66),i=n(34),o=n(134),a=n(35),s=n(70),u=n(91),c=n(183),l=n(184),f=n(396),h=n(19)("isConcatSpreadable"),p=!i(function(){var t=[];return t[h]=!1,t.concat()[0]!==t}),d=f("concat"),m=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!p||!d},{concat:function(t){var e,n,r,i,o,a=s(this),f=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],m(o)){if(h+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in o&&c(f,h,o[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,h++,o)}return f.length=h,f}})},function(t,e,n){var r=n(18),i=n(178),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},function(t,e,n){var r=n(180),i=n(131),o=n(182),a=n(54);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(68),i=n(91),o=n(394),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(132),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(34),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(34),i=n(19)("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){var r=n(86),i=n(398),o=Object.prototype;i!==o.toString&&r(o,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(186),i={};i[n(19)("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(t,e,n){"use strict";var r=n(66),i=n(18),o=n(87),a=n(52),s=n(185),u=n(34),c=n(24),l=n(134),f=n(35),h=n(54),p=n(70),d=n(68),m=n(85),y=n(67),v=n(187),g=n(188),b=n(131),w=n(402),E=n(182),S=n(125),T=n(39),_=n(174),I=n(53),k=n(86),C=n(69),N=n(88),A=n(89),O=n(130),x=n(19),P=n(189),D=n(13),R=n(71),M=n(129),L=n(403).forEach,F=N("hidden"),U=x("toPrimitive"),j=M.set,B=M.getterFor("Symbol"),V=Object.prototype,q=i.Symbol,W=i.JSON,K=W&&W.stringify,z=S.f,G=T.f,H=w.f,Q=_.f,Y=C("symbols"),X=C("op-symbols"),$=C("string-to-symbol-registry"),J=C("symbol-to-string-registry"),Z=C("wks"),tt=i.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=a&&u(function(){return 7!=v(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=z(V,e);r&&delete V[e],G(t,e,n),r&&t!==V&&G(V,e,r)}:G,rt=function(t,e){var n=Y[t]=v(q.prototype);return j(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},it=s&&"symbol"==typeof q.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},ot=function(t,e,n){t===V&&ot(X,e,n),h(t);var r=m(e,!0);return h(n),c(Y,r)?(n.enumerable?(c(t,F)&&t[F][r]&&(t[F][r]=!1),n=v(n,{enumerable:y(0,!1)})):(c(t,F)||G(t,F,y(1,{})),t[F][r]=!0),nt(t,r,n)):G(t,r,n)},at=function(t,e){h(t);var n=d(e),r=g(n).concat(lt(n));return L(r,function(e){a&&!st.call(n,e)||ot(t,e,n[e])}),t},st=function(t){var e=m(t,!0),n=Q.call(this,e);return!(this===V&&c(Y,e)&&!c(X,e))&&(!(n||!c(this,e)||!c(Y,e)||c(this,F)&&this[F][e])||n)},ut=function(t,e){var n=d(t),r=m(e,!0);if(n!==V||!c(Y,r)||c(X,r)){var i=z(n,r);return!i||!c(Y,r)||c(n,F)&&n[F][r]||(i.enumerable=!0),i}},ct=function(t){var e=H(d(t)),n=[];return L(e,function(t){c(Y,t)||c(A,t)||n.push(t)}),n},lt=function(t){var e=t===V,n=H(e?X:d(t)),r=[];return L(n,function(t){!c(Y,t)||e&&!c(V,t)||r.push(Y[t])}),r};s||(k((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=O(t),n=function(t){this===V&&n.call(X,t),c(this,F)&&c(this[F],e)&&(this[F][e]=!1),nt(this,e,y(1,t))};return a&&et&&nt(V,e,{configurable:!0,set:n}),rt(e,t)}).prototype,"toString",function(){return B(this).tag}),_.f=st,T.f=ot,S.f=ut,b.f=w.f=ct,E.f=lt,a&&(G(q.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),o||k(V,"propertyIsEnumerable",st,{unsafe:!0})),P.f=function(t){return rt(x(t),t)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:q}),L(g(Z),function(t){D(t)}),r({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(c($,e))return $[e];var n=q(e);return $[e]=n,J[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(c(J,t))return J[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?v(t):at(v(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ct,getOwnPropertySymbols:lt}),r({target:"Object",stat:!0,forced:u(function(){E.f(1)})},{getOwnPropertySymbols:function(t){return E.f(p(t))}}),W&&r({target:"JSON",stat:!0,forced:!s||u(function(){var t=q();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(f(e)||void 0!==t)&&!it(t))return l(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!it(e))return e}),r[1]=e,K.apply(W,r)}}),q.prototype[U]||I(q.prototype,U,q.prototype.valueOf),R(q,"Symbol"),A[F]=!0},function(t,e,n){var r=n(52),i=n(39),o=n(54),a=n(188);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(180);t.exports=r("document","documentElement")},function(t,e,n){var r=n(68),i=n(131).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(190),i=n(175),o=n(70),a=n(91),s=n(184),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f;return function(p,d,m,y){for(var v,g,b=o(p),w=i(b),E=r(d,m,3),S=a(w.length),T=0,_=y||s,I=e?_(p,S):n?_(p,0):void 0;S>T;T++)if((h||T in w)&&(g=E(v=w[T],T,b),t))if(e)I[T]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:u.call(I,v)}else if(l)return!1;return f?-1:c||l?l:I}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){n(13)("asyncIterator")},function(t,e,n){"use strict";var r=n(66),i=n(52),o=n(18),a=n(24),s=n(35),u=n(39).f,c=n(179),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};c(h,l);var p=h.prototype=l.prototype;p.constructor=h;var d=p.toString,m="Symbol(test)"==String(l("test")),y=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=d.call(t);if(a(f,t))return"";var n=m?e.slice(7,-1):e.replace(y,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(13)("hasInstance")},function(t,e,n){n(13)("isConcatSpreadable")},function(t,e,n){n(13)("iterator")},function(t,e,n){n(13)("match")},function(t,e,n){n(13)("matchAll")},function(t,e,n){n(13)("replace")},function(t,e,n){n(13)("search")},function(t,e,n){n(13)("species")},function(t,e,n){n(13)("split")},function(t,e,n){n(13)("toPrimitive")},function(t,e,n){n(13)("toStringTag")},function(t,e,n){n(13)("unscopables")},function(t,e,n){n(71)(Math,"Math",!0)},function(t,e,n){var r=n(18);n(71)(r.JSON,"JSON",!0)},function(t,e,n){n(13)("dispose")},function(t,e,n){n(13)("observable")},function(t,e,n){n(13)("patternMatch")},function(t,e,n){n(13)("replaceAll")},function(t,e,n){t.exports=n(426)},function(t,e,n){n(427),n(434);var r=n(90);t.exports=r.Array.from},function(t,e,n){"use strict";var r=n(428).charAt,i=n(129),o=n(429),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(132),i=n(127),o=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){"use strict";var r=n(66),i=n(430),o=n(192),a=n(432),s=n(71),u=n(53),c=n(86),l=n(19),f=n(87),h=n(92),p=n(191),d=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,y=l("iterator"),v=function(){return this};t.exports=function(t,e,n,l,p,g,b){i(n,e,l);var w,E,S,T=function(t){if(t===p&&N)return N;if(!m&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},_=e+" Iterator",I=!1,k=t.prototype,C=k[y]||k["@@iterator"]||p&&k[p],N=!m&&C||T(p),A="Array"==e&&k.entries||C;if(A&&(w=o(A.call(new t)),d!==Object.prototype&&w.next&&(f||o(w)===d||(a?a(w,d):"function"!=typeof w[y]&&u(w,y,v)),s(w,_,!0,!0),f&&(h[_]=v))),"values"==p&&C&&"values"!==C.name&&(I=!0,N=function(){return C.call(this)}),f&&!b||k[y]===N||u(k,y,N),h[e]=N,p)if(E={values:T("values"),keys:g?N:T("keys"),entries:T("entries")},b)for(S in E)!m&&!I&&S in k||c(k,S,E[S]);else r({target:e,proto:!0,forced:m||I},E);return E}},function(t,e,n){"use strict";var r=n(191).IteratorPrototype,i=n(187),o=n(67),a=n(71),s=n(92),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},function(t,e,n){var r=n(34);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(54),i=n(433);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(35);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(66),i=n(435);r({target:"Array",stat:!0,forced:!n(439)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var r=n(190),i=n(70),o=n(436),a=n(437),s=n(91),u=n(183),c=n(438);t.exports=function(t){var e,n,l,f,h=i(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,y=void 0!==m,v=0,g=c(h);if(y&&(m=r(m,d>2?arguments[2]:void 0,2)),null==g||p==Array&&a(g))for(n=new p(e=s(h.length));e>v;v++)u(n,v,y?m(h[v],v):h[v]);else for(f=g.call(h),n=new p;!(l=f.next()).done;v++)u(n,v,y?o(f,m,[l.value,v],!0):l.value);return n.length=v,n}},function(t,e,n){var r=n(54);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(19),i=n(92),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r=n(186),i=n(92),o=n(19)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(19)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){"use strict";
/** @license React v16.9.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(124),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var v="function"==typeof Symbol&&Symbol.iterator;function g(t){for(var e=t.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return t.message="Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(t,e,n){this.props=t,this.context=e,this.refs=w,this.updater=n||b}function S(){}function T(t,e,n){this.props=t,this.context=e,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw g(Error(85));this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},S.prototype=E.prototype;var _=T.prototype=new S;_.constructor=T,r(_,E.prototype),_.isPureReactComponent=!0;var I={current:null},k={suspense:null},C={current:null},N=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,n){var r=void 0,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)N.call(e,r)&&!A.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:C.current}}function x(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,D=[];function R(t,e,n,r){if(D.length){var i=D.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function L(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+F(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+F(s=e[c],c);u+=t(s,l,r,i)}else if(l=null===e||"object"!=typeof e?null:"function"==typeof(l=v&&e[v]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+F(s,c++),r,i);else if("object"===s)throw r=""+e,g(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function F(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function U(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,r,n,function(t){return t}):null!=t&&(x(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function B(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),L(t,j,e=R(e,o,r,i)),M(e)}function V(){var t=I.current;if(null===t)throw g(Error(321));return t}var q={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return B(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;L(t,U,e=R(null,null,e,n)),M(e)},count:function(t){return L(t,function(){return null},null)},toArray:function(t){var e=[];return B(t,e,null,function(t){return t}),e},only:function(t){if(!x(t))throw g(Error(143));return t}},createRef:function(){return{current:null}},Component:E,PureComponent:T,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:h,render:t}},lazy:function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:m,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return V().useCallback(t,e)},useContext:function(t,e){return V().useContext(t,e)},useEffect:function(t,e){return V().useEffect(t,e)},useImperativeHandle:function(t,e,n){return V().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return V().useLayoutEffect(t,e)},useMemo:function(t,e){return V().useMemo(t,e)},useReducer:function(t,e,n){return V().useReducer(t,e,n)},useRef:function(t){return V().useRef(t)},useState:function(t){return V().useState(t)},Fragment:s,Profiler:c,StrictMode:u,Suspense:p,unstable_SuspenseList:d,createElement:O,cloneElement:function(t,e,n){if(null==t)throw g(Error(267),t);var i=void 0,a=r({},t.props),s=t.key,u=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,c=C.current),void 0!==e.key&&(s=""+e.key);var l=void 0;for(i in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)N.call(e,i)&&!A.hasOwnProperty(i)&&(a[i]=void 0===e[i]&&void 0!==l?l[i]:e[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:t.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(t){var e=O.bind(null,t);return e.type=t,e},isValidElement:x,version:"16.9.0",unstable_withSuspenseConfig:function(t,e){var n=k.suspense;k.suspense=void 0===e?null:e;try{t()}finally{k.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentBatchConfig:k,ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r}},W={default:q},K=W&&q||W;t.exports=K.default||K},function(t,e,n){"use strict";
/** @license React v16.9.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(124),o=n(442);function a(t){for(var e=t.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return t.message="Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",t}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(!(-1<n))throw a(Error(96),t);if(!f[n]){if(!e.extractEvents)throw a(Error(97),t);for(var r in f[n]=e,n=e.eventTypes){var i=void 0,o=n[r],c=e,p=r;if(h.hasOwnProperty(p))throw a(Error(99),p);h[p]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&l(d[i],c,p);i=!0}else o.registrationName?(l(o.registrationName,c,p),i=!0):i=!1;if(!i)throw a(Error(98),r,t)}}}}function l(t,e,n){if(p[t])throw a(Error(100),t);p[t]=e,d[t]=e.eventTypes[n].dependencies}var f=[],h={},p={},d={};var m=!1,y=null,v=!1,g=null,b={onError:function(t){m=!0,y=t}};function w(t,e,n,r,i,o,a,s,u){m=!1,y=null,function(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}.apply(b,arguments)}var E=null,S=null,T=null;function _(t,e,n){var r=t.type||"unknown-event";t.currentTarget=T(n),function(t,e,n,r,i,o,s,u,c){if(w.apply(this,arguments),m){if(!m)throw a(Error(198));var l=y;m=!1,y=null,v||(v=!0,g=l)}}(r,e,void 0,t),t.currentTarget=null}function I(t,e){if(null==e)throw a(Error(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function k(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var C=null;function N(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)_(t,e[r],n[r]);else e&&_(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function A(t){if(null!==t&&(C=I(C,t)),t=C,C=null,t){if(k(t,N),C)throw a(Error(95));if(v)throw t=g,v=!1,g=null,t}}var O={injectEventPluginOrder:function(t){if(s)throw a(Error(101));s=Array.prototype.slice.call(t),c()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!u.hasOwnProperty(e)||u[e]!==r){if(u[e])throw a(Error(102),e);u[e]=r,n=!0}}n&&c()}};function x(t,e){var n=t.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw a(Error(231),e,typeof n);return n}var P=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+P,R="__reactEventHandlers$"+P;function M(t){if(t[D])return t[D];for(;!t[D];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[D]).tag||6===t.tag?t:null}function L(t){return!(t=t[D])||5!==t.tag&&6!==t.tag?null:t}function F(t){if(5===t.tag||6===t.tag)return t.stateNode;throw a(Error(33))}function U(t){return t[R]||null}function j(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function B(t,e,n){(e=x(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=I(n._dispatchListeners,e),n._dispatchInstances=I(n._dispatchInstances,t))}function V(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=j(e);for(e=n.length;0<e--;)B(n[e],"captured",t);for(e=0;e<n.length;e++)B(n[e],"bubbled",t)}}function q(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=x(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,e),n._dispatchInstances=I(n._dispatchInstances,t))}function W(t){t&&t.dispatchConfig.registrationName&&q(t._targetInst,null,t)}function K(t){k(t,V)}var z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function G(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var H={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},Q={},Y={};function X(t){if(Q[t])return Q[t];if(!H[t])return t;var e,n=H[t];for(e in n)if(n.hasOwnProperty(e)&&e in Y)return Q[t]=n[e];return t}z&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete H.animationend.animation,delete H.animationiteration.animation,delete H.animationstart.animation),"TransitionEvent"in window||delete H.transitionend.transition);var $=X("animationend"),J=X("animationiteration"),Z=X("animationstart"),tt=X("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,rt=null,it=null;function ot(){if(it)return it;var t,e,n=rt,r=n.length,i="value"in nt?nt.value:nt.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return it=i.slice(t,1<e?1-e:void 0)}function at(){return!0}function st(){return!1}function ut(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function ct(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function lt(t){if(!(t instanceof this))throw a(Error(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function ft(t){t.eventPool=[],t.getPooled=ct,t.release=lt}i(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,ft(n),n},ft(ut);var ht=ut.extend({data:null}),pt=ut.extend({data:null}),dt=[9,13,27,32],mt=z&&"CompositionEvent"in window,yt=null;z&&"documentMode"in document&&(yt=document.documentMode);var vt=z&&"TextEvent"in window&&!yt,gt=z&&(!mt||yt&&8<yt&&11>=yt),bt=String.fromCharCode(32),wt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Et=!1;function St(t,e){switch(t){case"keyup":return-1!==dt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Tt(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var _t=!1;var It={eventTypes:wt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(mt)t:{switch(t){case"compositionstart":i=wt.compositionStart;break t;case"compositionend":i=wt.compositionEnd;break t;case"compositionupdate":i=wt.compositionUpdate;break t}i=void 0}else _t?St(t,n)&&(i=wt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=wt.compositionStart);return i?(gt&&"ko"!==n.locale&&(_t||i!==wt.compositionStart?i===wt.compositionEnd&&_t&&(o=ot()):(rt="value"in(nt=r)?nt.value:nt.textContent,_t=!0)),i=ht.getPooled(i,e,n,r),o?i.data=o:null!==(o=Tt(n))&&(i.data=o),K(i),o=i):o=null,(t=vt?function(t,e){switch(t){case"compositionend":return Tt(e);case"keypress":return 32!==e.which?null:(Et=!0,bt);case"textInput":return(t=e.data)===bt&&Et?null:t;default:return null}}(t,n):function(t,e){if(_t)return"compositionend"===t||!mt&&St(t,e)?(t=ot(),it=rt=nt=null,_t=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=pt.getPooled(wt.beforeInput,e,n,r)).data=t,K(e)):e=null,null===o?e:null===e?o:[o,e]}},kt=null,Ct=null,Nt=null;function At(t){if(t=S(t)){if("function"!=typeof kt)throw a(Error(280));var e=E(t.stateNode);kt(t.stateNode,t.type,e)}}function Ot(t){Ct?Nt?Nt.push(t):Nt=[t]:Ct=t}function xt(){if(Ct){var t=Ct,e=Nt;if(Nt=Ct=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Pt(t,e){return t(e)}function Dt(t,e,n,r){return t(e,n,r)}function Rt(){}var Mt=Pt,Lt=!1;function Ft(){null===Ct&&null===Nt||(Rt(),xt())}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ut[t.type]:"textarea"===e}function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Vt(t){if(!z)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}function qt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Wt(t){t._valueTracker||(t._valueTracker=function(t){var e=qt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Kt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var zt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;zt.hasOwnProperty("ReactCurrentDispatcher")||(zt.ReactCurrentDispatcher={current:null}),zt.hasOwnProperty("ReactCurrentBatchConfig")||(zt.ReactCurrentBatchConfig={suspense:null});var Gt=/^(.*)[\\\/]/,Ht="function"==typeof Symbol&&Symbol.for,Qt=Ht?Symbol.for("react.element"):60103,Yt=Ht?Symbol.for("react.portal"):60106,Xt=Ht?Symbol.for("react.fragment"):60107,$t=Ht?Symbol.for("react.strict_mode"):60108,Jt=Ht?Symbol.for("react.profiler"):60114,Zt=Ht?Symbol.for("react.provider"):60109,te=Ht?Symbol.for("react.context"):60110,ee=Ht?Symbol.for("react.concurrent_mode"):60111,ne=Ht?Symbol.for("react.forward_ref"):60112,re=Ht?Symbol.for("react.suspense"):60113,ie=Ht?Symbol.for("react.suspense_list"):60120,oe=Ht?Symbol.for("react.memo"):60115,ae=Ht?Symbol.for("react.lazy"):60116;Ht&&Symbol.for("react.fundamental"),Ht&&Symbol.for("react.responder");var se="function"==typeof Symbol&&Symbol.iterator;function ue(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=se&&t[se]||t["@@iterator"])?t:null}function ce(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case Xt:return"Fragment";case Yt:return"Portal";case Jt:return"Profiler";case $t:return"StrictMode";case re:return"Suspense";case ie:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case te:return"Context.Consumer";case Zt:return"Context.Provider";case ne:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case oe:return ce(t.type);case ae:if(t=1===t._status?t._result:null)return ce(t)}return null}function le(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=ce(t.type);n=null,r&&(n=ce(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Gt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he=Object.prototype.hasOwnProperty,pe={},de={};function me(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new me(t,0,!1,t,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new me(e,1,!1,t[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new me(t,2,!1,t.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new me(t,2,!1,t,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new me(t,3,!1,t.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new me(t,3,!0,t,null,!1)}),["capture","download"].forEach(function(t){ye[t]=new me(t,4,!1,t,null,!1)}),["cols","rows","size","span"].forEach(function(t){ye[t]=new me(t,6,!1,t,null,!1)}),["rowSpan","start"].forEach(function(t){ye[t]=new me(t,5,!1,t.toLowerCase(),null,!1)});var ve=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}function be(t,e,n,r){var i=ye.hasOwnProperty(e)?ye[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!he.call(de,t)||!he.call(pe,t)&&(fe.test(t)?de[t]=!0:(pe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function we(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Ee(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Se(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=we(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Te(t,e){null!=(e=e.checked)&&be(t,"checked",e,!1)}function _e(t,e){Te(t,e);var n=we(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?ke(t,e.type,n):e.hasOwnProperty("defaultValue")&&ke(t,e.type,we(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ie(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function ke(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ve,ge);ye[e]=new me(e,1,!1,t,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ve,ge);ye[e]=new me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ve,ge);ye[e]=new me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new me(t,1,!1,t.toLowerCase(),null,!1)}),ye.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(t){ye[t]=new me(t,1,!1,t.toLowerCase(),null,!0)});var Ce={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ne(t,e,n){return(t=ut.getPooled(Ce.change,t,e,n)).type="change",Ot(n),K(t),t}var Ae=null,Oe=null;function xe(t){A(t)}function Pe(t){if(Kt(F(t)))return t}function De(t,e){if("change"===t)return e}var Re=!1;function Me(){Ae&&(Ae.detachEvent("onpropertychange",Le),Oe=Ae=null)}function Le(t){if("value"===t.propertyName&&Pe(Oe))if(t=Ne(Oe,t,Bt(t)),Lt)A(t);else{Lt=!0;try{Pt(xe,t)}finally{Lt=!1,Ft()}}}function Fe(t,e,n){"focus"===t?(Me(),Oe=n,(Ae=e).attachEvent("onpropertychange",Le)):"blur"===t&&Me()}function Ue(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Pe(Oe)}function je(t,e){if("click"===t)return Pe(e)}function Be(t,e){if("input"===t||"change"===t)return Pe(e)}z&&(Re=Vt("input")&&(!document.documentMode||9<document.documentMode));var Ve={eventTypes:Ce,_isInputEventSupported:Re,extractEvents:function(t,e,n,r){var i=e?F(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=De:jt(i)?Re?o=Be:(o=Ue,a=Fe):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=je),o&&(o=o(t,e)))return Ne(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&ke(i,"number",i.value)}},qe=ut.extend({view:null,detail:null}),We={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ke(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=We[t])&&!!e[t]}function ze(){return Ke}var Ge=0,He=0,Qe=!1,Ye=!1,Xe=qe.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ze,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ge;return Ge=t.screenX,Qe?"mousemove"===t.type?t.screenX-e:0:(Qe=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=He;return He=t.screenY,Ye?"mousemove"===t.type?t.screenY-e:0:(Ye=!0,0)}}),$e=Xe.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Je={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ze={eventTypes:Je,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?M(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===t||"mouseover"===t?(a=Xe,s=Je.mouseLeave,u=Je.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=$e,s=Je.pointerLeave,u=Je.pointerEnter,c="pointer");var l=null==o?i:F(o);if(i=null==e?i:F(e),(t=a.getPooled(s,o,n,r)).type=c+"leave",t.target=l,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=e,o&&r)t:{for(i=r,c=0,a=e=o;a;a=j(a))c++;for(a=0,u=i;u;u=j(u))a++;for(;0<c-a;)e=j(e),c--;for(;0<a-c;)i=j(i),a--;for(;c--;){if(e===i||e===i.alternate)break t;e=j(e),i=j(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)e.push(o),o=j(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=j(r);for(r=0;r<e.length;r++)q(e[r],"bubbled",t);for(r=o.length;0<r--;)q(o[r],"captured",n);return[t,n]}};function tn(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e}var en=Object.prototype.hasOwnProperty;function nn(t,e){if(tn(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!en.call(e,n[r])||!tn(t[n[r]],e[n[r]]))return!1;return!0}function rn(t,e){return{responder:t,props:e}}function on(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function an(t){if(2!==on(t))throw a(Error(188))}function sn(t){if(!(t=function(t){var e=t.alternate;if(!e){if(3===(e=on(t)))throw a(Error(188));return 1===e?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return an(i),t;if(o===r)return an(i),e;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}new Map,new Map,new Set,new Map;var un=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=ut.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ln=qe.extend({relatedTarget:null});function fn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}for(var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=qe.extend({key:function(t){if(t.key){var e=hn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=fn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?pn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ze,charCode:function(t){return"keypress"===t.type?fn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?fn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),mn=Xe.extend({dataTransfer:null}),yn=qe.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ze}),vn=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Xe.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),bn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[$,"animationEnd",2],[J,"animationIteration",2],[Z,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[tt,"transitionEnd",2],["waiting","waiting",2]],wn={},En={},Sn=0;Sn<bn.length;Sn++){var Tn=bn[Sn],_n=Tn[0],In=Tn[1],kn=Tn[2],Cn="on"+(In[0].toUpperCase()+In.slice(1)),Nn={phasedRegistrationNames:{bubbled:Cn,captured:Cn+"Capture"},dependencies:[_n],eventPriority:kn};wn[In]=Nn,En[_n]=Nn}var An={eventTypes:wn,getEventPriority:function(t){return void 0!==(t=En[t])?t.eventPriority:2},extractEvents:function(t,e,n,r){var i=En[t];if(!i)return null;switch(t){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":t=dn;break;case"blur":case"focus":t=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Xe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=yn;break;case $:case J:case Z:t=un;break;case tt:t=vn;break;case"scroll":t=qe;break;case"wheel":t=gn;break;case"copy":case"cut":case"paste":t=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=$e;break;default:t=ut}return K(e=t.getPooled(i,e,n,r)),e}},On=An.getEventPriority,xn=[];function Pn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=M(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Bt(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<f.length;s++){var u=f[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=I(a,u))}A(a)}}var Dn=!0;function Rn(t,e){Mn(e,t,!1)}function Mn(t,e,n){switch(On(e)){case 0:var r=function(t,e,n){Lt||Rt();var r=Ln,i=Lt;Lt=!0;try{Dt(r,t,e,n)}finally{(Lt=i)||Ft()}}.bind(null,e,1);break;case 1:r=function(t,e,n){Ln(t,e,n)}.bind(null,e,1);break;default:r=Ln.bind(null,e,1)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Ln(t,e,n){if(Dn){if(null===(e=M(e=Bt(n)))||"number"!=typeof e.tag||2===on(e)||(e=null),xn.length){var r=xn.pop();r.topLevelType=t,r.nativeEvent=n,r.targetInst=e,t=r}else t={topLevelType:t,nativeEvent:n,targetInst:e,ancestors:[]};try{if(n=t,Lt)Pn(n);else{Lt=!0;try{Mt(Pn,n,void 0)}finally{Lt=!1,Ft()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>xn.length&&xn.push(t)}}}var Fn=new("function"==typeof WeakMap?WeakMap:Map);function Un(t){var e=Fn.get(t);return void 0===e&&(e=new Set,Fn.set(t,e)),e}function jn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Bn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vn(t,e){var n,r=Bn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bn(r)}}function qn(){for(var t=window,e=jn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=jn((t=e.contentWindow).document)}return e}function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Kn=z&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Hn=null,Qn=null,Yn=!1;function Xn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Yn||null==Gn||Gn!==jn(n)?null:("selectionStart"in(n=Gn)&&Wn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qn&&nn(Qn,n)?null:(Qn=n,(t=ut.getPooled(zn.select,Hn,t,e)).type="select",t.target=Gn,K(t),t))}var $n={eventTypes:zn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Un(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?F(e):window,t){case"focus":(jt(o)||"true"===o.contentEditable)&&(Gn=o,Hn=e,Qn=null);break;case"blur":Qn=Hn=Gn=null;break;case"mousedown":Yn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yn=!1,Xn(n,r);case"selectionchange":if(Kn)break;case"keydown":case"keyup":return Xn(n,r)}return null}};function Jn(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Zn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+we(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function tr(t,e){if(null!=e.dangerouslySetInnerHTML)throw a(Error(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function er(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw a(Error(92));if(Array.isArray(e)){if(!(1>=e.length))throw a(Error(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:we(n)}}function nr(t,e){var n=we(e.value),r=we(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function rr(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=U,S=L,T=F,O.injectEventPluginsByName({SimpleEventPlugin:An,EnterLeaveEventPlugin:Ze,ChangeEventPlugin:Ve,SelectEventPlugin:$n,BeforeInputEventPlugin:It});var ir={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function or(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?or(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var sr=void 0,ur=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==ir.svg||"innerHTML"in t)t.innerHTML=e;else{for((sr=sr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=sr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var lr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];function hr(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||lr.hasOwnProperty(t)&&lr[t]?(""+e).trim():e+"px"}function pr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=hr(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(lr).forEach(function(t){fr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lr[e]=lr[t]})});var dr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(t,e){if(e){if(dr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw a(Error(137),t,"");if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw a(Error(60));if(!("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=e.style&&"object"!=typeof e.style)throw a(Error(62),"")}}function yr(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vr(t,e){var n=Un(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=d[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.has(i)){switch(i){case"scroll":Mn(t,"scroll",!0);break;case"focus":case"blur":Mn(t,"focus",!0),Mn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Vt(i)&&Mn(t,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(i)&&Rn(i,t)}n.add(i)}}}function gr(){}var br=null,wr=null;function Er(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Sr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Tr="function"==typeof setTimeout?setTimeout:void 0,_r="function"==typeof clearTimeout?clearTimeout:void 0;function Ir(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}new Set;var kr=[],Cr=-1;function Nr(t){0>Cr||(t.current=kr[Cr],kr[Cr]=null,Cr--)}function Ar(t,e){kr[++Cr]=t.current,t.current=e}var Or={},xr={current:Or},Pr={current:!1},Dr=Or;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(t){return null!=(t=t.childContextTypes)}function Lr(t){Nr(Pr),Nr(xr)}function Fr(t){Nr(Pr),Nr(xr)}function Ur(t,e,n){if(xr.current!==Or)throw a(Error(168));Ar(xr,e),Ar(Pr,n)}function jr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw a(Error(108),ce(e)||"Unknown",o);return i({},n,r)}function Br(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Or,Dr=xr.current,Ar(xr,e),Ar(Pr,Pr.current),!0}function Vr(t,e,n){var r=t.stateNode;if(!r)throw a(Error(169));n?(e=jr(t,e,Dr),r.__reactInternalMemoizedMergedChildContext=e,Nr(Pr),Nr(xr),Ar(xr,e)):Nr(Pr),Ar(Pr,n)}var qr=o.unstable_runWithPriority,Wr=o.unstable_scheduleCallback,Kr=o.unstable_cancelCallback,zr=o.unstable_shouldYield,Gr=o.unstable_requestPaint,Hr=o.unstable_now,Qr=o.unstable_getCurrentPriorityLevel,Yr=o.unstable_ImmediatePriority,Xr=o.unstable_UserBlockingPriority,$r=o.unstable_NormalPriority,Jr=o.unstable_LowPriority,Zr=o.unstable_IdlePriority,ti={},ei=void 0!==Gr?Gr:function(){},ni=null,ri=null,ii=!1,oi=Hr(),ai=1e4>oi?Hr:function(){return Hr()-oi};function si(){switch(Qr()){case Yr:return 99;case Xr:return 98;case $r:return 97;case Jr:return 96;case Zr:return 95;default:throw a(Error(332))}}function ui(t){switch(t){case 99:return Yr;case 98:return Xr;case 97:return $r;case 96:return Jr;case 95:return Zr;default:throw a(Error(332))}}function ci(t,e){return t=ui(t),qr(t,e)}function li(t,e,n){return t=ui(t),Wr(t,e,n)}function fi(t){return null===ni?(ni=[t],ri=Wr(Yr,pi)):ni.push(t),ti}function hi(){null!==ri&&Kr(ri),pi()}function pi(){if(!ii&&null!==ni){ii=!0;var t=0;try{var e=ni;ci(99,function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}}),ni=null}catch(e){throw null!==ni&&(ni=ni.slice(t+1)),Wr(Yr,hi),e}finally{ii=!1}}}function di(t,e){return 1073741823===e?99:1===e?95:0>=(t=10*(1073741821-e)-10*(1073741821-t))?99:250>=t?98:5250>=t?97:95}function mi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var yi={current:null},vi=null,gi=null,bi=null;function wi(){bi=gi=vi=null}function Ei(t,e){var n=t.type._context;Ar(yi,n._currentValue),n._currentValue=e}function Si(t){var e=yi.current;Nr(yi),t.type._context._currentValue=e}function Ti(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function _i(t,e){vi=t,bi=gi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(ua=!0),t.firstContext=null)}function Ii(t,e){if(bi!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(bi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===gi){if(null===vi)throw a(Error(308));gi=e,vi.dependencies={expirationTime:0,firstContext:e,responders:null}}else gi=gi.next=e;return t._currentValue}var ki=!1;function Ci(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ni(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ai(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Oi(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function xi(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=Ci(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=Ci(t.memoizedState),i=n.updateQueue=Ci(n.memoizedState)):r=t.updateQueue=Ni(i):null===i&&(i=n.updateQueue=Ni(r));null===i||r===i?Oi(r,e):null===r.lastUpdate||null===i.lastUpdate?(Oi(r,e),Oi(i,e)):(Oi(r,e),i.lastUpdate=e)}function Pi(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=Ci(t.memoizedState):Di(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function Di(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Ni(e)),e}function Ri(t,e,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-2049&t.effectTag|64;case 0:if(null==(o="function"==typeof(t=n.payload)?t.call(a,r,o):t))break;return i({},r,o);case 2:ki=!0}return r}function Mi(t,e,n,r,i){ki=!1;for(var o=(e=Di(t,e)).baseState,a=null,s=0,u=e.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(js(l,u.suspenseConfig),c=Ri(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(l=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===l&&(l=u,null===a&&(o=c)),s<f&&(s=f)):(c=Ri(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===l&&(o=c),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=l,t.expirationTime=s,t.memoizedState=c}function Li(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Fi(e.firstEffect,n),e.firstEffect=e.lastEffect=null,Fi(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function Fi(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;if("function"!=typeof n)throw a(Error(191),n);n.call(r)}t=t.nextEffect}}var Ui=zt.ReactCurrentBatchConfig,ji=(new r.Component).refs;function Bi(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Vi={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===on(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ks(),i=Ui.suspense;(i=Ai(r=Cs(r,t,i),i)).payload=e,null!=n&&(i.callback=n),xi(t,i),As(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ks(),i=Ui.suspense;(i=Ai(r=Cs(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),xi(t,i),As(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ks(),r=Ui.suspense;(r=Ai(n=Cs(n,t,r),r)).tag=2,null!=e&&(r.callback=e),xi(t,r),As(t,n)}};function qi(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Wi(t,e,n){var r=!1,i=Or,o=e.contextType;return"object"==typeof o&&null!==o?o=Ii(o):(i=Mr(e)?Dr:xr.current,o=(r=null!=(r=e.contextTypes))?Rr(t,i):Or),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Vi,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ki(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vi.enqueueReplaceState(e,e.state,null)}function zi(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ji;var o=e.contextType;"object"==typeof o&&null!==o?i.context=Ii(o):(o=Mr(e)?Dr:xr.current,i.context=Rr(t,o)),null!==(o=t.updateQueue)&&(Mi(t,o,n,i,r),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Bi(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Vi.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(Mi(t,o,n,i,r),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Gi=Array.isArray;function Hi(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw a(Error(309));r=n.stateNode}if(!r)throw a(Error(147),t);var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ji&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw a(Error(284));if(!n._owner)throw a(Error(290),t)}return t}function Qi(t,e){if("textarea"!==t.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Yi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Zs(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=nu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Hi(t,e,n),r.return=t,r):((r=tu(n.type,n.key,n.props,null,t.mode,r)).ref=Hi(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=ru(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=eu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=nu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case Qt:return(n=tu(e.type,e.key,e.props,null,t.mode,n)).ref=Hi(t,null,e),n.return=t,n;case Yt:return(e=ru(e,t.mode,n)).return=t,e}if(Gi(e)||ue(e))return(e=eu(e,t.mode,n,null)).return=t,e;Qi(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Qt:return n.key===i?n.type===Xt?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case Yt:return n.key===i?l(t,e,n,r):null}if(Gi(n)||ue(n))return null!==i?null:f(t,e,n,r,null);Qi(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Qt:return t=t.get(null===r.key?n:r.key)||null,r.type===Xt?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case Yt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Gi(r)||ue(r))return f(e,t=t.get(n)||null,r,i,null);Qi(e,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=p(i,f,s[m],u);if(null===v){null===f&&(f=y);break}t&&f&&null===v.alternate&&e(i,f),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,f=y}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(y=d(f,i,m,s[m],u))&&(t&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return t&&f.forEach(function(t){return e(i,t)}),c}function y(i,s,u,c){var l=ue(u);if("function"!=typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var f=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(i,m,g.value,c);if(null===b){null===m&&(m=v);break}t&&m&&null===b.alternate&&e(i,m),s=o(b,s,y),null===f?l=b:f.sibling=b,f=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=d(m,i,y,g.value,c))&&(t&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return t&&m.forEach(function(t){return e(i,t)}),l}return function(t,r,o,u){var c="object"==typeof o&&null!==o&&o.type===Xt&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Qt:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===Xt:c.elementType===o.type){n(t,c.sibling),(r=i(c,o.type===Xt?o.props.children:o.props)).ref=Hi(t,c,o),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}o.type===Xt?((r=eu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=tu(o.type,o.key,o.props,null,t.mode,u)).ref=Hi(t,r,o),u.return=t,t=u)}return s(t);case Yt:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=ru(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=nu(o,t.mode,u)).return=t,t=r),s(t);if(Gi(o))return m(t,r,o,u);if(ue(o))return y(t,r,o,u);if(l&&Qi(t,o),void 0===o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,a(Error(152),t.displayName||t.name||"Component")}return n(t,r)}}var Xi=Yi(!0),$i=Yi(!1),Ji={},Zi={current:Ji},to={current:Ji},eo={current:Ji};function no(t){if(t===Ji)throw a(Error(174));return t}function ro(t,e){Ar(eo,e),Ar(to,t),Ar(Zi,Ji);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ar(null,"");break;default:e=ar(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Nr(Zi),Ar(Zi,e)}function io(t){Nr(Zi),Nr(to),Nr(eo)}function oo(t){no(eo.current);var e=no(Zi.current),n=ar(e,t.type);e!==n&&(Ar(to,t),Ar(Zi,n))}function ao(t){to.current===t&&(Nr(Zi),Nr(to))}var so=1,uo=1,co=2,lo={current:0};function fo(t){for(var e=t;null!==e;){if(13===e.tag){if(null!==e.memoizedState)return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ho=0,po=2,mo=4,yo=8,vo=16,go=32,bo=64,wo=128,Eo=zt.ReactCurrentDispatcher,So=0,To=null,_o=null,Io=null,ko=null,Co=null,No=null,Ao=0,Oo=null,xo=0,Po=!1,Do=null,Ro=0;function Mo(){throw a(Error(321))}function Lo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Fo(t,e,n,r,i,o){if(So=o,To=e,Io=null!==t?t.memoizedState:null,Eo.current=null===Io?Xo:$o,e=n(r,i),Po){do{Po=!1,Ro+=1,Io=null!==t?t.memoizedState:null,No=ko,Oo=Co=_o=null,Eo.current=$o,e=n(r,i)}while(Po);Do=null,Ro=0}if(Eo.current=Yo,(t=To).memoizedState=ko,t.expirationTime=Ao,t.updateQueue=Oo,t.effectTag|=xo,t=null!==_o&&null!==_o.next,So=0,No=Co=ko=Io=_o=To=null,Ao=0,Oo=null,xo=0,t)throw a(Error(300));return e}function Uo(){Eo.current=Yo,So=0,No=Co=ko=Io=_o=To=null,Ao=0,Oo=null,xo=0,Po=!1,Do=null,Ro=0}function jo(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Co?ko=Co=t:Co=Co.next=t,Co}function Bo(){if(null!==No)No=(Co=No).next,Io=null!==(_o=Io)?_o.next:null;else{if(null===Io)throw a(Error(310));var t={memoizedState:(_o=Io).memoizedState,baseState:_o.baseState,queue:_o.queue,baseUpdate:_o.baseUpdate,next:null};Co=null===Co?ko=t:Co.next=t,Io=_o.next}return Co}function Vo(t,e){return"function"==typeof e?e(t):e}function qo(t){var e=Bo(),n=e.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=t,0<Ro){var r=n.dispatch;if(null!==Do){var i=Do.get(n);if(void 0!==i){Do.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return tn(o,e.memoizedState)||(ua=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.lastRenderedState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var f=c.expirationTime;f<So?(l||(l=!0,u=s,i=o),f>Ao&&(Ao=f)):(js(f,c.suspenseConfig),o=c.eagerReducer===t?c.eagerState:t(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),tn(o,e.memoizedState)||(ua=!0),e.memoizedState=o,e.baseUpdate=u,e.baseState=i,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function Wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===Oo?(Oo={lastEffect:null}).lastEffect=t.next=t:null===(e=Oo.lastEffect)?Oo.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,Oo.lastEffect=t),t}function Ko(t,e,n,r){var i=jo();xo|=t,i.memoizedState=Wo(e,n,void 0,void 0===r?null:r)}function zo(t,e,n,r){var i=Bo();r=void 0===r?null:r;var o=void 0;if(null!==_o){var a=_o.memoizedState;if(o=a.destroy,null!==r&&Lo(r,a.deps))return void Wo(ho,n,o,r)}xo|=t,i.memoizedState=Wo(e,n,o,r)}function Go(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ho(){}function Qo(t,e,n){if(!(25>Ro))throw a(Error(301));var r=t.alternate;if(t===To||null!==r&&r===To)if(Po=!0,t={expirationTime:So,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Do&&(Do=new Map),void 0===(n=Do.get(e)))Do.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=ks(),o=Ui.suspense;o={expirationTime:i=Cs(i,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var c=e.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,tn(l,c))return}catch(t){}As(t,i)}}var Yo={readContext:Ii,useCallback:Mo,useContext:Mo,useEffect:Mo,useImperativeHandle:Mo,useLayoutEffect:Mo,useMemo:Mo,useReducer:Mo,useRef:Mo,useState:Mo,useDebugValue:Mo,useResponder:Mo},Xo={readContext:Ii,useCallback:function(t,e){return jo().memoizedState=[t,void 0===e?null:e],t},useContext:Ii,useEffect:function(t,e){return Ko(516,wo|bo,t,e)},useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,Ko(4,mo|go,Go.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ko(4,mo|go,t,e)},useMemo:function(t,e){var n=jo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Qo.bind(null,To,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},jo().memoizedState=t},useState:function(t){var e=jo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t}).dispatch=Qo.bind(null,To,t),[e.memoizedState,t]},useDebugValue:Ho,useResponder:rn},$o={readContext:Ii,useCallback:function(t,e){var n=Bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Lo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)},useContext:Ii,useEffect:function(t,e){return zo(516,wo|bo,t,e)},useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,zo(4,mo|go,Go.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zo(4,mo|go,t,e)},useMemo:function(t,e){var n=Bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Lo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:qo,useRef:function(){return Bo().memoizedState},useState:function(t){return qo(Vo)},useDebugValue:Ho,useResponder:rn},Jo=null,Zo=null,ta=!1;function ea(t,e){var n=$s(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function na(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function ra(t){if(ta){var e=Zo;if(e){var n=e;if(!na(t,e)){if(!(e=Ir(n.nextSibling))||!na(t,e))return t.effectTag|=2,ta=!1,void(Jo=t);ea(Jo,n)}Jo=t,Zo=Ir(e.firstChild)}else t.effectTag|=2,ta=!1,Jo=t}}function ia(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;Jo=t}function oa(t){if(t!==Jo)return!1;if(!ta)return ia(t),ta=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Sr(e,t.memoizedProps))for(e=Zo;e;)ea(t,e),e=Ir(e.nextSibling);return ia(t),Zo=Jo?Ir(t.stateNode.nextSibling):null,!0}function aa(){Zo=Jo=null,ta=!1}var sa=zt.ReactCurrentOwner,ua=!1;function ca(t,e,n,r){e.child=null===t?$i(e,null,n,r):Xi(e,t.child,n,r)}function la(t,e,n,r,i){n=n.render;var o=e.ref;return _i(e,i),r=Fo(t,e,n,r,o,i),null===t||ua?(e.effectTag|=1,ca(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Sa(t,e,i))}function fa(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Js(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=tu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ha(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&t.ref===e.ref)?Sa(t,e,o):(e.effectTag|=1,(t=Zs(a,r)).ref=e.ref,t.return=e,e.child=t)}function ha(t,e,n,r,i,o){return null!==t&&nn(t.memoizedProps,r)&&t.ref===e.ref&&(ua=!1,i<o)?Sa(t,e,o):da(t,e,n,r,o)}function pa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function da(t,e,n,r,i){var o=Mr(n)?Dr:xr.current;return o=Rr(e,o),_i(e,i),n=Fo(t,e,n,r,o,i),null===t||ua?(e.effectTag|=1,ca(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Sa(t,e,i))}function ma(t,e,n,r,i){if(Mr(n)){var o=!0;Br(e)}else o=!1;if(_i(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Wi(e,n,r),zi(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ii(c):c=Rr(e,c=Mr(n)?Dr:xr.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ki(e,a,r,c),ki=!1;var h=e.memoizedState;u=a.state=h;var p=e.updateQueue;null!==p&&(Mi(e,p,r,a,i),u=e.memoizedState),s!==r||h!==u||Pr.current||ki?("function"==typeof l&&(Bi(e,n,l,r),u=e.memoizedState),(s=ki||qi(e,n,s,r,h,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:mi(e.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Ii(c):c=Rr(e,c=Mr(n)?Dr:xr.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ki(e,a,r,c),ki=!1,u=e.memoizedState,h=a.state=u,null!==(p=e.updateQueue)&&(Mi(e,p,r,a,i),h=e.memoizedState),s!==r||u!==h||Pr.current||ki?("function"==typeof l&&(Bi(e,n,l,r),h=e.memoizedState),(l=ki||qi(e,n,s,r,u,h,c))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ya(t,e,n,r,o,i)}function ya(t,e,n,r,i,o){pa(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Vr(e,n,!1),Sa(t,e,o);r=e.stateNode,sa.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Xi(e,t.child,null,o),e.child=Xi(e,null,s,o)):ca(t,e,s,o),e.memoizedState=r.state,i&&Vr(e,n,!0),e.child}function va(t){var e=t.stateNode;e.pendingContext?Ur(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ur(0,e.context,!1),ro(t,e.containerInfo)}var ga={};function ba(t,e,n){var r,i=e.mode,o=e.pendingProps,a=lo.current,s=null,u=!1;if((r=0!=(64&e.effectTag))||(r=0!=(a&co)&&(null===t||null!==t.memoizedState)),r?(s=ga,u=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=uo),Ar(lo,a&=so),null===t)if(u){if(o=o.fallback,(t=eu(null,i,0,null)).return=e,0==(2&e.mode))for(u=null!==e.memoizedState?e.child.child:e.child,t.child=u;null!==u;)u.return=t,u=u.sibling;(n=eu(o,i,n,null)).return=e,t.sibling=n,i=t}else i=n=$i(e,null,o.children,n);else{if(null!==t.memoizedState)if(i=(a=t.child).sibling,u){if(o=o.fallback,(n=Zs(a,a.pendingProps)).return=e,0==(2&e.mode)&&(u=null!==e.memoizedState?e.child.child:e.child)!==a.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(o=Zs(i,o,i.expirationTime)).return=e,n.sibling=o,i=n,n.childExpirationTime=0,n=o}else i=n=Xi(e,a.child,o.children,n);else if(a=t.child,u){if(u=o.fallback,(o=eu(null,i,0,null)).return=e,o.child=a,null!==a&&(a.return=o),0==(2&e.mode))for(a=null!==e.memoizedState?e.child.child:e.child,o.child=a;null!==a;)a.return=o,a=a.sibling;(n=eu(u,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,i=o,o.childExpirationTime=0}else n=i=Xi(e,a,o.children,n);e.stateNode=t.stateNode}return e.memoizedState=s,e.child=i,n}function wa(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function Ea(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ca(t,e,r.children,n),0!=((r=lo.current)&co))r=r&so|co,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag){if(null!==t.memoizedState){t.expirationTime<n&&(t.expirationTime=n);var a=t.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),Ti(t.return,n)}}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=so}if(Ar(lo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(r=n.alternate)&&null===fo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wa(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(r=i.alternate)&&null===fo(r)){e.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}wa(e,!0,n,null,o);break;case"together":wa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw a(Error(153));if(null!==e.child){for(n=Zs(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Zs(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Ta(t){t.effectTag|=4}var _a=void 0,Ia=void 0,ka=void 0,Ca=void 0;function Na(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Aa(t){switch(t.tag){case 1:Mr(t.type)&&Lr();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:if(io(),Fr(),0!=(64&(e=t.effectTag)))throw a(Error(285));return t.effectTag=-2049&e|64,t;case 5:return ao(t),null;case 13:return Nr(lo),2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 18:return null;case 19:return Nr(lo),null;case 4:return io(),null;case 10:return Si(t),null;default:return null}}function Oa(t,e){return{value:t,source:e,stack:le(e)}}_a=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(20===n.tag)t.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},ka=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(no(Zi.current),t=null,n){case"input":a=Ee(s,a),r=Ee(s,r),t=[];break;case"option":a=Jn(s,a),r=Jn(s,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=tr(s,a),r=tr(s,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=gr)}mr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(p.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(t||(t=[]),t.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(n,""+l)):"children"===n?c===l||"string"!=typeof l&&"number"!=typeof l||(t=t||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(p.hasOwnProperty(n)?(null!=l&&vr(o,n),t||c===l||(t=[])):(t=t||[]).push(n,l))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&Ta(e)}},Ca=function(t,e,n,r){n!==r&&Ta(e)};var xa="function"==typeof WeakSet?WeakSet:Set;function Pa(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=le(n)),null!==n&&ce(n.type),e=e.value,null!==t&&1===t.tag&&ce(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function Da(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){zs(t,e)}else e.current=null}function Ra(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)!==ho){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&e)!==ho&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Ma(t,e){switch("function"==typeof Ys&&Ys(t),t.tag){case 0:case 11:case 14:case 15:var n=t.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;ci(97<e?97:e,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(t){zs(i,t)}}e=e.next}while(e!==r)})}break;case 1:Da(t),"function"==typeof(e=t.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){zs(t,e)}}(t,e);break;case 5:Da(t);break;case 4:ja(t,e)}}function La(t,e){for(var n=t;;)if(Ma(n,e),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Fa(t){return 5===t.tag||3===t.tag||4===t.tag}function Ua(t){t:{for(var e=t.return;null!==e;){if(Fa(e)){var n=e;break t}e=e.return}throw a(Error(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(cr(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Fa(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){var o=5===i.tag||6===i.tag;if(o||20===i.tag){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=e).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else e.insertBefore(s,n);else r?(8===(u=e).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==o.onclick||(o.onclick=gr)):e.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ja(t,e){for(var n=t,r=!1,i=void 0,o=void 0;;){if(!r){r=n.return;t:for(;;){if(null===r)throw a(Error(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break t;case 3:case 4:i=i.containerInfo,o=!0;break t}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(La(n,e),o){var s=i,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else i.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,La(n,e),o?8===(s=i).nodeType?s.parentNode.removeChild(u):s.removeChild(u):i.removeChild(u);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(Ma(n,e),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:Ra(mo,yo,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[R]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Te(n,r),yr(t,i),e=yr(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?pr(n,u):"dangerouslySetInnerHTML"===s?ur(n,u):"children"===s?cr(n,u):be(n,s,u,e)}switch(t){case"input":_e(n,r);break;case"textarea":nr(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Zn(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Zn(n,!!r.multiple,r.defaultValue,!0):Zn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw a(Error(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,hs=ai()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=hr("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}Va(e);break;case 19:Va(e);break;case 17:case 20:break;default:throw a(Error(163))}}function Va(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new xa),e.forEach(function(e){var r=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),n=ks(),e=Cs(n,t,null),n=di(n,e),null!==(t=Os(t,e))&&xs(t,n,e)}.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}var qa="function"==typeof WeakMap?WeakMap:Map;function Wa(t,e,n){(n=Ai(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ms||(ms=!0,ys=r),Pa(t,e)},n}function Ka(t,e,n){(n=Ai(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return Pa(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===vs?vs=new Set([this]):vs.add(this),Pa(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var za=Math.ceil,Ga=zt.ReactCurrentDispatcher,Ha=zt.ReactCurrentOwner,Qa=0,Ya=8,Xa=16,$a=32,Ja=0,Za=1,ts=2,es=3,ns=4,rs=Qa,is=null,os=null,as=0,ss=Ja,us=1073741823,cs=1073741823,ls=null,fs=!1,hs=0,ps=500,ds=null,ms=!1,ys=null,vs=null,gs=!1,bs=null,ws=90,Es=0,Ss=null,Ts=0,_s=null,Is=0;function ks(){return(rs&(Xa|$a))!==Qa?1073741821-(ai()/10|0):0!==Is?Is:Is=1073741821-(ai()/10|0)}function Cs(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=si();if(0==(4&e))return 99===r?1073741823:1073741822;if((rs&Xa)!==Qa)return as;if(null!==n)t=1073741821-25*(1+((1073741821-t+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:t=1073741823;break;case 98:t=1073741821-10*(1+((1073741821-t+15)/10|0));break;case 97:case 96:t=1073741821-25*(1+((1073741821-t+500)/25|0));break;case 95:t=1;break;default:throw a(Error(326))}return null!==is&&t===as&&--t,t}var Ns=0;function As(t,e){if(50<Ts)throw Ts=0,_s=null,a(Error(185));if(null!==(t=Os(t,e))){t.pingTime=0;var n=si();if(1073741823===e)if((rs&Ya)!==Qa&&(rs&(Xa|$a))===Qa)for(var r=Us(t,1073741823,!0);null!==r;)r=r(!0);else xs(t,99,1073741823),rs===Qa&&hi();else xs(t,n,e);(4&rs)===Qa||98!==n&&99!==n||(null===Ss?Ss=new Map([[t,e]]):(void 0===(n=Ss.get(t))||n>e)&&Ss.set(t,e))}}function Os(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(e>i.firstPendingTime&&(i.firstPendingTime=e),0===(t=i.lastPendingTime)||e<t)&&(i.lastPendingTime=e),i}function xs(t,e,n){if(t.callbackExpirationTime<n){var r=t.callbackNode;null!==r&&r!==ti&&Kr(r),t.callbackExpirationTime=n,1073741823===n?t.callbackNode=fi(Ps.bind(null,t,Us.bind(null,t,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-ai()}),t.callbackNode=li(e,Ps.bind(null,t,Us.bind(null,t,n)),r))}}function Ps(t,e,n){var r=t.callbackNode,i=null;try{return null!==(i=e(n))?Ps.bind(null,t,i):null}finally{null===i&&r===t.callbackNode&&(t.callbackNode=null,t.callbackExpirationTime=0)}}function Ds(){(rs&(1|Xa|$a))===Qa&&(function(){if(null!==Ss){var t=Ss;Ss=null,t.forEach(function(t,e){fi(Us.bind(null,e,t))}),hi()}}(),Ws())}function Rs(t,e){var n=rs;rs|=1;try{return t(e)}finally{(rs=n)===Qa&&hi()}}function Ms(t,e,n,r){var i=rs;rs|=4;try{return ci(98,t.bind(null,e,n,r))}finally{(rs=i)===Qa&&hi()}}function Ls(t,e){var n=rs;rs&=-2,rs|=Ya;try{return t(e)}finally{(rs=n)===Qa&&hi()}}function Fs(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,_r(n)),null!==os)for(n=os.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&Lr();break;case 3:io(),Fr();break;case 5:ao(r);break;case 4:io();break;case 13:case 19:Nr(lo);break;case 10:Si(r)}n=n.return}is=t,os=Zs(t.current,null),as=e,ss=Ja,cs=us=1073741823,ls=null,fs=!1}function Us(t,e,n){if((rs&(Xa|$a))!==Qa)throw a(Error(327));if(t.firstPendingTime<e)return null;if(n&&t.finishedExpirationTime===e)return qs.bind(null,t);if(Ws(),t!==is||e!==as)Fs(t,e);else if(ss===es)if(fs)Fs(t,e);else{var r=t.lastPendingTime;if(r<e)return Us.bind(null,t,r)}if(null!==os){r=rs,rs|=Xa;var i=Ga.current;if(null===i&&(i=Yo),Ga.current=Yo,n){if(1073741823!==e){var o=ks();if(o<e)return rs=r,wi(),Ga.current=i,Us.bind(null,t,o)}}else Is=0;for(;;)try{if(n)for(;null!==os;)os=Bs(os);else for(;null!==os&&!zr();)os=Bs(os);break}catch(n){if(wi(),Uo(),null===(o=os)||null===o.return)throw Fs(t,e),rs=r,n;t:{var s=t,u=o.return,c=o,l=n,f=as;if(c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var h=l,p=0!=(lo.current&uo);l=u;do{var d;if((d=13===l.tag)&&(null!==l.memoizedState?d=!1:d=void 0!==(d=l.memoizedProps).fallback&&(!0!==d.unstable_avoidThisFallback||!p)),d){if(null===(u=l.updateQueue)?((u=new Set).add(h),l.updateQueue=u):u.add(h),0==(2&l.mode)){l.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((f=Ai(1073741823,null)).tag=2,xi(c,f))),c.expirationTime=1073741823;break t}c=s,s=f,null===(p=c.pingCache)?(p=c.pingCache=new qa,u=new Set,p.set(h,u)):void 0===(u=p.get(h))&&(u=new Set,p.set(h,u)),u.has(s)||(u.add(s),c=Gs.bind(null,c,h,s),h.then(c,c)),l.effectTag|=2048,l.expirationTime=f;break t}l=l.return}while(null!==l);l=Error((ce(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+le(c))}ss!==ns&&(ss=Za),l=Oa(l,c),c=u;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=f,Pi(c,f=Wa(c,l,f));break t;case 1:if(h=l,s=c.type,u=c.stateNode,0==(64&c.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===vs||!vs.has(u)))){c.effectTag|=2048,c.expirationTime=f,Pi(c,f=Ka(c,h,f));break t}}c=c.return}while(null!==c)}os=Vs(o)}if(rs=r,wi(),Ga.current=i,null!==os)return Us.bind(null,t,e)}if(t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,function(t,e){var n=t.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=e)&&(li(97,function(){return n._onComplete(),null}),!0)}(t,e))return null;switch(is=null,ss){case Ja:throw a(Error(328));case Za:return(r=t.lastPendingTime)<e?Us.bind(null,t,r):n?qs.bind(null,t):(Fs(t,e),fi(Us.bind(null,t,e)),null);case ts:return 1073741823===us&&!n&&10<(n=hs+ps-ai())?fs?(Fs(t,e),Us.bind(null,t,e)):(r=t.lastPendingTime)<e?Us.bind(null,t,r):(t.timeoutHandle=Tr(qs.bind(null,t),n),null):qs.bind(null,t);case es:if(!n){if(fs)return Fs(t,e),Us.bind(null,t,e);if((n=t.lastPendingTime)<e)return Us.bind(null,t,n);if(1073741823!==cs?n=10*(1073741821-cs)-ai():1073741823===us?n=0:(n=10*(1073741821-us)-5e3,0>(n=(r=ai())-n)&&(n=0),(e=10*(1073741821-e)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*za(n/1960))-n)&&(n=e)),10<n)return t.timeoutHandle=Tr(qs.bind(null,t),n),null}return qs.bind(null,t);case ns:return!n&&1073741823!==us&&null!==ls&&(r=us,0>=(e=0|(i=ls).busyMinDurationMs)?e=0:(n=0|i.busyDelayMs,e=(r=ai()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+e-r),10<e)?(t.timeoutHandle=Tr(qs.bind(null,t),e),null):qs.bind(null,t);default:throw a(Error(329))}}function js(t,e){t<us&&1<t&&(us=t),null!==e&&t<cs&&1<t&&(cs=t,ls=e)}function Bs(t){var e=Hs(t.alternate,t,as);return t.memoizedProps=t.pendingProps,null===e&&(e=Vs(t)),Ha.current=null,e}function Vs(t){os=t;do{var e=os.alternate;if(t=os.return,0==(1024&os.effectTag)){t:{var n=e,r=as,o=(e=os).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(e.type)&&Lr();break;case 3:io(),Fr(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(oa(e),e.effectTag&=-3),Ia(e);break;case 5:ao(e),r=no(eo.current);var s=e.type;if(null!==n&&null!=e.stateNode)ka(n,e,s,o,r),n.ref!==e.ref&&(e.effectTag|=128);else if(o){var u=no(Zi.current);if(oa(e)){o=void 0,s=(n=e).stateNode;var c=n.type,l=n.memoizedProps;switch(s[D]=n,s[R]=l,c){case"iframe":case"object":case"embed":Rn("load",s);break;case"video":case"audio":for(var f=0;f<et.length;f++)Rn(et[f],s);break;case"source":Rn("error",s);break;case"img":case"image":case"link":Rn("error",s),Rn("load",s);break;case"form":Rn("reset",s),Rn("submit",s);break;case"details":Rn("toggle",s);break;case"input":Se(s,l),Rn("invalid",s),vr(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Rn("invalid",s),vr(r,"onChange");break;case"textarea":er(s,l),Rn("invalid",s),vr(r,"onChange")}for(o in mr(c,l),f=null,l)l.hasOwnProperty(o)&&(u=l[o],"children"===o?"string"==typeof u?s.textContent!==u&&(f=["children",u]):"number"==typeof u&&s.textContent!==""+u&&(f=["children",""+u]):p.hasOwnProperty(o)&&null!=u&&vr(r,o));switch(c){case"input":Wt(s),Ie(s,l,!0);break;case"textarea":Wt(s),rr(s);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(s.onclick=gr)}r=f,n.updateQueue=r,null!==r&&Ta(e)}else{l=s,n=o,c=e,f=9===r.nodeType?r:r.ownerDocument,u===ir.html&&(u=or(l)),u===ir.html?"script"===l?((l=f.createElement("div")).innerHTML="<script><\/script>",f=l.removeChild(l.firstChild)):"string"==typeof n.is?f=f.createElement(l,{is:n.is}):(f=f.createElement(l),"select"===l&&(l=f,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):f=f.createElementNS(u,l),(l=f)[D]=c,l[R]=n,_a(n=l,e,!1,!1),c=n;var h=r,d=yr(s,o);switch(s){case"iframe":case"object":case"embed":Rn("load",c),r=o;break;case"video":case"audio":for(r=0;r<et.length;r++)Rn(et[r],c);r=o;break;case"source":Rn("error",c),r=o;break;case"img":case"image":case"link":Rn("error",c),Rn("load",c),r=o;break;case"form":Rn("reset",c),Rn("submit",c),r=o;break;case"details":Rn("toggle",c),r=o;break;case"input":Se(c,o),r=Ee(c,o),Rn("invalid",c),vr(h,"onChange");break;case"option":r=Jn(c,o);break;case"select":c._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),Rn("invalid",c),vr(h,"onChange");break;case"textarea":er(c,o),r=tr(c,o),Rn("invalid",c),vr(h,"onChange");break;default:r=o}mr(s,r),l=void 0,f=s,u=c;var m=r;for(l in m)if(m.hasOwnProperty(l)){var y=m[l];"style"===l?pr(u,y):"dangerouslySetInnerHTML"===l?null!=(y=y?y.__html:void 0)&&ur(u,y):"children"===l?"string"==typeof y?("textarea"!==f||""!==y)&&cr(u,y):"number"==typeof y&&cr(u,""+y):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=y&&vr(h,l):null!=y&&be(u,l,y,d))}switch(s){case"input":Wt(c),Ie(c,o,!1);break;case"textarea":Wt(c),rr(c);break;case"option":null!=o.value&&c.setAttribute("value",""+we(o.value));break;case"select":r=c,c=o,r.multiple=!!c.multiple,null!=(l=c.value)?Zn(r,!!c.multiple,l,!1):null!=c.defaultValue&&Zn(r,!!c.multiple,c.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=gr)}Er(s,o)&&Ta(e),e.stateNode=n}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw a(Error(166));break;case 6:if(n&&null!=e.stateNode)Ca(n,e,n.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw a(Error(166));n=no(eo.current),no(Zi.current),oa(e)?(r=e.stateNode,n=e.memoizedProps,r[D]=e,r.nodeValue!==n&&Ta(e)):(r=e,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[D]=e,r.stateNode=n)}break;case 11:break;case 13:if(Nr(lo),o=e.memoizedState,0!=(64&e.effectTag)){e.expirationTime=r;break t}r=null!==o,o=!1,null===n?oa(e):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=s,s.nextEffect=c):(e.firstEffect=e.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!=(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(lo.current&uo)?ss===Ja&&(ss=ts):ss!==Ja&&ss!==ts||(ss=es)),(r||o)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:io(),Ia(e);break;case 10:Si(e);break;case 9:case 14:break;case 17:Mr(e.type)&&Lr();break;case 18:break;case 19:if(Nr(lo),null===(o=e.memoizedState))break;if(s=0!=(64&e.effectTag),null===(c=o.rendering)){if(s)Na(o,!1);else if(ss!==Ja||null!==n&&0!=(64&n.effectTag))for(n=e.child;null!==n;){if(null!==(c=fo(n))){for(e.effectTag|=64,Na(o,!1),null!==(n=c.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),e.firstEffect=e.lastEffect=null,n=e.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=c.childExpirationTime,o.expirationTime=c.expirationTime,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,s=c.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Ar(lo,lo.current&so|co),e=e.child;break t}n=n.sibling}}else{if(!s)if(null!==(n=fo(c))){if(e.effectTag|=64,s=!0,Na(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null);break}}else ai()>o.tailExpiration&&1<r&&(e.effectTag|=64,s=!0,Na(o,!1),e.expirationTime=e.childExpirationTime=r-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=o.last)?r.sibling=c:e.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=ai()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=e.lastEffect,r.sibling=null,n=lo.current,Ar(lo,n=s?n&so|co:n&so),e=r;break t}break;case 20:break;default:throw a(Error(156))}e=null}if(r=os,1===as||1!==r.childExpirationTime){for(n=0,o=r.child;null!==o;)(s=o.expirationTime)>n&&(n=s),(c=o.childExpirationTime)>n&&(n=c),o=o.sibling;r.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(1024&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=os.firstEffect),null!==os.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=os.firstEffect),t.lastEffect=os.lastEffect),1<os.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=os:t.firstEffect=os,t.lastEffect=os))}else{if(null!==(e=Aa(os)))return e.effectTag&=1023,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=1024)}if(null!==(e=os.sibling))return e;os=t}while(null!==os);return ss===Ja&&(ss=ns),null}function qs(t){var e=si();return ci(99,function(t,e){if(Ws(),(rs&(Xa|$a))!==Qa)throw a(Error(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw a(Error(177));t.callbackNode=null,t.callbackExpirationTime=0;var i=n.expirationTime,o=n.childExpirationTime;if(i=o>i?o:i,t.firstPendingTime=i,i<t.lastPendingTime&&(t.lastPendingTime=i),t===is&&(os=is=null,as=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){o=rs,rs|=$a,Ha.current=null,br=Dn;var s=qn();if(Wn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(t){u=null;break t}var h=0,p=-1,d=-1,m=0,y=0,v=s,g=null;e:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(p=h+l),v!==f||0!==c&&3!==v.nodeType||(d=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break e;if(g===u&&++m===l&&(p=h),g===f&&++y===c&&(d=h),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;wr={focusedElem:s,selectionRange:u},Dn=!1,ds=i;do{try{for(;null!==ds;){if(0!=(256&ds.effectTag)){var w=ds.alternate;switch((s=ds).tag){case 0:case 11:case 15:Ra(po,ho,s);break;case 1:if(256&s.effectTag&&null!==w){var E=w.memoizedProps,S=w.memoizedState,T=s.stateNode,_=T.getSnapshotBeforeUpdate(s.elementType===s.type?E:mi(s.type,E),S);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}ds=ds.nextEffect}}catch(t){if(null===ds)throw a(Error(330));zs(ds,t),ds=ds.nextEffect}}while(null!==ds);ds=i;do{try{for(w=e;null!==ds;){var I=ds.effectTag;if(16&I&&cr(ds.stateNode,""),128&I){var k=ds.alternate;if(null!==k){var C=k.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(14&I){case 2:Ua(ds),ds.effectTag&=-3;break;case 6:Ua(ds),ds.effectTag&=-3,Ba(ds.alternate,ds);break;case 4:Ba(ds.alternate,ds);break;case 8:ja(E=ds,w),E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null;var N=E.alternate;null!==N&&(N.return=null,N.child=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null)}ds=ds.nextEffect}}catch(t){if(null===ds)throw a(Error(330));zs(ds,t),ds=ds.nextEffect}}while(null!==ds);if(C=wr,k=qn(),I=C.focusedElem,w=C.selectionRange,k!==I&&I&&I.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(I.ownerDocument.documentElement,I)){null!==w&&Wn(I)&&(k=w.start,void 0===(C=w.end)&&(C=k),"selectionStart"in I?(I.selectionStart=k,I.selectionEnd=Math.min(C,I.value.length)):(C=(k=I.ownerDocument||document)&&k.defaultView||window).getSelection&&(C=C.getSelection(),E=I.textContent.length,N=Math.min(w.start,E),w=void 0===w.end?N:Math.min(w.end,E),!C.extend&&N>w&&(E=w,w=N,N=E),E=Vn(I,N),S=Vn(I,w),E&&S&&(1!==C.rangeCount||C.anchorNode!==E.node||C.anchorOffset!==E.offset||C.focusNode!==S.node||C.focusOffset!==S.offset)&&((k=k.createRange()).setStart(E.node,E.offset),C.removeAllRanges(),N>w?(C.addRange(k),C.extend(S.node,S.offset)):(k.setEnd(S.node,S.offset),C.addRange(k))))),k=[];for(C=I;C=C.parentNode;)1===C.nodeType&&k.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof I.focus&&I.focus(),I=0;I<k.length;I++)(C=k[I]).element.scrollLeft=C.left,C.element.scrollTop=C.top}wr=null,Dn=!!br,br=null,t.current=n,ds=i;do{try{for(I=r;null!==ds;){var A=ds.effectTag;if(36&A){var O=ds.alternate;switch(C=I,(k=ds).tag){case 0:case 11:case 15:Ra(vo,go,k);break;case 1:var x=k.stateNode;if(4&k.effectTag)if(null===O)x.componentDidMount();else{var P=k.elementType===k.type?O.memoizedProps:mi(k.type,O.memoizedProps);x.componentDidUpdate(P,O.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var D=k.updateQueue;null!==D&&Li(0,D,x);break;case 3:var R=k.updateQueue;if(null!==R){if(N=null,null!==k.child)switch(k.child.tag){case 5:N=k.child.stateNode;break;case 1:N=k.child.stateNode}Li(0,R,N)}break;case 5:var M=k.stateNode;null===O&&4&k.effectTag&&(C=M,Er(k.type,k.memoizedProps)&&C.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw a(Error(163))}}if(128&A){var L=ds.ref;if(null!==L){var F=ds.stateNode;switch(ds.tag){case 5:var U=F;break;default:U=F}"function"==typeof L?L(U):L.current=U}}512&A&&(gs=!0),ds=ds.nextEffect}}catch(t){if(null===ds)throw a(Error(330));zs(ds,t),ds=ds.nextEffect}}while(null!==ds);ds=null,ei(),rs=o}else t.current=n;if(gs)gs=!1,bs=t,Es=r,ws=e;else for(ds=i;null!==ds;)e=ds.nextEffect,ds.nextEffect=null,ds=e;if(0!==(e=t.firstPendingTime)?(A=di(A=ks(),e),xs(t,A,e)):vs=null,"function"==typeof Qs&&Qs(n.stateNode,r),1073741823===e?t===_s?Ts++:(Ts=0,_s=t):Ts=0,ms)throw ms=!1,t=ys,ys=null,t;return(rs&Ya)!==Qa?null:(hi(),null)}.bind(null,t,e)),null!==bs&&li(97,function(){return Ws(),null}),null}function Ws(){if(null===bs)return!1;var t=bs,e=Es,n=ws;return bs=null,Es=0,ws=90,ci(97<n?97:n,function(t){if((rs&(Xa|$a))!==Qa)throw a(Error(331));var e=rs;for(rs|=$a,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:Ra(wo,ho,n),Ra(ho,bo,n)}}catch(e){if(null===t)throw a(Error(330));zs(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return rs=e,hi(),!0}.bind(null,t,e))}function Ks(t,e,n){xi(t,e=Wa(t,e=Oa(n,e),1073741823)),null!==(t=Os(t,1073741823))&&xs(t,99,1073741823)}function zs(t,e){if(3===t.tag)Ks(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Ks(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===vs||!vs.has(r))){xi(n,t=Ka(n,t=Oa(e,t),1073741823)),null!==(n=Os(n,1073741823))&&xs(n,99,1073741823);break}}n=n.return}}function Gs(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),is===t&&as===n?ss===es||ss===ts&&1073741823===us&&ai()-hs<ps?Fs(t,as):fs=!0:t.lastPendingTime<n||(0!==(e=t.pingTime)&&e<n||(t.pingTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),xs(t,e=di(e=ks(),n),n)))}var Hs=void 0;Hs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||Pr.current)ua=!0;else if(r<n){switch(ua=!1,e.tag){case 3:va(e),aa();break;case 5:if(oo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:Mr(e.type)&&Br(e);break;case 4:ro(e,e.stateNode.containerInfo);break;case 10:Ei(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?ba(t,e,n):(Ar(lo,lo.current&so),null!==(e=Sa(t,e,n))?e.sibling:null);Ar(lo,lo.current&so);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return Ea(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),Ar(lo,lo.current),!r)return null}return Sa(t,e,n)}}else ua=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Rr(e,xr.current),_i(e,n),i=Fo(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,Uo(),Mr(r)){var o=!0;Br(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Bi(e,r,s,t),i.updater=Vi,e.stateNode=i,i._reactInternalFiber=e,zi(e,r,t,n),e=ya(null,e,r,!0,o,n)}else e.tag=0,ca(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:switch(t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._status){case 1:return t._result;case 2:throw t._result}throw t._result=e,e}}(i),e.type=i,o=e.tag=function(t){if("function"==typeof t)return Js(t)?1:0;if(null!=t){if((t=t.$$typeof)===ne)return 11;if(t===oe)return 14}return 2}(i),t=mi(i,t),o){case 0:e=da(null,e,i,t,n);break;case 1:e=ma(null,e,i,t,n);break;case 11:e=la(null,e,i,t,n);break;case 14:e=fa(null,e,i,mi(i.type,t),r,n);break;default:throw a(Error(306),i,"")}return e;case 0:return r=e.type,i=e.pendingProps,da(t,e,r,i=e.elementType===r?i:mi(r,i),n);case 1:return r=e.type,i=e.pendingProps,ma(t,e,r,i=e.elementType===r?i:mi(r,i),n);case 3:if(va(e),null===(r=e.updateQueue))throw a(Error(282));return i=null!==(i=e.memoizedState)?i.element:null,Mi(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(aa(),e=Sa(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(Zo=Ir(e.stateNode.containerInfo.firstChild),Jo=e,i=ta=!0),i?(e.effectTag|=2,e.child=$i(e,null,r,n)):(ca(t,e,r,n),aa()),e=e.child),e;case 5:return oo(e),null===t&&ra(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Sr(r,i)?s=null:null!==o&&Sr(r,o)&&(e.effectTag|=16),pa(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(ca(t,e,s,n),e=e.child),e;case 6:return null===t&&ra(e),null;case 13:return ba(t,e,n);case 4:return ro(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Xi(e,null,r,n):ca(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,la(t,e,r,i=e.elementType===r?i:mi(r,i),n);case 7:return ca(t,e,e.pendingProps,n),e.child;case 8:case 12:return ca(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,Ei(e,o=i.value),null!==s){var u=s.value;if(0===(o=tn(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Pr.current){e=Sa(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=Ai(n,null)).tag=2,xi(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Ti(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}ca(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,_i(e,n),r=r(i=Ii(i,o.unstable_observedBits)),e.effectTag|=1,ca(t,e,r,n),e.child;case 14:return o=mi(i=e.type,e.pendingProps),fa(t,e,i,o=mi(i.type,o),r,n);case 15:return ha(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Mr(r)?(t=!0,Br(e)):t=!1,_i(e,n),Wi(e,r,i),zi(e,r,i,n),ya(null,e,r,!0,t,n);case 19:return Ea(t,e,n)}throw a(Error(156))};var Qs=null,Ys=null;function Xs(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $s(t,e,n,r){return new Xs(t,e,n,r)}function Js(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Zs(t,e){var n=t.alternate;return null===n?((n=$s(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Js(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case Xt:return eu(n.children,i,o,e);case ee:s=8,i|=7;break;case $t:s=8,i|=1;break;case Jt:return(t=$s(12,n,e,8|i)).elementType=Jt,t.type=Jt,t.expirationTime=o,t;case re:return(t=$s(13,n,e,i)).type=re,t.elementType=re,t.expirationTime=o,t;case ie:return(t=$s(19,n,e,i)).elementType=ie,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case Zt:s=10;break t;case te:s=9;break t;case ne:s=11;break t;case oe:s=14;break t;case ae:s=16,r=null;break t}throw a(Error(130),null==t?t:typeof t,"")}return(e=$s(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function eu(t,e,n,r){return(t=$s(7,t,r,e)).expirationTime=n,t}function nu(t,e,n){return(t=$s(6,t,null,e)).expirationTime=n,t}function ru(t,e,n){return(e=$s(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function ou(t,e,n){return t=new iu(t,e,n),e=$s(3,null,null,2===e?7:1===e?3:0),t.current=e,e.stateNode=t}function au(t,e,n,r,i,o){var s=e.current;t:if(n){e:{if(2!==on(n=n._reactInternalFiber)||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Mr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(Mr(c)){n=jr(n,c,u);break t}}n=u}else n=Or;return null===e.context?e.context=n:e.pendingContext=n,e=o,(i=Ai(r,i)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),xi(s,i),As(s,r),r}function su(t,e,n,r){var i=e.current,o=ks(),a=Ui.suspense;return au(t,e,n,i=Cs(o,i,a),a,r)}function uu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function cu(t){var e=1073741821-25*(1+((1073741821-ks()+500)/25|0));e<=Ns&&--e,this._expirationTime=Ns=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function lu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function fu(t,e,n){this._internalRoot=ou(t,e,n)}function hu(t,e){this._internalRoot=ou(t,2,e)}function pu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function du(t,e,n,r,i){var o=n._reactRootContainer,a=void 0;if(o){if(a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var t=uu(a);s.call(t)}}su(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new fu(t,0,e)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=uu(a);u.call(t)}}Ls(function(){su(e,a,t,i)})}return uu(a)}function mu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!pu(e))throw a(Error(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Yt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}kt=function(t,e,n){switch(e){case"input":if(_e(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=U(r);if(!i)throw a(Error(90));Kt(r),_e(r,i)}}}break;case"textarea":nr(t,n);break;case"select":null!=(e=n.value)&&Zn(t,!!n.multiple,e,!1)}},cu.prototype.render=function(t){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new lu;return au(t,e,null,n,null,r._onCommit),r},cu.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},cu.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(!this._defer||null===e)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=e,t.firstBatch=this}if(this._defer=!1,e=n,(rs&(Xa|$a))!==Qa)throw a(Error(253));fi(Us.bind(null,t,e)),hi(),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},cu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},lu.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},lu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)throw a(Error(191),n);n()}}},hu.prototype.render=fu.prototype.render=function(t,e){var n=this._internalRoot,r=new lu;return null!==(e=void 0===e?null:e)&&r.then(e),su(t,n,null,r._onCommit),r},hu.prototype.unmount=fu.prototype.unmount=function(t){var e=this._internalRoot,n=new lu;return null!==(t=void 0===t?null:t)&&n.then(t),su(null,e,null,n._onCommit),n},hu.prototype.createBatch=function(){var t=new cu(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Pt=Rs,Dt=Ms,Rt=Ds,Mt=function(t,e){var n=rs;rs|=2;try{return t(e)}finally{(rs=n)===Qa&&hi()}};var yu,vu,gu={createPortal:mu,findDOMNode:function(t){if(null==t)t=null;else if(1!==t.nodeType){var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw a(Error(188));throw a(Error(268),Object.keys(t))}t=null===(t=sn(e))?null:t.stateNode}return t},hydrate:function(t,e,n){if(!pu(e))throw a(Error(200));return du(null,t,e,!0,n)},render:function(t,e,n){if(!pu(e))throw a(Error(200));return du(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){if(!pu(n))throw a(Error(200));if(null==t||void 0===t._reactInternalFiber)throw a(Error(38));return du(t,e,n,!1,r)},unmountComponentAtNode:function(t){if(!pu(t))throw a(Error(40));return!!t._reactRootContainer&&(Ls(function(){du(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return mu.apply(void 0,arguments)},unstable_batchedUpdates:Rs,unstable_interactiveUpdates:function(t,e,n,r){return Ds(),Ms(t,e,n,r)},unstable_discreteUpdates:Ms,unstable_flushDiscreteUpdates:Ds,flushSync:function(t,e){if((rs&(Xa|$a))!==Qa)throw a(Error(187));var n=rs;rs|=1;try{return ci(99,t.bind(null,e))}finally{rs=n,hi()}},unstable_createRoot:function(t,e){if(!pu(t))throw a(Error(299),"unstable_createRoot");return new hu(t,null!=e&&!0===e.hydrate)},unstable_createSyncRoot:function(t,e){if(!pu(t))throw a(Error(299),"unstable_createRoot");return new fu(t,1,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=rs;rs|=1;try{ci(99,t)}finally{(rs=e)===Qa&&hi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,F,U,O.injectEventPluginsByName,h,K,function(t){k(t,W)},Ot,xt,Ln,A,Ws,{current:!1}]}};vu=(yu={findFiberByHostInstance:M,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Qs=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Ys=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},yu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=sn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return vu?vu(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var bu={default:gu},wu=bu&&gu||bu;t.exports=wu.default||wu},function(t,e,n){"use strict";t.exports=n(443)},function(t,e,n){"use strict";
/** @license React v0.15.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e.unstable_now=void 0,e.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(l,0),t}};e.unstable_now=function(){return Date.now()},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,d=window.clearTimeout,m=window.requestAnimationFrame,y=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),e.unstable_now="object"==typeof f&&"function"==typeof f.now?function(){return f.now()}:function(){return h.now()};var v=!1,g=null,b=-1,w=-1,E=33.33,S=-1,T=-1,_=0,I=!1;a=function(){return e.unstable_now()>=_},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<t?(E=Math.floor(1e3/t),I=!0):(E=33.33,I=!1)};var k=function(){if(null!==g){var t=e.unstable_now(),n=0<_-t;try{g(n,t)||(g=null)}catch(t){throw N.postMessage(null),t}}},C=new MessageChannel,N=C.port2;C.port1.onmessage=k;var A=function(t){if(null===g)T=S=-1,v=!1;else{v=!0,m(function(t){d(b),A(t)});var n=function(){_=e.unstable_now()+E/2,k(),b=p(n,3*E)};if(b=p(n,3*E),-1!==S&&.1<t-S){var r=t-S;!I&&-1!==T&&r<E&&T<E&&(8.33>(E=r<T?T:r)&&(E=8.33)),T=r}S=t,_=t+E,N.postMessage(null)}};r=function(t){g=t,v||(v=!0,m(function(t){A(t)}))},i=function(t,n){w=p(function(){t(e.unstable_now())},n)},o=function(){d(w),w=-1}}var O=null,x=null,P=null,D=3,R=!1,M=!1,L=!1;function F(t,e){var n=t.next;if(n===t)O=null;else{t===O&&(O=n);var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,n=t.callback,r=D;var i=P;D=t.priorityLevel,P=t;try{var o=t.expirationTime<=e;switch(D){case 1:var a=n(o);break;case 2:case 3:case 4:a=n(o);break;case 5:a=n(o)}}catch(t){throw t}finally{D=r,P=i}if("function"==typeof a)if(e=t.expirationTime,t.callback=a,null===O)O=t.next=t.previous=t;else{a=null,o=O;do{if(e<=o.expirationTime){a=o;break}o=o.next}while(o!==O);null===a?a=O:a===O&&(O=t),(e=a.previous).next=a.previous=t,t.next=a,t.previous=e}}function U(t){if(null!==x&&x.startTime<=t)do{var e=x,n=e.next;if(e===n)x=null;else{x=n;var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,q(e,e.expirationTime)}while(null!==x&&x.startTime<=t)}function j(t){L=!1,U(t),M||(null!==O?(M=!0,r(B)):null!==x&&i(j,x.startTime-t))}function B(t,n){M=!1,L&&(L=!1,o()),U(n),R=!0;try{if(t){if(null!==O)do{F(O,n),U(n=e.unstable_now())}while(null!==O&&!a())}else for(;null!==O&&O.expirationTime<=n;)F(O,n),U(n=e.unstable_now());return null!==O||(null!==x&&i(j,x.startTime-n),!1)}finally{R=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function q(t,e){if(null===O)O=t.next=t.previous=t;else{var n=null,r=O;do{if(e<r.expirationTime){n=r;break}r=r.next}while(r!==O);null===n?n=O:n===O&&(O=t),(e=n.previous).next=n.previous=t,t.next=n,t.previous=e}}var W=s;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:V(t)}else a=V(t),u=s;if(t={callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,next:null,previous:null},u>s){if(a=u,null===x)x=t.next=t.previous=t;else{n=null;var c=x;do{if(a<c.startTime){n=c;break}c=c.next}while(c!==x);null===n?n=x:n===x&&(x=t),(a=n.previous).next=n.previous=t,t.next=n,t.previous=a}null===O&&x===t&&(L?o():L=!0,i(j,u-s))}else q(t,a),M||R||(M=!0,r(B));return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(t===e)t===O?O=null:t===x&&(x=null);else{t===O?O=e:t===x&&(x=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_shouldYield=function(){var t=e.unstable_now();return U(t),null!==P&&null!==O&&O.startTime<=t&&O.expirationTime<P.expirationTime||a()},e.unstable_requestPaint=W,e.unstable_continueExecution=function(){M||R||(M=!0,r(B))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return O}},function(t,e,n){"use strict";var r=n(445);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";
/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case c:return t;default:return e}}case v:case y:case o:return e}}}function E(t){return w(t)===h}e.typeOf=w,e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=v,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===h||t===u||t===s||t===d||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===g||t.$$typeof===b)},e.isAsyncMode=function(t){return E(t)||w(t)===f},e.isConcurrentMode=E,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===y},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n(2))&&"object"==typeof r&&"default"in r?r.default:r,a=n(40),s=n(194),u=n(193),c=n(450),l=o.SDK_VERSION,f=new s.Logger("@firebase/firestore");function h(){return f.logLevel===s.LogLevel.DEBUG?i.DEBUG:f.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function p(t){switch(t){case i.DEBUG:f.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=s.LogLevel.ERROR;break;case i.SILENT:f.logLevel=s.LogLevel.SILENT;break;default:f.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=s.LogLevel.DEBUG){var i=n.map(y);f.debug.apply(f,a.__spreadArrays(["Firestore ("+l+") ["+t+"]: "+e],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.ERROR){var r=e.map(y);f.error.apply(f,a.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function y(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function g(t,e){t||v(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function T(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new S(E.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function k(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function C(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N(t){for(var e in g(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A(t,e){if(0!==e.length)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function x(t,e,n){if(e.length<n)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function P(t,e,n,r){if(e.length<n||e.length>r)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(e.length,"argument")+".")}function D(t,e,n,r){B(t,e,H(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&D(t,e,n,r)}function M(t,e,n,r){B(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+q(r[o]))}(t,e,n,r,i)}function U(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new S(E.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function j(t,e,n,r){if(!e.some(function(t){return t===r}))throw new S(E.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+H(n)+" argument. Acceptable values: "+e.join(", "))}function B(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function W(t,e,n){if(void 0===n)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function K(t,e,n){C(e,function(e,r){if(n.indexOf(e)<0)throw new S(E.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=q(r);return new S(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function G(t,e,n){if(n<=0)throw new S(E.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+H(e)+" argument to be a positive number, but it was: "+n+".")}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function X(t,e){return t<e?-1:t>e?1:0}function $(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function J(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(){if("undefined"==typeof Uint8Array)throw new S(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tt(){if(!b.getPlatform().base64Available)throw new S(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var et,nt=function(){function t(t){tt(),this._binaryString=t}return t.fromBase64String=function(e){O("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,e),tt();try{var n=b.getPlatform().atob(e);return new t(n)}catch(t){throw new S(E.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(O("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(n)},t.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),tt(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){O("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return X(this._binaryString,t._binaryString)},t}(),rt=T(nt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),it=function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},ot="(default)",at=function(){function t(t,e){this.projectId=t,this.database=e||ot}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===ot},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return X(this.projectId,t.projectId)||X(this.database,t.database)},t}(),st=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),ut=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,g(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ut),lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ut),ht=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ct.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ct.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ct(e.slice()))},t.fromPathString=function(e){return new t(ct.fromString(e))},t.EMPTY=new t(new ct([])),t}(),pt=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction"}(et||(et={}));var dt=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),mt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=dt.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===et.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==et.All&&i.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),yt="",vt="",gt="",bt="";function wt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=St(e)),e=Et(t.get(n),e);return St(e)}function Et(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=yt+gt;break;case yt:n+=yt+bt;break;default:n+=o}}return n}function St(t){return t+yt+vt}function Tt(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===yt&&t.charAt(1)===vt,"Non-empty path "+t+" had length 2"),ct.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(yt,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case vt:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case gt:i+=t.substring(o,a),i+="\0";break;case bt:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new ct(r)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?X(this.nanoseconds,t.nanoseconds):X(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),It=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new _t(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new _t(0,0)),t}(),kt=function(){function t(t,e){this.comparator=t,this.root=e||Nt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ct(this.root,t,this.comparator,!0)},t}(),Ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt.EMPTY=new At;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ot=function(){function t(t){this.comparator=t,this.data=new kt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new xt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new xt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),xt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pt=new kt(ht.comparator);function Dt(){return Pt}function Rt(){return Dt()}var Mt=new kt(ht.comparator);function Lt(){return Mt}var Ft=new kt(ht.comparator);function Ut(){return Ft}var jt=new Ot(ht.comparator);function Bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vt=new Ot(X);function qt(){return Vt}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,g(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime))}for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations)&&$(this.baseMutations,t.baseMutations)},t}(),Kt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Ut(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),zt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++){r(o[i])}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Gt="SimpleDb",Ht=function(){function e(t){this.db=t,12.2===e.getIOSVersion(u.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return g(e.isAvailable(),"IndexedDB not supported in current environment."),d(Gt,"Opening database:",t),new zt(function(i,o){var a=window.indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;i(new e(n))},a.onblocked=function(){o(new S(E.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new S(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},a.onupgradeneeded=function(e){d(Gt,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,a.transaction,e.oldVersion,nn).next(function(){d(Gt,"Database upgrade to version "+nn+" complete")})}}).toPromise()},e.delete=function(t){return d(Gt,"Removing database:",t),$t(window.indexedDB.deleteDatabase(t)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var t=u.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.isMockPersistence=function(){return void 0!==t&&"YES"===t.env.USE_MOCK_PERSISTENCE},e.getStore=function(t,e){return t.store(e)},e.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i,o,s,u,c;return a.__generator(this,function(l){switch(l.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),o=0,s=function(){var t,s,c,l;return a.__generator(this,function(a){switch(a.label){case 0:++o,t=Yt.open(u.db,r?"readonly":"readwrite",e),a.label=1;case 1:return a.trys.push([1,3,,4]),(s=n(t).catch(function(e){return t.abort(e),zt.reject(e)}).toPromise()).catch(function(){}),[4,t.completionPromise];case 2:return a.sent(),[2,{value:s}];case 3:return c=a.sent(),l=i&&"FirebaseError"!==c.name&&o<3,d(Gt,"Transaction failed with error: %s. Retrying: %s.",c.message,l),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:return"object"==typeof(c=l.sent())?[2,c.value]:[3,1];case 3:return[2]}})})},e.prototype.close=function(){this.db.close()},e}(),Qt=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return $t(this.dbCursor.delete())},t}(),Yt=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new pt,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=Zt(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d(Gt,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new Xt(e)},t}(),Xt=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d(Gt,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(d(Gt,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$t(n)},t.prototype.add=function(t){return d(Gt,"ADD",this.store.name,t,t),$t(this.store.add(t))},t.prototype.get=function(t){var e=this;return $t(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d(Gt,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d(Gt,"DELETE",this.store.name,t),$t(this.store.delete(t))},t.prototype.count=function(){return d(Gt,"COUNT",this.store.name),$t(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d(Gt,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new zt(function(n,r){e.onerror=function(t){var e=Zt(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new zt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qt(i),a=e(i.primaryKey,i.value,o);if(a instanceof zt){var s=a.catch(function(t){return o.done(),zt.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return zt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $t(t){return new zt(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Zt(t.target.error);n(e)}})}var Jt=!1;function Zt(t){var e=Ht.getIOSVersion(u.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new S("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jt||(Jt=!0,setTimeout(function(){throw r},0)),r}}return t}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ie(t).iterate({index:un.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=re(n),ae(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=re(e),ae(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=oe(t),a=ie(t);return a.add({}).next(function(s){g("number"==typeof s,"Auto-generated key is not a number");for(var u=new Wt(s,e,n,r),c=i.serializer.toDbMutationBatch(i.userId,u),l=[],f=new Ot(function(t,e){return X(t.canonicalString(),e.canonicalString())}),h=0,p=r;h<p.length;h++){var d=p[h],m=cn.key(i.userId,d.key.path,s);f=f.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,cn.PLACEHOLDER))}return f.forEach(function(e){l.push(i.indexManager.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.documentKeysByBatchId[s]=u.keys()}),zt.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ie(t).get(e).next(function(t){return t?(g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?zt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ie(t).iterate({index:un.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(g(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ie(t).iterate({index:un.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ie(t).loadAll(un.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=cn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return oe(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Tt(u);if(s===n.userId&&e.path.isEqual(l))return ie(t).get(c).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+c);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ot(X),i=[];return e.forEach(function(e){var o=cn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=oe(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Tt(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),zt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=cn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ot(X);return oe(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Tt(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ie(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),zt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ne(t.simpleDbTransaction,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.removeCachedMutationKeys(e.batchId)}),zt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zt.resolve();var r=IDBKeyRange.lowerBound(cn.prefixForUser(e.userId)),i=[];return oe(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=Tt(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return ee(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return ae(t).get(this.userId).next(function(t){return t||new sn(e.userId,-1,"")})},t}();function ee(t,e,n){var r=cn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return oe(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function ne(t,e,n){var r=t.store(un.store),i=t.store(cn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=cn.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return zt.waitFor(o).next(function(){return c})}function re(t){return t instanceof Uint8Array?(g(Ht.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function ie(t){return Bn.getStore(t,un.store)}function oe(t){return Bn.getStore(t,cn.store)}function ae(t){return Bn.getStore(t,sn.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se,ue=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(se||(se={}));var ce=function(){function t(t,e){this.generatorId=t,g((t&ue)===t,"Generator ID "+t+" contains more than "+ue+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<ue,t},t.prototype.after=function(t){return this.seek(t+(1<<ue)),this.next()},t.prototype.seek=function(t){g((t&ue)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forTargetCache=function(){return new t(se.QueryCache,2)},t.forSyncEngine=function(){return new t(se.SyncEngine)},t}(),le=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=ce.forTargetCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return It.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return pe(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.saveTargetData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.saveTargetData(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return fe(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return g(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return fe(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return zt.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return fe(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return he(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Bn.getStore(n,yn.store)).put(yn.key,e);var n},t.prototype.saveTargetData=function(t,e){return fe(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromTargetData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return fe(t).iterate({range:i,index:dn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.target)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=de(t);return e.forEach(function(e){var a=wt(e.path);i.push(o.put(new mn(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=de(t);return zt.forEach(e,function(e){var o=wt(e.path);return zt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=de(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=de(t),i=Bt();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Tt(t[1]),o=new ht(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=wt(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return de(t).iterate({index:mn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getTargetDataForTarget=function(t,e){var n=this;return fe(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t){return Bn.getStore(t,dn.store)}function he(t){return Ht.getStore(t,yn.store).get(yn.key).next(function(t){return g(null!==t,"Missing metadata row."),t})}function pe(t){return he(t).next(function(t){return t.highestListenSequenceNumber})}function de(t){return Bn.getStore(t,mn.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,ye=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new Ot(ft.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ve=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ge=function(t,e){this.version=t,this.transformResults=e};!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(me||(me={}));var be,we,Ee=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof Ke&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Ke:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!=e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Se=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof Ke?t.version:It.MIN},t}(),Te=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=me.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new Ke(this.key,n,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Se.getPostMutationVersion(t);return new Ke(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Se),_e=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=me.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.patchDocument(t);return new Ke(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Se.getPostMutationVersion(t),i=this.patchDocument(t);return new Ke(this.key,r,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof Ke?t.data():Ve.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(Se),Ie=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=me.Transform,r.precondition=Ee.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new Ke(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new Ke(this.key,r.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof Ke?t.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(e=null==e?Ve.EMPTY.set(i.field,a):e.set(i.field,a))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&$(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof Ke,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof Ke&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;e instanceof Ke&&(u=e.field(a.field)),null===u&&n instanceof Ke&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,t))}return r},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(Se),ke=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=me.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new ze(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ze(this.key,It.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Se);!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(be||(be={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(we||(we={}));var Ce=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(we.Estimate,n);case"previous":return new t(we.Previous,n);case"none":case void 0:return new t(we.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),Ne=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),X(this.typeOrder,t.typeOrder)},t}(),Ae=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=be.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Ne),Oe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?X(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Ne),xe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(Ne);function Pe(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var De=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Pe(this.internalValue,t.internalValue)},e}(xe),Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Pe(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(xe),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?X(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Ne),Le=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Fe?-1:this.defaultCompareTo(t)},e}(Ne),Fe=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=be.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===we.Estimate?new Le(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===we.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Le?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Ne),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ne),je=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=be.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ht.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Ne),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ne),Ve=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=X(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return X(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new Ot(ft.comparator);return this.internalValue.forEach(function(n,r){var i=new ft([n]);if(r instanceof e){var o=r.fieldMask().fields;o.isEmpty()?t=t.add(i):o.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),ye.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new kt(X)),e}(Ne),qe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=be.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++){if(n[e].isEqual(t))return!0}return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return X(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Ne),We=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)},t}(),Ke=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n)||this;return s.objectValue=i,s.proto=o,s.converter=a,g(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!r.hasLocalMutations,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return a.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=Ve.EMPTY;C(this.proto.fields||{},function(n,r){e=e.set(new ft([n]),t.converter(r))}),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){g(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(We),ze=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(We),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(We),He=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){C(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return N(this.inner)},t}(),Qe=function(){function t(){this.changes=new He(function(t){return t.toString()}),this.changesApplied=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return g(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){g(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},t.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){g(!this.changesApplied,"Changes have already been applied.")},t}(),Ye=function(){function t(t,e){this.serializer=t,this.indexManager=e}return t.prototype.addEntry=function(t,e,n){return $e(t).put(Je(e),n)},t.prototype.removeEntry=function(t,e){var n=$e(t),r=Je(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return $e(t).get(Je(e)).next(function(t){return n.maybeDecodeDocument(t)})},t.prototype.getSizedEntry=function(t,e){var n=this;return $e(t).get(Je(e)).next(function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:Ze(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Rt();return this.forEachDbEntry(t,e,function(t,e){var i=n.maybeDecodeDocument(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Rt(),i=new kt(ht.comparator);return this.forEachDbEntry(t,e,function(t,e){var o=n.maybeDecodeDocument(e);o?(r=r.insert(t,o),i=i.insert(t,Ze(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return zt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return $e(t).iterate({range:r},function(t,e,r){for(var a=ht.fromSegments(t);o&&ht.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this;g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Lt(),o=e.path.length+1,a={};if(n.isEqual(It.MIN)){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=hn.collectionReadTimeIndex}return $e(t).iterate(a,function(t,n,a){if(t.length===o){var s=r.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(s.key.path)?s instanceof Ke&&e.matches(s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.getNewDocumentChanges=function(t,e){var n=this,r=Dt(),i=this.serializer.toDbTimestampKey(e),o=$e(t),a=IDBKeyRange.lowerBound(i,!0);return o.iterate({index:hn.readTimeIndex,range:a},function(t,e){var o=n.serializer.fromDbRemoteDocument(e);r=r.insert(o.key,o),i=e.readTime}).next(function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}})},t.prototype.getLastDocumentChange=function(t){var e,n=this,r=$e(t),i=It.MIN;return r.iterate({index:hn.readTimeIndex,reverse:!0},function(t,r,o){e=n.serializer.fromDbRemoteDocument(r),r.readTime&&(i=n.serializer.fromDbTimestampKey(r.readTime)),o.done()}).next(function(){return{changedDoc:e,readTime:i}})},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Xe(t).get(pn.key).next(function(t){return g(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Xe(t).put(pn.key,e)},t.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof ze&&e.version.isEqual(It.forDeletedDoc())?null:e}return null},t.RemoteDocumentChangeBuffer=function(t){function e(e,n){var r=t.call(this)||this;return r.documentCache=e,r.trackRemovals=n,r.documentSizes=new He(function(t){return t.toString()}),r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ot(function(t,e){return X(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.documentSizes.get(o);if(g(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){g(!e.readTime.isEqual(It.MIN),"Cannot add a document with a read time of zero");var u=e.documentCache.serializer.toDbRemoteDocument(a,e.readTime);i=i.add(o.path.popLast());var c=Ze(u);r+=c-s,n.push(e.documentCache.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=e.documentCache.serializer.toDbRemoteDocument(new ze(o,It.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,o,l))}else n.push(e.documentCache.removeEntry(t,o))}),i.forEach(function(r){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,r))}),n.push(this.documentCache.updateMetadata(t,r)),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(Qe),t}();function Xe(t){return Bn.getStore(t,pn.store)}function $e(t){return Bn.getStore(t,hn.store)}function Je(t){return t.path.toArray()}function Ze(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn=function(){function t(){this.collectionParentIndex=new en}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),zt.resolve()},t.prototype.getCollectionParents=function(t,e){return zt.resolve(this.collectionParentIndex.getEntries(e))},t}(),en=function(){function t(){this.index={}}return t.prototype.add=function(t){g(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ot(ct.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ot(ct.comparator)).toArray()},t}(),nn=9,rn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=nn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Yt(e);n<1&&r>=1&&(function(t){t.createObjectStore(an.store)}(t),function(t){t.createObjectStore(sn.store,{keyPath:sn.keyPath}),t.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0}),t.createObjectStore(cn.store)}(t),gn(t),function(t){t.createObjectStore(hn.store)}(t));var a=zt.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(mn.store),t.deleteObjectStore(dn.store),t.deleteObjectStore(yn.store)}(t),gn(t)),a=a.next(function(){return function(t){var e=t.store(yn.store),n=new yn(0,0,It.MIN.toTimestamp(),0);return e.put(yn.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(un.store).loadAll().next(function(n){t.deleteObjectStore(un.store),t.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0});var r=e.store(un.store),i=n.map(function(t){return r.put(t)});return zt.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(bn.store,{keyPath:bn.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(pn.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(a=a.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hn.store);e.createIndex(hn.readTimeIndex,hn.readTimeIndexPath,{unique:!1}),e.createIndex(hn.collectionReadTimeIndex,hn.collectionReadTimeIndexPath,{unique:!1})}(e)})),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hn.store).iterate(function(t,n){e+=Ze(n)}).next(function(){var n=new pn(e);return t.store(pn.store).put(pn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(sn.store),r=t.store(un.store);return n.loadAll().next(function(n){return zt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(un.userMutationsIndex,i).next(function(r){return zt.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return ne(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(mn.store),n=t.store(hn.store);return pe(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new ct(n),a=function(t){return[0,wt(t)]}(o);r.push(e.get(a).next(function(n){return n?zt.resolve():function(n){return e.put(new mn(0,wt(n),t))}(o)}))}).next(function(){return zt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(vn.store,{keyPath:vn.keyPath});var n=e.store(vn.store),r=new en,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wt(i)})}};return e.store(hn.store).iterate({keysOnly:!0},function(t,e){var n=new ct(t);return i(n.popLast())}).next(function(){return e.store(cn.store).iterate({keysOnly:!0},function(t,e){t[0];var n=t[1],r=(t[2],Tt(n));return i(r.popLast())})})},t}();var on=function(t,e){this.seconds=t,this.nanoseconds=e},an=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var sn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),un=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var cn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wt(e)]},t.key=function(t,e,n){return[t,wt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var ln=function(t,e){this.path=t,this.readTime=e},fn=function(t,e){this.path=t,this.version=e},hn=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),pn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var dn=function(){function t(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),mn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,g(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),yn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),vn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function gn(t){t.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dn.store,{keyPath:dn.keyPath}).createIndex(dn.queryTargetsIndexName,dn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yn.store)}var bn=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}();var wn,En=[sn.store,un.store,cn.store,hn.store,dn.store,an.store,yn.store,mn.store],Sn=a.__spreadArrays(En,[bn.store]),Tn=a.__spreadArrays(Sn,[pn.store]),_n=a.__spreadArrays(Tn,[vn.store]),In=function(){function t(){this.collectionParentsCache=new en}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(g(e.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(e)){var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener(function(){n.collectionParentsCache.add(e)}),kn(t).put({collectionId:r,parent:wt(i)})}return zt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return kn(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Tt(o.parent))}return n})},t}();function kn(t){return Bn.getStore(t,vn.store)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(wn||(wn={}));var Cn=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=It.MIN),void 0===o&&(o=It.MIN),void 0===a&&(a=w()),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.target.isEqual(t.target)},t}(),Nn=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ze(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=ht.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new Ge(e,n)}return v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),r=t.key.path.popLast().toArray();if(t instanceof Ke){var i=t.proto?t.proto:this.remoteSerializer.toDocument(t),o=t.hasCommittedMutations;return new hn(null,null,i,o,n,r)}if(t instanceof ze){var a=t.key.path.toArray(),s=this.toDbTimestamp(t.version);o=t.hasCommittedMutations;return new hn(null,new ln(a,s),null,o,n,r)}if(t instanceof Ge){a=t.key.path.toArray();var u=this.toDbTimestamp(t.version);return new hn(new fn(a,u),null,null,!0,n,r)}return v("Unexpected MaybeDocument")},t.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},t.prototype.fromDbTimestampKey=function(t){var e=new _t(t[0],t[1]);return It.fromTimestamp(e)},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new on(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new _t(t.seconds,t.nanoseconds);return It.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new un(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=_t.fromMillis(t.localWriteTimeMs);return new Wt(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(wt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Bt(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new ht(Tt(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):It.MIN,i=t.resumeToken;return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Cn(e,t.targetId,wn.Listen,t.lastListenSequenceNumber,n,r,i)},t.prototype.toDbTarget=function(t){g(wn.Listen===t.purpose,"Only queries with purpose "+wn.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion),i=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.target):this.remoteSerializer.toQueryTarget(t.target),t.resumeToken instanceof Uint8Array?(g(Ht.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new dn(t.targetId,t.target.canonicalId(),r,n,t.sequenceNumber,i,e)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function An(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=X(n,i);return 0===a?X(r,o):a}var On=function(){function t(t){this.maxElements=t,this.buffer=new Ot(An),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();An(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),xn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Dn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Pn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(et.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Vn)})},t}(),Rn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zt.resolve(st.INVALID);var r=new On(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Pn.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(xn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),xn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,o,a,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return o=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){(c=Date.now(),h()<=i.DEBUG)&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms");return zt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})})},t}(),Mn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ln="IndexedDbPersistence",Fn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Un="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",jn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(Mn),Bn=function(){function t(e,n,r,i,o,a,s,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new Kn(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new Nn(s),this.document=i.document,this.targetCache=new le(this.referenceDelegate,this.serializer),this.indexManager=new In,this.remoteDocumentCache=new Ye(this.serializer,this.indexManager),!i.window||!i.window.localStorage)throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof jn)return Ht.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:if(!t.isAvailable())throw new S(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){var t=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),Ht.openOrCreate(this.dbName,nn,new rn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[yn.store],function(t){return pe(t)})}).then(function(e){t.listenSequence=new st(e,t.sequenceNumberSyncer)}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite-idempotent",_n,function(e){return Wn(e).put(new bn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){return t.isPrimary&&!n?t.releasePrimaryLeaseIfHeld(e).next(function(){return!1}):!!n&&t.acquireOrExtendPrimaryLease(e).next(function(){return!0})})}).catch(function(e){if(!t.allowTabSynchronization)throw e;return d(Ln,"Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(e)}),t.isPrimary=e})},t.prototype.verifyPrimaryLease=function(t){var e=this;return qn(t).get(an.key).next(function(t){return zt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Wn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",function(n){var r=t.getStore(n,bn.store);return r.loadAll().next(function(t){var n=e.filterActiveClients(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return zt.forEach(i,function(t){return r.delete(t.clientId)}).next(function(){return i})})})]);case 1:n.sent().forEach(function(t){e.window.localStorage.removeItem(e.zombiedClientLocalStorageKey(t.clientId))}),n.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(et.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return qn(t).get(an.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,Un);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&d(Ln,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[an.store,bn.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[bn.store],function(e){return Wn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return t.isAvailable()?(n=e+t.MAIN_DATABASE,[4,Ht.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),te.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getTargetCache=function(){return g(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},t.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return g(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;d(Ln,"Starting transaction:",t);var i,o=e.endsWith("idempotent"),a=e.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(a,_n,function(o){return i=new jn(o,r.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.verifyPrimaryLease(o).next(function(t){return!!t||r.canActAsPrimary(o)}).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new S(E.FAILED_PRECONDITION,Fn);return n(i)}).next(function(t){return r.acquireOrExtendPrimaryLease(o).next(function(){return t})}):r.verifyAllowTabSynchronization(o).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return qn(t).get(an.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,Un)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new an(this.clientId,this.allowTabSynchronization,Date.now());return qn(t).put(an.key,e)},t.isAvailable=function(){return Ht.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=qn(t);return n.get(an.key).next(function(t){return e.isLocalClient(t)?(d(Ln,"Releasing primary lease."),n.delete(an.key)):zt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(m("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(Ln,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return m(Ln,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Vn(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===E.FAILED_PRECONDITION&&t.message===Fn}(t))throw t;return d(Ln,"Unexpectedly lost primary lease"),[2]})})}function qn(t){return t.store(an.store)}function Wn(t){return t.store(bn.store)}var Kn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Rn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zn(t,e)},t.prototype.removeReference=function(t,e){return zn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?zt.resolve(!0):function(t,e){var n=!1;return ae(t).iterateSerial(function(r){return ee(t,r,e).next(function(t){return t&&(n=!0),zt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),de(t).delete([0,wt(a.path)])})});i.push(u)}}).next(function(){return zt.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=de(t),i=st.INVALID;return r.iterate({index:mn.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==st.INVALID&&e(new ht(Tt(n)),i),i=s,n=a):i=st.INVALID}).next(function(){i!==st.INVALID&&e(new ht(Tt(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zn(t,e){return de(t).put(function(t,e){return new mn(0,wt(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=Number,Hn=Gn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Qn=Gn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Yn=Gn.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Xn(t){return null==t}function $n(t){return Yn(t)&&t<=Qn&&t>=Hn}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn,Zn=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}return t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=","}Xn(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=this.path.canonicalString();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Xn(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&(!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)))},t.prototype.isDocumentQuery=function(){return ht.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.First="F",t.Last="L"}(Jn||(Jn={}));var tr=function(){function t(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=Jn.First),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.memoizedOrderBy=null,this.memorizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[hr]:this.memoizedOrderBy=[new fr(t),hr];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:cr.ASCENDING;this.memoizedOrderBy.push(a===cr.ASCENDING?hr:pr)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof rr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.withLimitToFirst=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Jn.First,this.startAt,this.endAt)},t.prototype.withLimitToLast=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Jn.Last,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},t.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},t.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},t.prototype.isEqual=function(t){return this.toTarget().isEqual(t.toTarget())&&this.limitType===t.limitType},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimitToFirst=function(){return!Xn(this.limit)&&this.limitType===Jn.First},t.prototype.hasLimitToLast=function(){return!Xn(this.limit)&&this.limitType===Jn.Last},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof rr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof rr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.toTarget=function(){if(!this.memorizedTarget)if(this.limitType===Jn.First)this.memorizedTarget=new Zn(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i=r.dir===cr.DESCENDING?cr.ASCENDING:cr.DESCENDING;t.push(new fr(r.field,i))}var o=this.endAt?new lr(this.endAt.position,!this.endAt.before):null,a=this.startAt?new lr(this.startAt.position,!this.startAt.before):null;this.memorizedTarget=new Zn(this.path,this.collectionGroup,t,this.filters,this.limit,o,a)}return this.memorizedTarget},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ht.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),er=function(){},nr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),rr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===nr.IN?(g(r instanceof qe,"Comparing on key with IN, but filter value not an ArrayValue"),g(r.internalValue.every(function(t){return t instanceof je}),"Comparing on key with IN, but an array value was not a RefValue"),new or(t,r)):(g(r instanceof je,"Comparing on key, but filter value not a RefValue"),g(n!==nr.ARRAY_CONTAINS&&n!==nr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new ir(t,n,r));if(r.isEqual(Ae.INSTANCE)){if(n!==nr.EQUAL)throw new S(E.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Re.NAN)){if(n!==nr.EQUAL)throw new S(E.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===nr.ARRAY_CONTAINS?new ar(t,r):n===nr.IN?(g(r instanceof qe,"IN filter has invalid value: "+r.toString()),new sr(t,r)):n===nr.ARRAY_CONTAINS_ANY?(g(r instanceof qe,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new ur(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case nr.LESS_THAN:return t<0;case nr.LESS_THAN_OR_EQUAL:return t<=0;case nr.EQUAL:return 0===t;case nr.GREATER_THAN:return t>0;case nr.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[nr.LESS_THAN,nr.LESS_THAN_OR_EQUAL,nr.GREATER_THAN,nr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(er),ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=ht.comparator(t.key,e.key);return this.matchesComparison(n)},e}(rr),or=function(t){function e(e,n){var r=t.call(this,e,nr.IN,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(rr),ar=function(t){function e(e,n){return t.call(this,e,nr.ARRAY_CONTAINS,n)||this}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof qe&&e.contains(this.value)},e}(rr),sr=function(t){function e(e,n){var r=t.call(this,e,nr.IN,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(rr),ur=function(t){function e(e,n){var r=t.call(this,e,nr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof qe&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(rr),cr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),lr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof je,"Bound has a non-key value where the key path is being used."),n=ht.comparator(o.key,e.key);else{var a=e.field(i.field);g(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===cr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},t}(),fr=function(){function t(t,e){this.field=t,void 0===e&&(e=cr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?Ke.compareByKey(t,e):Ke.compareByField(this.field,t,e);switch(this.dir){case cr.ASCENDING:return n;case cr.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),hr=new fr(ft.keyField(),cr.ASCENDING),pr=new fr(ft.keyField(),cr.DESCENDING),dr=function(){function t(){}return t.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var o=this;return g(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),e.matchesAllDocuments()?this.executeFullCollectionScan(t,e):n.isEqual(It.MIN)?this.executeFullCollectionScan(t,e):this.localDocumentsView.getDocuments(t,r).next(function(a){var s=o.applyQuery(e,a);return(e.hasLimitToFirst()||e.hasLimitToLast())&&o.needsRefill(e.limitType,s,r,n)?o.executeFullCollectionScan(t,e):(h()<=i.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),o.localDocumentsView.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.applyQuery=function(t,e){var n=new Ot(function(e,n){return t.docComparator(e,n)});return e.forEach(function(e,r){r instanceof Ke&&t.matches(r)&&(n=n.add(r))}),n},t.prototype.needsRefill=function(t,e,n,r){if(n.size!==e.size)return!0;var i=t===Jn.First?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.executeFullCollectionScan=function(t,e){return h()<=i.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.localDocumentsView.getDocumentsMatchingQuery(t,e,It.MIN)},t}(),mr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Rt();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++){e=o[i].applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Dt();return i.forEach(function(t,e){e||(e=new ze(t,It.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ht(e)).next(function(t){var e=Lt();return t instanceof Ke&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var r=this;g(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Lt();return this.indexManager.getCollectionParents(t,i).next(function(a){return zt.forEach(a,function(a){var s=e.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.addMissingBaseDocuments(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),f=u.applyToLocalView(l,l,o.localWriteTime);r=f instanceof Ke?r.insert(c,f):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){e.matches(n)||(r=r.remove(t))}),r})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Bt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof _e&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ke&&(c=c.insert(t,e))}),c})},t}(),yr=function(){function t(){this.refsByKey=new Ot(vr.compareByKey),this.refsByTarget=new Ot(vr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new vr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new vr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ht.EMPTY,r=new vr(n,t),i=new vr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ht.EMPTY,n=new vr(e,t),r=new vr(e,t+1),i=Bt();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new vr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),vr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)||X(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return X(t.targetOrBatchId,e.targetOrBatchId)||ht.comparator(t.key,e.key)},t}(),gr=function(){function t(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new yr,this.targetDataByTarget=new kt(X),this.targetIdByTarget=new He(function(t){return t.canonicalId()}),this.lastDocumentChangeReadTime=It.MIN,g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.targetCache=t.getTargetCache(),this.localDocuments=new mr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return t.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},t.prototype.handleUserChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",function(r){var o;return i.mutationQueue.getAllMutationBatches(r).next(function(a){return o=a,e=i.persistence.getMutationQueue(t),n=new mr(i.remoteDocuments,e,i.persistence.getIndexManager()),e.getAllMutationBatches(r)}).next(function(t){for(var e=[],i=[],a=Bt(),s=0,u=o;s<u.length;s++){var c=u[s];e.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=t;p<d.length;p++){c=d[p];i.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++){h=y[m];a=a.add(h.key)}}return n.getDocuments(r,a).next(function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:i}})})})];case 1:return r=o.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}})})},t.prototype.localWrite=function(t){var e,n=this,r=_t.now(),i=t.reduce(function(t,e){return t.add(e.key)},Bt());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",function(o){return n.localDocuments.getDocuments(o,i).next(function(i){e=i;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=c.extractBaseValue(e.get(c.key));null!=l&&a.push(new _e(c.key,l,l.fieldMask(),Ee.exists(!0)))}return n.mutationQueue.addMutationBatch(o,r,a,t)})}).then(function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):zt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return g(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",function(e){return t.targetCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=e.snapshotVersion,i=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",function(o){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.targetDataByTarget;var s=[];k(e.targetChanges,function(e,a){var u=i.get(e);if(u){s.push(n.targetCache.removeMatchingKeys(o,a.removedDocuments,e).next(function(){return n.targetCache.addMatchingKeys(o,a.addedDocuments,e)}));var c=a.resumeToken;if(c.length>0){var l=u.withResumeToken(c,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(e,l),t.shouldPersistTargetData(u,l,a)&&s.push(n.targetCache.updateTargetData(o,l))}}});var u=Dt(),c=Bt();if(e.documentUpdates.forEach(function(t,e){c=c.add(t)}),s.push(a.getEntries(o,c).next(function(t){e.documentUpdates.forEach(function(i,c){var l=t.get(i);c instanceof ze&&c.version.isEqual(It.MIN)?(a.removeEntry(i,r),u=u.insert(i,c)):null==l||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(g(!It.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),a.addEntry(c,r),u=u.insert(i,c)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))})})),!r.isEqual(It.MIN)){var l=n.targetCache.getLastRemoteSnapshotVersion(o).next(function(t){return g(r.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.targetCache.setTargetsMetadata(o,o.currentSequenceNumber,r)});s.push(l)}return zt.waitFor(s).next(function(){return a.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,u)})}).then(function(t){return n.targetDataByTarget=i,t})},t.shouldPersistTargetData=function(t,e,n){return g(e.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var a=this.targetDataByTarget.get(o);g(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.snapshotVersion,u=a.withLastLimboFreeSnapshotVersion(s);this.targetDataByTarget=this.targetDataByTarget.insert(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",function(n){return zt.forEach(t,function(t){return zt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateTarget=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",function(n){var r;return e.targetCache.getTargetData(n,t).next(function(i){return i?(r=i,zt.resolve(r)):e.targetCache.allocateTargetId(n).next(function(i){return r=new Cn(t,i,wn.Listen,n.currentSequenceNumber),e.targetCache.addTargetData(n,r).next(function(){return r})})})}).then(function(n){return null===e.targetDataByTarget.get(n.targetId)&&(e.targetDataByTarget=e.targetDataByTarget.insert(n.targetId,n),e.targetIdByTarget.set(t,n.targetId)),n})},t.prototype.getTargetData=function(t,e){var n=this.targetIdByTarget.get(e);return void 0!==n?zt.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(t,e)},t.prototype.releaseTarget=function(t,e){var n=this,r=this.targetDataByTarget.get(t);if(!r)return Promise.resolve();var i=e?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",i,function(i){var o=n.localViewReferences.removeReferencesForId(t);return e?zt.resolve():zt.forEach(o,function(t){return n.persistence.referenceDelegate.removeReference(i,t)}).next(function(){n.persistence.referenceDelegate.removeTarget(i,r)})}).then(function(){n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(r.target)})},t.prototype.executeQuery=function(t,e){var n=this,r=It.MIN,i=Bt();return this.persistence.runTransaction("Execute query","readonly-idempotent",function(o){return n.getTargetData(o,t.toTarget()).next(function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(o,t.targetId).next(function(t){i=t})}).next(function(){return n.queryEngine.getDocumentsMatchingQuery(o,t,e?r:It.MIN,e?i:Bt())}).next(function(t){return{documents:t,remoteKeys:i}})})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",function(n){return e.targetCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=zt.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o,e.commitVersion):g(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",function(n){return t.collect(n,e.targetDataByTarget)})},t.prototype.getTarget=function(t){var e=this,n=this.targetDataByTarget.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",function(n){return e.targetCache.getTargetDataForTarget(n,t).next(function(t){return t?t.target:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)}).then(function(e){var n=e.changedDocs,r=e.readTime;return t.lastDocumentChangeReadTime=r,n})},t.prototype.synchronizeLastDocumentChangeReadTime=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e=this;return a.__generator(this,function(n){return this.remoteDocuments instanceof Ye?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",function(e){return t.getLastDocumentChange(e)}).then(function(t){var n=t.readTime;e.lastDocumentChangeReadTime=n})]):[2]})})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),br=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Ot(vr.compareByKey)}return t.prototype.checkEmpty=function(t){return zt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,zt.resolve()},t.prototype.getLastStreamToken=function(t){return zt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,zt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){g(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Wt(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new vr(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return zt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return g(null!=n,"Failed to find local mutation batch."),zt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return zt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return zt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new vr(e,0),i=new vr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),zt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ot(X);return e.forEach(function(t){var e=new vr(t,0),i=new vr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),zt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ht.isDocumentKey(i)||(i=i.child(""));var o=new vr(new ht(i),0),a=new Ot(X);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),zt.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;g(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return zt.forEach(e.mutations,function(i){var o=new vr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new vr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return zt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),zt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n},t}();var wr,Er=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new kt(ht.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){g(!n.isEqual(It.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Rt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),zt.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){g(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Lt(),i=new ht(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Ke&&e.matches(c)&&(r=r.insert(c.key,c))}return zt.resolve(r)},t.prototype.forEachDocumentKey=function(t,e){return zt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return zt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i?n.push(e.documentCache.addEntry(t,i,e.readTime)):e.documentCache.removeEntry(r)}),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Qe),t}(),Sr=function(){function t(t){this.persistence=t,this.targets=new He(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=It.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new yr,this.targetCount=0,this.targetIdGenerator=ce.forTargetCache()}return t.prototype.forEachTarget=function(t,e){return this.targets.forEach(function(t,n){return e(n)}),zt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,zt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),zt.resolve()},t.prototype.saveTargetData=function(t){this.targets.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return g(!this.targets.has(e.target),"Adding a target that already exists"),this.saveTargetData(e),this.targetCount+=1,zt.resolve()},t.prototype.updateTargetData=function(t,e){return g(this.targets.has(e.target),"Updating a non-existent target"),this.saveTargetData(e),zt.resolve()},t.prototype.removeTargetData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.targets.has(e.target),"Removing a non-existent target from the cache"),this.targets.delete(e.target),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,zt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.targets.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.targets.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),zt.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return zt.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.targets.get(e)||null;return zt.resolve(n)},t.prototype.getTargetDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),zt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return zt.resolve(n)},t.prototype.containsKey=function(t,e){return zt.resolve(this.references.containsKey(e))},t}(),Tr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new st(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new Sr(this);this.indexManager=new tn,this.remoteDocumentCache=new Er(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new kr(t,new Nn(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Ir(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new br(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.targetCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new _r(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.mutationQueuesContainKey=function(t,e){return zt.or((n=this.mutationQueues,r=[],C(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),_r=function(t){function e(e){var n=t.call(this)||this;return n.currentSequenceNumber=e,n}return a.__extends(e,t),e}(Mn),Ir=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw v("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return zt.or([function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),kr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new He(function(t){return wt(t.path)}),this.garbageCollector=new Rn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return zt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return zt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?zt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(t){t||(r++,o.removeEntry(i))})}).next(function(){return o.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return zt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getTargetCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return zt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Cr=1e3,Nr=1.5,Ar=6e4,Or=function(){function t(t,e,n,r,i){void 0===n&&(n=Cr),void 0===r&&(r=Nr),void 0===i&&(i=Ar),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(wr||(wr={}));var xr,Pr,Dr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=wr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Or(t,e)}return t.prototype.isStarted=function(){return this.state===wr.Starting||this.state===wr.Open||this.state===wr.Backoff},t.prototype.isOpen=function(){return this.state===wr.Open},t.prototype.start=function(){this.state!==wr.Error?(g(this.state===wr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(wr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=wr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(wr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===wr.Error||Xn(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==wr.Error?this.backoff.reset():e&&e.code===E.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===E.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===wr.Initial,"Must be in initial state to auth"),this.state=wr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new S(E.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===wr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===wr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=wr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===wr.Error,"Should only perform backoff when in Error state"),this.state=wr.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return g(this.state===wr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=wr.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(wr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Rr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,et.ListenStreamConnectionBackoff,et.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Dr),Mr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,et.WriteStreamConnectionBackoff,et.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=w(),a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Dr),Lr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Mr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Rr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Dt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Fr=function(){function t(t){this.datastore=t,this.readVersions=Ut(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new S(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof ze||t instanceof Ke?n.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new ke(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new S(E.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Ke)e=t.version;else{if(!(t instanceof ze))throw v("Document in a transaction was a "+t.constructor.name);e=It.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new S(E.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?Ee.updateTime(e):Ee.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(It.forDeletedDoc()))throw new S(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ee.updateTime(e)}return Ee.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){g(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(xr||(xr={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(Pr||(Pr={}));
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ur,jr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=xr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(xr.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(et.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===xr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(xr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===xr.Online?(this.setAndBroadcast(xr.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(xr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===xr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}();function Br(t){switch(t){case E.OK:return v("Treated status OK as error");case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Vr(t){if(void 0===t)return m("GRPC error has no .code"),E.UNKNOWN;switch(t){case Ur.OK:return E.OK;case Ur.CANCELLED:return E.CANCELLED;case Ur.UNKNOWN:return E.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return E.INTERNAL;case Ur.UNAVAILABLE:return E.UNAVAILABLE;case Ur.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Ur.NOT_FOUND:return E.NOT_FOUND;case Ur.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Ur.ABORTED:return E.ABORTED;case Ur.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Ur.DATA_LOSS:return E.DATA_LOSS;default:return v("Unknown status code: "+t)}}function qr(t){if(void 0===t)return Ur.OK;switch(t){case E.OK:return Ur.OK;case E.CANCELLED:return Ur.CANCELLED;case E.UNKNOWN:return Ur.UNKNOWN;case E.DEADLINE_EXCEEDED:return Ur.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return Ur.RESOURCE_EXHAUSTED;case E.INTERNAL:return Ur.INTERNAL;case E.UNAVAILABLE:return Ur.UNAVAILABLE;case E.UNAUTHENTICATED:return Ur.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return Ur.INVALID_ARGUMENT;case E.NOT_FOUND:return Ur.NOT_FOUND;case E.ALREADY_EXISTS:return Ur.ALREADY_EXISTS;case E.PERMISSION_DENIED:return Ur.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return Ur.FAILED_PRECONDITION;case E.ABORTED:return Ur.ABORTED;case E.OUT_OF_RANGE:return Ur.OUT_OF_RANGE;case E.UNIMPLEMENTED:return Ur.UNIMPLEMENTED;case E.DATA_LOSS:return Ur.DATA_LOSS;default:return v("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(Ur||(Ur={}));
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wr,Kr,zr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ht.comparator(e.key,n.key)}:function(t,e){return ht.comparator(t.key,e.key)},this.keyedMap=Lt(),this.sortedSet=new kt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Wr||(Wr={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Kr||(Kr={}));var Gr,Hr=function(){function t(){this.changeMap=new kt(ht.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Wr.Added&&n.type===Wr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Wr.Metadata&&n.type!==Wr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Wr.Modified&&n.type===Wr.Modified?this.changeMap=this.changeMap.insert(e,{type:Wr.Modified,doc:t.doc}):t.type===Wr.Modified&&n.type===Wr.Added?this.changeMap=this.changeMap.insert(e,{type:Wr.Added,doc:t.doc}):t.type===Wr.Removed&&n.type===Wr.Added?this.changeMap=this.changeMap.remove(e):t.type===Wr.Removed&&n.type===Wr.Modified?this.changeMap=this.changeMap.insert(e,{type:Wr.Removed,doc:n.doc}):t.type===Wr.Added&&n.type===Wr.Removed?this.changeMap=this.changeMap.insert(e,{type:Wr.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Qr=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Wr.Added,doc:t})}),new t(e,n,zr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Yr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Xr.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(It.MIN,i,qt(),Dt(),Bt())},t}(),Xr=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Bt(),Bt(),Bt())},t}(),$r=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Jr=function(t,e){this.targetId=t,this.existenceFilter=e};!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Gr||(Gr={}));var Zr=function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ti=function(){function t(){this.pendingResponses=0,this.documentChanges=ri(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Bt(),e=Bt(),n=Bt();return this.documentChanges.forEach(function(r,i){switch(i){case Wr.Added:t=t.add(r);break;case Wr.Modified:e=e.add(r);break;case Wr.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}}),new Xr(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ri()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),ei=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=ni(),this.pendingTargetResets=new Ot(X)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof Ke?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ze&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Gr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Gr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Gr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Gr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Gr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):k(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.targetDataForActiveTarget(e);if(r){var i=r.target;if(i.isDocumentQuery())if(0===n){var o=new ht(i.path);this.removeDocumentFromTarget(e,o,new ze(o,It.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};k(this.targetStates,function(r,i){var o=e.targetDataForActiveTarget(r);if(o){if(i.current&&o.target.isDocumentQuery()){var a=new ht(o.target.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ze(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Bt();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.targetDataForActiveTarget(t);return!n||n.purpose===wn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Yr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Dt(),this.pendingDocumentTargetMapping=ni(),this.pendingTargetResets=new Ot(X),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Wr.Modified:Wr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Wr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new ti),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Ot(X),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.targetDataForActiveTarget(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.targetDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getTargetDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new ti,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function ni(){return new kt(ht.comparator)}function ri(){return new kt(ht.comparator)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii="RemoteStore",oi=function(){function t(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return a.__awaiter(o,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(ii,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new jr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(xr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(xr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d(ii,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return d(ii,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(xr.Unknown),[2]}})})},t.prototype.listen=function(t){_(this.listenTargets,t.targetId)||(this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t))},t.prototype.unlisten=function(t){_(this.listenTargets,t)&&(delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),N(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(xr.Unknown)))},t.prototype.getTargetDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new ei(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!N(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return k(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(xr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(xr.Online),t instanceof Zr&&t.state===Gr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof $r?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Jr?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof Zr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(It.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual(It.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return k(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(w(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new Cn(n.target,t,wn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return _(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e;return a.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(Vn)},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Kt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return Br(t.code)?(d(ii,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Vn)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return Br(i=t.code)&&i!==E.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new Fr(this.datastore)},t.prototype.restartNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(xr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(ii,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(xr.Unknown),e.label=4;case 4:return[2]}})})},t}(),ai=function(){function t(t,e){if(O("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return X(this._lat,t._lat)||X(this._long,t._long)},t}(),si=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Fe(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ui=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=fi(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new qe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),ci=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=fi(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new qe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),li=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);if(n instanceof De&&this.operand instanceof De){var r=n.internalValue+this.operand.internalValue;return new De(r)}r=n.internalValue+this.operand.internalValue;return new Re(r)},t.prototype.applyToRemoteDocument=function(t,e){return g(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof xe?t:new De(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function fi(t){return t instanceof qe?t.internalValue.slice():[]}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi,pi,di=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),mi=((hi={})[cr.ASCENDING.name]="ASCENDING",hi[cr.DESCENDING.name]="DESCENDING",hi),yi=((pi={})[nr.LESS_THAN.name]="LESS_THAN",pi[nr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",pi[nr.GREATER_THAN.name]="GREATER_THAN",pi[nr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",pi[nr.EQUAL.name]="EQUAL",pi[nr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",pi[nr.IN.name]="IN",pi[nr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",pi),vi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){g(!Xn(t),e+" is missing")}function bi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var wi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?E.UNKNOWN:Vr(t.code);return new S(e,t.message||"")},t.prototype.toInt32Value=function(t){return this.options.useProto3Json||Xn(t)?t:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Xn(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=bi(t.seconds||"0"),n=t.nanos||0;return new _t(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=vi.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new _t(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),nt.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),nt.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),It.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ct.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ht(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ct.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ct(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ct(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ae)return{nullValue:"NULL_VALUE"};if(t instanceof Oe)return{booleanValue:t.value()};if(t instanceof De)return{integerValue:""+t.value()};if(t instanceof Re){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Me?{stringValue:t.value()}:t instanceof Ve?{mapValue:this.toMapValue(t)}:t instanceof qe?{arrayValue:this.toArrayValue(t)}:t instanceof Le?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Be?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ue?{bytesValue:this.toBytes(t.value())}:t instanceof je?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Ae.INSTANCE;if("booleanValue"in t)return Oe.of(t.booleanValue);if("integerValue"in t)return new De(bi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Re.NAN;if("Infinity"===t.doubleValue)return Re.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Re.NEGATIVE_INFINITY}return new Re(t.doubleValue)}if("stringValue"in t)return new Me(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t){gi(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new qe(n.map(function(t){return e.fromValue(t)}))}if("timestampValue"in t)return gi(t.timestampValue,"timestampValue"),new Le(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t){gi(t.geoPointValue,"geoPointValue");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new Be(new ai(r,i))}if("bytesValue"in t){gi(t.bytesValue,"bytesValue");var o=this.fromBlob(t.bytesValue);return new Ue(o)}if("referenceValue"in t){gi(t.referenceValue,"referenceValue");var a=this.fromResourceName(t.referenceValue),s=new at(a.get(1),a.get(3)),u=new ht(this.extractLocalPathFromResourceName(a));return new je(s,u)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new Ke(r,i,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Ve.EMPTY;return C(n,function(t,n){r=r.set(new ft([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){var e=this;g(!!t.found,"Tried to deserialize a found document from a missing document."),gi(t.found.name,"doc.found.name"),gi(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new Ke(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ze(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Gr.Added:return"ADD";case Gr.Current:return"CURRENT";case Gr.NoChange:return"NO_CHANGE";case Gr.Removed:return"REMOVE";case Gr.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Jr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof $r){if(t.newDoc instanceof Ke){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof ze){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Zr){var n=void 0;return t.cause&&(n={code:qr(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){gi(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Zr(r,i,o,s||null)}else if("documentChange"in t){gi(t.documentChange,"documentChange"),gi(t.documentChange.document,"documentChange.name"),gi(t.documentChange.document.name,"documentChange.document.name"),gi(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),f=new Ke(c,l,{},void 0,u.document,function(t){return n.fromValue(t)}),h=u.targetIds||[],p=u.removedTargetIds||[];e=new $r(h,p,f.key,f)}else if("documentDelete"in t){gi(t.documentDelete,"documentDelete"),gi(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):It.forDeletedDoc(),f=new ze(c,l),p=d.removedTargetIds||[];e=new $r([],p,f.key,f)}else if("documentRemove"in t){gi(t.documentRemove,"documentRemove"),gi(t.documentRemove.document,"documentRemove");var m=t.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[];e=new $r([],p,c,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));gi(t.filter,"filter"),gi(t.filter.targetId,"filter.targetId");var y=t.filter,g=y.count||0,b=new di(g),w=y.targetId;e=new Jr(w,b)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Gr.NoChange:"ADD"===t?Gr.Added:"REMOVE"===t?Gr.Removed:"CURRENT"===t?Gr.Current:"RESET"===t?Gr.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return It.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?It.MIN:e.readTime?this.fromVersion(e.readTime):It.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof Te)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ke)e={delete:this.toName(t.key)};else if(t instanceof _e)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Ie))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Ee.NONE;if(t.update){gi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new _e(r,i,o,n)}return new Te(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new ke(r,n)}if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ie(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Ee.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Ee.exists(t.exists):Ee.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);r.isEqual(It.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ge(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(g(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof si)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ui)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ci)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof li)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=si.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ui(r.map(function(t){return e.fromValue(t)}))}else if("removeAllFromArray"in t){r=t.removeAllFromArray.values||[];n=new ci(r.map(function(t){return e.fromValue(t)}))}else if("increment"in t){var i=this.fromValue(t.increment);g(i instanceof xe,"NUMERIC_ADD transform requires a NumberValue"),n=new li(i)}else v("Unknown transform proto: "+JSON.stringify(t));var o=ft.fromServerFormat(t.fieldPath);return new ve(o,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;g(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return tr.atPath(this.fromQueryPath(n)).toTarget()},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(g(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(g(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new tr(e,i,s,a,u,Jn.First,c,l).toTarget()},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case wn.Listen:return null;case wn.ExistenceFilterMismatch:return"existence-filter-mismatch";case wn.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.target;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof rr?e.toUnaryOrFieldFilter(t):v("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new lr(r,n)},t.prototype.toDirection=function(t){return mi[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return cr.ASCENDING;case"DESCENDING":return cr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return yi[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return nr.EQUAL;case"GREATER_THAN":return nr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return nr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return nr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return nr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return nr.ARRAY_CONTAINS;case"IN":return nr.IN;case"ARRAY_CONTAINS_ANY":return nr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ft.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new fr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return rr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===nr.EQUAL){if(t.value.isEqual(Re.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ae.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return rr.create(e,nr.EQUAL,Re.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return rr.create(n,nr.EQUAL,Ae.INSTANCE);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ft.fromServerFormat(t)});return ye.fromArray(e)},t}(),Ei=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Si=function(){function t(t){this.syncEngine=t,this.queries=new He(function(t){return t.canonicalId()}),this.onlineState=xr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);(r||(n=!0,r=new Ei,this.queries.set(e,r)),r.listeners.push(t),g(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++){u[s].onViewSnapshot(i)&&(e=!0)}a.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++){o[i].applyOnlineStateChange(t)&&(e=!0)}}),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},t}(),Ti=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=xr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Wr.Metadata&&e.push(i)}t=new Qr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){if(g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==xr.Offline;return this.options.waitForSyncWhenOnline&&n?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===xr.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Qr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),_i=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=r}return t.fromSnapshot=function(e,n){for(var r=Bt(),i=Bt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Wr.Added:r=r.add(s.doc.key);break;case Wr.Removed:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ii=function(t){this.key=t},ki=function(t){this.key=t},Ci=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Bt(),this.mutatedKeys=Bt(),this.documentSet=new zr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Hr,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimitToFirst()&&i.size===this.query.limit?i.last():null,c=this.query.hasLimitToLast()&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=e instanceof Ke?e:null;f&&(g(t.isEqual(f.key),"Mismatching keys found in document changes: "+t+" != "+f.key),f=n.query.matches(f)?f:null);var h=!!l&&n.mutatedKeys.has(l.key),p=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),d=!1;l&&f?l.data().isEqual(f.data())?h!==p&&(r.track({type:Wr.Metadata,doc:f}),d=!0):n.shouldWaitForSyncedDocument(l,f)||(r.track({type:Wr.Modified,doc:f}),d=!0,(u&&n.query.docComparator(f,u)>0||c&&n.query.docComparator(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:Wr.Added,doc:f}),d=!0):l&&!f&&(r.track({type:Wr.Removed,doc:l}),d=!0,(u||c)&&(s=!0));d&&(f?(a=a.add(f),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;a.size>this.query.limit;){var l=this.query.hasLimitToFirst()?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:Wr.Removed,doc:l})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Wr.Added:return 1;case Wr.Modified:case Wr.Metadata:return 2;case Wr.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Kr.Synced:Kr.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Qr(this.query,t.documentSet,i,o,t.mutatedKeys,s===Kr.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===xr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Hr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Bt(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new ki(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new Ii(t))}),n},t.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Bt();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},t.prototype.computeInitialSnapshot=function(){return Qr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Kr.Local)},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni=5,Ai=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=Ni,this.backoff=new Or(this.asyncQueue,et.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return a.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!Xn(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Br(e)}return!1},t}(),Oi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},xi=function(t){this.key=t,this.receivedDocument=!1},Pi=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new He(function(t){return t.canonicalId()}),this.queriesByTarget={},this.limboTargetsByKey=new kt(ht.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new yr,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=ce.forSyncEngine(),this.isPrimary=void 0,this.onlineState=xr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){g(null!==t,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(t.toTarget())];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(t,e,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i,o,s,u,c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return r=a.sent(),i=new Ci(t,r.remoteKeys),o=i.computeDocChanges(r.documents),s=Xr.createSynthesizedTargetChangeForCurrentChange(e,n&&this.onlineState!==xr.Offline),g(0===(u=i.applyChanges(o,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new Oi(t,e,i),this.queryViewsByQuery.set(t,c),this.queriesByTarget[e]||(this.queriesByTarget[e]=[]),this.queriesByTarget[e].push(t),[2,u.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=r.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),(n=this.queriesByTarget[e.targetId]).length>1?(this.queriesByTarget[e.targetId]=n.filter(function(e){return!e.isEqual(t)}),this.queryViewsByQuery.delete(t),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseTarget(e.targetId,!1).then(function(){r.sharedClientState.clearQueryState(e.targetId),r.remoteStore.unlisten(e.targetId),r.removeAndCleanupTarget(e.targetId)}).catch(Vn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(e.targetId),[4,this.localStore.releaseTarget(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new Ai(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),C(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(g(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Pr.RemoteStore||!this.isPrimary&&e===Pr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new kt(ht.comparator)).insert(r,new ze(r,It.forDeletedDoc())),o=Bt().add(r),s=new Yr(It.MIN,{},new Ot(X),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return[4,this.localStore.releaseTarget(t,!1).then(function(){return u.removeAndCleanupTarget(t,e)}).catch(Vn)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),e=t.batch.batchId,this.processUserCallback(e,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new S(E.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new kt(X)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupTarget=function(t,e){var n=this;void 0===e&&(e=null),this.sharedClientState.removeLocalQueryTarget(t),g(this.queriesByTarget[t]&&0!==this.queriesByTarget[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.queriesByTarget[t];r<i.length;r++){var o=i[r];this.queryViewsByQuery.delete(o),e&&this.syncEngineListener.onWatchError(o,e)}if(delete this.queriesByTarget[t],this.isPrimary){var a=this.limboDocumentRefs.referencesForId(t);this.limboDocumentRefs.removeReferencesForId(t),a.forEach(function(t){n.limboDocumentRefs.containsKey(t)||n.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof Ii)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof ki){d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=tr.atPath(e.path);this.limboResolutionsByTarget[n]=new xi(e),this.remoteStore.listen(new Cn(r.toTarget(),n,wn.LimboResolution,st.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query,!1).then(function(t){var n=t.documents;return s.view.computeDocChanges(n,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=_i.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){g(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],u=Promise.resolve(),k(this.queriesByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then(function(){return c.removeAndCleanupTarget(t),c.localStore.releaseTarget(t,!0)}),c.remoteStore.unlisten(t)}),[4,u]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;k(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new kt(ht.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,u,c,l,f,h,p,d;return a.__generator(this,function(a){switch(a.label){case 0:e=[],n=[],r=0,i=t,a.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(u=this.queriesByTarget[o])&&0!==u.length?[4,this.localStore.releaseTarget(o,!0)]:[3,8]):[3,14];case 2:return a.sent(),[4,this.localStore.allocateTarget(u[0].toTarget())];case 3:s=a.sent(),c=0,l=u,a.label=4;case 4:return c<l.length?(f=l[c],g(!!(h=this.queryViewsByQuery.get(f)),"No query view found for "+f),[4,this.synchronizeViewAndComputeSnapshot(h)]):[3,7];case 5:(p=a.sent()).snapshot&&n.push(p.snapshot),a.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return g(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(o)];case 9:return g(!!(d=a.sent()),"Target for id "+o+" not found"),[4,this.localStore.allocateTarget(d)];case 10:return s=a.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(d),o,!1)];case 11:a.sent(),a.label=12;case 12:e.push(s),a.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.synthesizeTargetToQuery=function(t){return new tr(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,Jn.First,t.startAt,t.endAt)},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=o.sent(),i=Yr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(t,!0)];case 5:return o.sent(),this.removeAndCleanupTarget(t,n),[3,7];case 6:v("Unexpected target state: "+e),o.label=7;case 7:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,f,h=this;return a.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(f=r[n],g(!this.queriesByTarget[f],"Trying to add an already active target"),[4,this.localStore.getTarget(f)]):[3,6];case 2:return g(!!(i=p.sent()),"Query data for active target "+f+" not found"),[4,this.localStore.allocateTarget(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(i),o.targetId,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return a.__generator(this,function(e){switch(e.label){case 0:return u.queriesByTarget[t]?[4,u.localStore.releaseTarget(t,!1).then(function(){h.remoteStore.unlisten(t),h.removeAndCleanupTarget(t)}).catch(Vn)]:[2,"continue"];case 1:return e.sent(),[2]}})},u=this,c=0,l=e,p.label=7;case 7:return c<l.length?(f=l[c],[5,s(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];if(e&&e.receivedDocument)return Bt().add(e.key);var n=Bt(),r=this.queriesByTarget[t];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var a=o[i],s=this.queryViewsByQuery.get(a);g(!!s,"No query view found for "+a),n=n.unionWith(s.view.syncedDocuments)}return n},t}(),Di=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ri="SharedClientState",Mi="firestore_clients",Li="firestore_mutations",Fi="firestore_targets",Ui="firestore_online_state",ji="firestore_sequence_number",Bi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,g(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new S(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(m(Ri,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,g(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new S(r.error.code,r.error.message)),i?new t(e,r.state,o):(m(Ri,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qt(),a=0;i&&a<r.activeTargetIds.length;++a)i=$n(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(m(Ri,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in xr&&"string"==typeof n.clientId?new t(n.clientId,xr[n.onlineState]):(m(Ri,"Failed to parse online state: "+e),null)},t}(),Ki=function(){function t(){this.activeTargetIds=qt()}return t.prototype.addQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new S(E.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=ji+"_"+r,this.activeClients[this.localClientId]=new Ki,this.clientStateKeyRe=new RegExp("^"+Mi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Li+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Fi+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ui+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,f,h=this;return a.__generator(this,function(a){switch(a.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=qi.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)f=l[c],this.handleWebStorageEvent(f);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=qt();return C(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Vi.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(Ri,"READ",t,e),e},t.prototype.setItem=function(t,e){d(Ri,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(Ri,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(Ri,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=st.INVALID;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){m(Ri,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==st.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Bi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:xr[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Vi(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return g(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Mi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Fi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Li+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return g(null!==n,"Cannot parse client state key '"+t+"'"),qi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);g(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Bi.fromWebStorageEntry(new Di(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);g(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Vi.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Wi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(Ri,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var Gi=function(){function t(){this.localState=new Ki,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ki,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Hi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Pn.withCacheSize(this.cacheSizeBytes)},t}(),Qi=function(){},Yi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=Y.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new pt,r=new pt,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Hi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof S?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Bn.buildStoragePrefix(this.databaseInfo),i=new wi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(a){switch(a.label){case 0:if(e.synchronizeTabs&&!zi.isAvailable(this.platform))throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new zi(this.asyncQueue,this.platform,r,this.clientId,t):new Gi,[4,Bn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Tr.createEagerPersistence(this.clientId),this.sharedClientState=new Gi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,o,s,u,c,l=this;return a.__generator(this,function(f){switch(f.label){case 0:return n=new dr,this.localStore=new gr(this.persistence,n,t),[4,this.localStore.start()];case 1:return f.sent(),e&&(this.lruScheduler=new Dn(e,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),s=new Lr(this.asyncQueue,r,this.credentials,o),u=function(t){return l.syncEngine.applyOnlineStateChange(t,Pr.RemoteStore)},c=function(t){return l.syncEngine.applyOnlineStateChange(t,Pr.SharedClientState)},this.remoteStore=new oi(this.localStore,s,this.asyncQueue,u,i),this.syncEngine=new Pi(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=c,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Si(this.syncEngine),[4,this.sharedClientState.start()];case 2:return f.sent(),[4,this.remoteStore.start()];case 3:return f.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(l,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 4:return f.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return a.__awaiter(l,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 5:return f.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new pt;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new Ti(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof Ke)return t;if(t instanceof ze)return null;throw new S(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r;return a.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=i.sent(),n=new Ci(t,e.remoteKeys),r=n.computeDocChanges(e.documents),[2,n.applyChanges(r,!1).snapshot]}})})})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new pt;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new pt;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),Xi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),$i=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+Q(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(D("FieldPath","string",n,t[n]),0===t[n].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ft.keyField().canonicalString()),t}(),Ji=new RegExp("[~\\*/\\[\\]]");
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Zi=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},to=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Di.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),eo=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=Di.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new S(E.ABORTED,"getToken aborted due to token change.");return n?(g("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Zi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return g(null===t||"string"==typeof t,"Received invalid UID: "+t),new Di(t)},t}(),no=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Di.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),ro=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new no(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Di.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function io(t){if(!t)return new to;switch(t.type){case"gapi":var e=t.client;return g(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new ro(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new S(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}var ao,so=function(){function t(t){this._methodName=t}return t.delete=function(){return A("FieldValue.delete",arguments),uo.instance},t.serverTimestamp=function(){return A("FieldValue.serverTimestamp",arguments),co.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayUnion",arguments,1),new lo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayRemove",arguments,1),new fo(t)},t.increment=function(t){return D("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1),new ho(t)},t.prototype.isEqual=function(t){return this===t},t}(),uo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(so),co=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(so),lo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(so),fo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(so),ho=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}(so),po=T(so,"Use FieldValue.<field>() instead."),mo=/^__.*__$/,yo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new _e(t,this.data,this.fieldMask,e)):n.push(new Te(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ie(t,this.fieldTransforms)),n},t}(),vo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new _e(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Ie(t,this.fieldTransforms)),n},t}();function go(t){switch(t){case ao.Set:case ao.MergeSet:case ao.Update:return!0;case ao.Argument:case ao.ArrayArgument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t[t.ArrayArgument=4]="ArrayArgument"}(ao||(ao={}));var bo=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(E.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(go(this.dataSource)&&mo.test(t))throw this.createError('Document fields cannot begin and end with "__"')},t}(),wo=function(t,e){this.databaseId=t,this.key=e},Eo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new bo(ao.Set,t,ft.EMPTY_PATH);To("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new yo(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new bo(ao.MergeSet,t,ft.EMPTY_PATH);To("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new Ot(ft.comparator),u=0,c=n;u<c.length;u++){var l=c[u],f=void 0;if(l instanceof $i)f=l._internalPath;else{if("string"!=typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");f=Io(t,l)}if(!r.contains(f))throw new S(E.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");s=s.add(f)}i=ye.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ye.fromArray(r.fieldMask),o=r.fieldTransforms;return new yo(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new bo(ao.Update,t,ft.EMPTY_PATH);To("Data must be an object, but it was:",r,e);var i=new Ot(ft.comparator),o=Ve.EMPTY;C(e,function(e,a){var s=Io(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof uo)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=ye.fromSet(i);return new vo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new bo(ao.Update,t,ft.EMPTY_PATH),o=[_o(t,e)],a=[n];if(r.length%2!=0)throw new S(E.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(_o(t,r[s])),a.push(r[s+1]);var u=new Ot(ft.comparator),c=Ve.EMPTY;for(s=0;s<o.length;++s){var l=o[s],f=i.childContextForFieldPath(l),h=this.runPreConverter(a[s],f);if(h instanceof uo)u=u.add(l);else{var p=this.parseData(h,f);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=ye.fromSet(u);return new vo(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e,n){void 0===n&&(n=!1);var r=new bo(n?ao.ArrayArgument:ao.Argument,t,ft.EMPTY_PATH),i=this.parseData(e,r);return g(null!=i,"Parsed data should not be null."),g(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=ko(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(So(t=this.runPreConverter(t,e)))return To("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof so)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement&&e.dataSource!==ao.ArrayArgument)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new kt(X);return N(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):C(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Ve(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=Ae.INSTANCE),n.push(s),r++}return new qe(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!go(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof uo){if(e.dataSource!==ao.MergeSet)throw e.dataSource===ao.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof co)e.fieldTransforms.push(new ve(e.path,si.instance));else if(t instanceof lo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ui(n);e.fieldTransforms.push(new ve(e.path,r))}else if(t instanceof fo){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ci(n);e.fieldTransforms.push(new ve(e.path,i))}else if(t instanceof ho){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new li(o);e.fieldTransforms.push(new ve(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ae.INSTANCE;if("number"==typeof t)return $n(t)?new De(t):new Re(t);if("boolean"==typeof t)return Oe.of(t);if("string"==typeof t)return new Me(t);if(t instanceof Date)return new Le(_t.fromDate(t));if(t instanceof _t)return new Le(new _t(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ai)return new Be(t);if(t instanceof nt)return new Ue(t);if(t instanceof wo)return new je(t.databaseId,t.key);throw e.createError("Unsupported field value: "+q(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new bo(ao.Argument,t,ft.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function So(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof ai||t instanceof nt||t instanceof wo||t instanceof so)}function To(t,e,n){if(!So(n)||!V(n)){var r=q(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function _o(t,e){if(e instanceof $i)return e._internalPath;if("string"==typeof e)return Io(t,e);throw new S(E.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Io(t,e){try{return function(t){if(t.search(Ji)>=0)throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new($i.bind.apply($i,a.__spreadArrays([void 0],t.split("."))))}catch(e){throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=ko(e);throw new S(E.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function ko(t){return t instanceof Error?t.message:t.toString()}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co="firestore.googleapis.com",No=!0,Ao=!0,Oo=!1,xo=Pn.COLLECTION_DISABLED,Po=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Co,this.ssl=No}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,No);if(K("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,Ao),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Pn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==xo&&t.cacheSizeBytes<Pn.MINIMUM_CACHE_SIZE_BYTES)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Pn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Oo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Do=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new mt,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new eo(r)}else{var i=e;if(!i.projectId)throw new S(E.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new at(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new to}this._settings=new Po({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(O("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),_(t,"persistence"))throw new S(E.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Po(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=io(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=I(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Hi(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Bn.buildStoragePrefix(this.makeDatabaseInfo()),n=new pt;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new S(E.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Bn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.ensureClientConfigured(),oo(t))return this.onSnapshotsInSyncInternal(t);D("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.onSnapshotsInSyncInternal(e)},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Xi({next:function(){t.next&&t.next()},error:function(t){throw v("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Qi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new it(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){g(!!this._settings.host,"FirestoreSettings.host is not set"),g(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Yi(b.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new Eo(function(e){if(e instanceof Lo){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new S(E.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new wo(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!_(e,"projectId"))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new S(E.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new at(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new qo(ct.fromString(t),this)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Lo.forPath(ct.fromString(t),this)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new S(E.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Bo(new tr(ct.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Ro(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Mo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return v("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(O("Firestore.setLogLevel",arguments,1),D("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(i.DEBUG);break;case"error":p(i.ERROR);break;case"silent":p(i.SILENT);break;default:throw new S(E.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),Ro=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=Go("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ze)return new Uo(e._firestore,n._key,null,!1,!1);if(r instanceof Ke)return new Uo(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){P("Transaction.set",arguments,2,3);var r=Go("Transaction.set",t,this._firestore),i=(n=Wo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof $i?(x("Transaction.update",arguments,3),r=Go("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(O("Transaction.update",arguments,2),r=Go("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=Go("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Mo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){P("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Go("WriteBatch.set",t,this._firestore),i=(n=Wo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Ee.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof $i?(x("WriteBatch.update",arguments,3),r=Go("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(O("WriteBatch.update",arguments,2),r=Go("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,Ee.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Go("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ke(e._key,Ee.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Lo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new S(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ht(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new qo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new S(E.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ct.fromString(t);return new qo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2);var n=(e=Wo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Ee.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof $i?(x("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(O("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,Ee.exists(!0)))},t.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ke(this._key,Ee.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||oo(t[i])||(K("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return oo(t[i])?n=t[i]:(D("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Xi({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Uo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(tr.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return P("DocumentReference.get",arguments,0,1),zo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Uo(e.firestore,e._key,t,!0,t instanceof Ke&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new S(E.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new S(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Fo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uo=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return P("DocumentSnapshot.data",arguments,0,1),t=Ko("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Ce.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(P("DocumentSnapshot.get",arguments,1,2),e=Ko("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(_o("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Ce.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Lo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Fo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Ve)return this.convertObject(t,e);if(t instanceof qe)return this.convertArray(t,e);if(t instanceof je){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Lo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Uo),Bo=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),W("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];j("Query.where",o,2,n);var a=_o("Query.where",e),s=nr.fromString(n);if(a.isKeyField()){if(s===nr.ARRAY_CONTAINS||s===nr.ARRAY_CONTAINS_ANY)throw new S(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===nr.IN){this.validateDisjunctiveFilterElements(r,s);for(var u=[],c=0,l=r;c<l.length;c++){var f=l[c];u.push(this.parseDocumentIdValue(f))}i=new qe(u)}else i=this.parseDocumentIdValue(r)}else s!==nr.IN&&s!==nr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,s),i=this.firestore._dataConverter.parseQueryValue("Query.where",r,s===nr.IN);var h=rr.create(a,s,i);return this.validateNewFilter(h),new t(this._query.addFilter(h),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(P("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=cr.ASCENDING;else{if("desc"!==n)throw new S(E.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=cr.DESCENDING}if(null!==this._query.startAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=_o("Query.orderBy",e),o=new fr(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),D("Query.limit","number",1,e),G("Query.limit",1,e),new t(this._query.withLimitToFirst(e),this.firestore)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(this._query.withLimitToLast(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(W(t,1,e),e instanceof Uo){if(n.length>0)throw new S(E.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new S(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new je(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Fe)throw new S(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new S(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new lr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new S(E.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new S(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(ct.fromString(a));if(!ht.isDocumentKey(s))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new ht(s);i.push(new je(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);i.push(c)}}return new lr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];P("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||oo(t[i])||(K("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),oo(t[i])?n=t[i]:(D("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Xi({next:function(t){e.next&&e.next(new Vo(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.validateHasExplicitOrderByForLimitToLast=function(t){if(t.hasLimitToLast()&&0===t.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return P("Query.get",arguments,0,1),zo("Query.get",t),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Vo(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new S(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(ct.fromString(t));if(!ht.isDocumentKey(e))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new je(this.firestore._databaseId,new ht(e))}if(t instanceof Lo){var n=t;return new je(this.firestore._databaseId,n._key)}throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new S(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof rr){var e=[nr.ARRAY_CONTAINS,nr.ARRAY_CONTAINS_ANY],n=[nr.IN,nr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new S(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(e)),null!=s)throw s===t.op?new S(E.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new S(E.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new S(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Vo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Fo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;P("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Bo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(K("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new jo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return g(e.type===Wr.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Wr.Metadata}).map(function(e){var r=new jo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Wr.Added&&(g((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Wr.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Ho(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new jo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();a.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Vo.prototype.docChanges,t,{get:function(){return function(){throw new S(E.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var qo=function(t){function e(e,n){var r=t.call(this,tr.atPath(e),n)||this;if(e.length%2!=1)throw new S(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Lo(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Y.newId()),D("CollectionReference.doc","non-empty string",1,t),""===t)throw new S(E.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ct.fromString(t);return Lo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1),D("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Bo);function Wo(t,e){if(void 0===e)return{merge:!1};if(K(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),F(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof $i}),void 0!==e.mergeFields&&void 0!==e.merge)throw new S(E.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ko(t,e){return void 0===e?{}:(K(t,e,["serverTimestamps"]),U(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function zo(t,e){R(t,"object",1,e),e&&(K(t,e,["source"]),U(t,0,"source",e.source,["default","server","cache"]))}function Go(t,e,n){if(e instanceof Lo){if(e.firestore!==n)throw new S(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function Ho(t){switch(t){case Wr.Added:return"added";case Wr.Modified:case Wr.Metadata:return"modified";case Wr.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Qo=T(Do,"Use firebase.firestore() instead."),Yo=T(Ro,"Use firebase.firestore().runTransaction() instead."),Xo=T(Mo,"Use firebase.firestore().batch() instead."),$o=T(Lo,"Use firebase.firestore().doc() instead."),Jo=T(Uo),Zo=T(jo),ta=T(Bo),ea=T(Vo),na=T(qo,"Use firebase.firestore().collection() instead."),ra={Firestore:Qo,GeoPoint:ai,Timestamp:_t,Blob:rt,Transaction:Yo,WriteBatch:Xo,DocumentReference:$o,DocumentSnapshot:Jo,Query:ta,QueryDocumentSnapshot:Zo,QuerySnapshot:ea,CollectionReference:na,FieldPath:$i,FieldValue:po,setLogLevel:Do.setLogLevel,CACHE_SIZE_UNLIMITED:xo};function ia(t){t.INTERNAL.registerService("firestore",function(t){return new Do(t)},function(t){g(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(ra))}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oa=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),aa=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++){(0,e[t])(0)}},t.prototype.onNetworkUnavailable=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++){(0,e[t])(1)}},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),sa=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ua="Connection",ca={BatchGetDocuments:"batchGet",Commit:"commit"},la="gl-js/ fire/"+l,fa=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=la},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,s){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();d(ua,"XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:d(ua,'RPC "'+t+'" timed out'),s(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(d(ua,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(a=r.status,l=a.toLowerCase().replace("_","-"),Object.values(E).indexOf(l)>=0?l:E.UNKNOWN);s(new S(i,r.message))}else s(new S(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(ua,'RPC "'+t+'" failed'),s(new S(E.UNAVAILABLE,"Connection failed."));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{d(ua,'RPC "'+t+'" completed.')}var a,l});var l=a.__assign({},e);delete l.database;var f=JSON.stringify(l);d(ua,"XHR sending: ",i+" "+f);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),u.send(i,"POST",f,h,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(ua,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,l=!1,f=new sa({sendFn:function(t){l?d(ua,"Not sending because WebChannel is closed:",t):(s||(d(ua,"Opening WebChannel transport."),a.open(),s=!0),d(ua,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(c.WebChannel.EventType.OPEN,function(){l||d(ua,"WebChannel transport opened.")}),h(c.WebChannel.EventType.CLOSE,function(){l||(l=!0,d(ua,"WebChannel transport closed"),f.callOnClose())}),h(c.WebChannel.EventType.ERROR,function(t){l||(l=!0,d(ua,"WebChannel transport errored:",t),f.callOnClose(new S(E.UNAVAILABLE,"The operation could not be completed")))}),h(c.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e,r=n.error||n[0]&&n[0].error;if(r){d(ua,"WebChannel received error:",r);var i=r.status,o=function(t){var e=Ur[t];if(void 0!==e)return Vr(e)}(i),s=r.message;void 0===o&&(o=E.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,f.callOnClose(new S(o,s)),a.close()}else d(ua,"WebChannel received:",e),f.callOnMessage(e)}}),setTimeout(function(){f.callOnOpen()},0),f},t.prototype.makeUrl=function(t){var e=ca[t];return g(void 0!==e,"Unknown REST mapping for: "+t),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+e},t}(),ha=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new fa(t))},t.prototype.newConnectivityMonitor=function(){return aa.isAvailable()?new aa:new oa},t.prototype.newSerializer=function(t){return new wi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pa(t){ia(t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
b.setPlatform(new ha),pa(o),e.registerFirestore=pa}).call(this,n(449))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",function(){return cr}),n.d(e,"EventType",function(){return lr}),n.d(e,"WebChannel",function(){return fr}),n.d(e,"XhrIo",function(){return hr}),n.d(e,"createWebChannelTransport",function(){return ur});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==f(t)}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.j=this.j,this.i=this.i}T.prototype.j=!1,T.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[m]||(this[m]=++y)},T.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function N(t){return/^[\s\xa0]*$/.test(t)}var A,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=a.navigator;if(D){var R=D.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=l;var B,V,q=x(A,"Opera"),W=x(A,"Trident")||x(A,"MSIE"),K=x(A,"Edge"),z=K||W,G=x(A,"Gecko")&&!(x(A.toLowerCase(),"webkit")&&!x(A,"Edge"))&&!(x(A,"Trident")||x(A,"MSIE"))&&!x(A,"Edge"),H=x(A.toLowerCase(),"webkit")&&!x(A,"Edge");function Q(){var t=a.document;return t?t.documentMode:void 0}t:{var Y="",X=(V=A,G?/rv:([^\);]+)(\)|;)/.exec(V):K?/Edge\/([\d\.]+)/.exec(V):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):H?/WebKit\/(\S+)/.exec(V):q?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if(X&&(Y=X?X[1]:""),W){var $=Q();if(null!=$&&$>parseFloat(Y)){B=String($);break t}}B=Y}var J,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=O(String(B)).split("."),r=O(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=P(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==a[2].length,0==s[2].length)||P(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var et=a.document;J=et&&W?Q()||("CSS1Compat"==et.compatMode?parseInt(B,10):5):void 0;var nt=!W||9<=Number(J),rt=W&&!tt("9"),it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(t){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{j(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},S(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ct,this.X=this.Z=!1}function ft(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ht(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),yt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=It(r);return e&&e[ut]?e.Ba(n,r,d(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ut]?t.Aa(e,n,d(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!nt)return null;var s=Tt(t);if(s||(t[mt]=s=new ht(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=St,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ft(t)}}}function wt(t){return t in yt?yt[t]:yt[t]="on"+t}function Et(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}function St(t,e){return!!t.X||(nt?Et(t,new at(e,this)):Et(t,e=new at(e||c("window.event"),this)))}function Tt(t){return(t=t[mt])instanceof ht?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==f(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function kt(){T.call(this),this.c=new ht(this),this.J=this,this.B=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&pt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}S(kt,T),kt.prototype[ut]=!0,(r=kt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=It(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=dt(a=e.a[n],r,i,o))&&(ft(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Tt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=dt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ct(a,r,!0,t)&&i}if(i=Ct(a=t.a=n,r,!0,t)&&i,i=Ct(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ct(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(kt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Nt=a.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ot(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var xt,Pt=new At(function(){return new Rt},function(t){t.reset()});function Dt(){var t=Ut,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Mt(t){a.setTimeout(function(){throw t},0)}function Lt(t,e){xt||function(){var t=a.Promise.resolve(void 0);xt=function(){t.then(jt)}}(),Ft||(xt(),Ft=!0),Ut.add(t,e)}Ot.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Ft=!1,Ut=new Ot;function jt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(t){Mt(t)}var e=Pt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ft=!1}function Bt(t,e){kt.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=E()}function Vt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Wt(t,e,n){T.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function Kt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function zt(t){T.call(this),this.b=t,this.a={}}S(Bt,kt),(r=Bt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=E()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Vt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=E())},r.G=function(){Bt.N.G.call(this),Vt(this),delete this.a},S(Wt,T),(r=Wt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:Kt(this)},r.G=function(){Wt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,Kt(this))},S(zt,T);var Gt=[];function Ht(t,e,n,r){h(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Yt(){}zt.prototype.G=function(){zt.N.G.call(this),Qt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=new kt;function $t(t){ot.call(this,"serverreachability",t)}function Jt(t){Xt.dispatchEvent(new $t(Xt,t))}function Zt(t){ot.call(this,"statevent",t)}function te(t){Xt.dispatchEvent(new Zt(Xt,t))}function ee(t){ot.call(this,"timingevent",t)}function ne(t,e){if("function"!=f(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}S($t,ot),S(Zt,ot),S(ee,ot);var re={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ie={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function oe(){}function ae(t){var e;return(e=t.a)||(e=t.a={}),e}function se(){}oe.prototype.a=null;var ue,ce={OPEN:"a",ib:"b",Na:"c",rb:"d"};function le(){ot.call(this,"d")}function fe(){ot.call(this,"c")}function he(){}function pe(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new zt(this),this.O=de,t=z?125:void 0,this.P=new Bt(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}S(le,ot),S(fe,ot),S(he,oe),ue=new he;var de=45e3,me={},ye={};function ve(t,e,n){t.F=1,t.f=qe(Me(e)),t.l=n,t.H=!0,be(t,null)}function ge(t,e,n,r){t.F=1,t.f=qe(Me(e)),t.l=null,t.H=n,be(t,r)}function be(t,e){t.v=E(),Se(t),t.D=Me(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Wt(b(t.Ka,t,t.a),t.J)),Ht(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Jt(1)}function we(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=Ee(t,n);if(i==ye){4==e&&(t.c=4,te(14),r=!1);break}if(i==me){t.c=4,te(15),r=!1;break}Ce(t,i)}4==e&&0==n.length&&(t.c=1,te(16),r=!1),t.b=t.b&&r,r||(ke(t),Ie(t))}function Ee(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?me:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.A=r+n,e))}function Se(t){t.R=E()+t.O,Te(t,t.O)}function Te(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ne(b(t.bb,t),e)}function _e(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Ie(t){t.g.Da()||t.m||t.g.na(t)}function ke(t){_e(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Vt(t.P),Qt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ce(t,e){try{t.g.Ga(t,e),Jt(4)}catch(t){}}function Ne(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))I(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t,e){Pe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t))}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=pe.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Mn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Mn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!z&&!this.a.aa())){this.m||4!=e||7==n||Jt(8==n||0>=r?3:2),_e(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Ln(this.a,"X-HTTP-Initial-Response");if(a&&!N(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,te(12),ke(this),Ie(this);break t}this.s=!0,Ce(this,s)}this.H?(we(this,e,o),z&&this.b&&3==e&&(Ht(this.I,this.P,"tick",this.cb),this.P.start())):Ce(this,o),4==e&&ke(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Se(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,te(12)):(this.c=0,te(13)),ke(this),Ie(this)}}}catch(t){}},r.cb=function(){if(this.a){var t=Mn(this.a),e=this.a.aa();this.A<e.length&&(_e(this),we(this,t,e),this.b&&4!=t&&Se(this))}},r.cancel=function(){this.m=!0,ke(this)},r.bb=function(){this.i=null;var t=E();0<=t-this.R?(2!=this.F&&(Jt(3),te(17)),ke(this),this.c=2,Ie(this)):Te(this,this.R-t)},(r=Ae.prototype).C=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return xe(this),this.a.concat()},r.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},r.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Re?(this.h=void 0!==e?e:t.h,Le(this,t.f),this.j=t.j,Fe(this,t.b),Ue(this,t.i),this.a=t.a,je(this,nn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Le(this,n[1]||"",!0),this.j=We(n[2]||""),Fe(this,n[3]||"",!0),Ue(this,n[4]),this.a=We(n[5]||"",!0),je(this,n[6]||"",!0),this.g=We(n[7]||"")):(this.h=!!e,this.c=new $e(null,this.h))}function Me(t){return new Re(t)}function Le(t,e,n){t.f=n?We(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,n){t.b=n?We(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function je(t,e,n){e instanceof $e?(t.c=e,function(t,e){e&&!t.f&&(Je(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ze(this,e),en(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=Ke(e,Ye)),t.c=new $e(e,t.h))}function Be(t,e,n){t.c.set(e,n)}function Ve(t,e,n){h(n)||(n=[String(n)]),en(t.c,e,n)}function qe(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),t}function We(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ke(t,e,n){return s(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ke(e,Ge,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ke(e,Ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ke(n,"/"==n.charAt(0)?Qe:He,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ke(n,Xe)),t.join("")},Re.prototype.resolve=function(t){var e=Me(this),n=!!t.f;n?Le(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Fe(e,t.b):n=null!=t.i;var r=t.a;if(n)Ue(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?je(e,nn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ge=/[#\/\?@]/g,He=/[#\?:]/g,Qe=/[#\?]/g,Ye=/[#\?@]/g,Xe=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Je(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ze(t,e){Je(t),e=rn(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Oe(t.a,e))}function tn(t,e){return Je(t),e=rn(t,e),Pe(t.a.b,e)}function en(t,e,n){Ze(t,e),0<n.length&&(t.c=null,t.a.set(rn(t,e),C(n)),t.b+=n.length)}function nn(t){var e=new $e;return e.c=t.c,t.a&&(e.a=new Ae(t.a),e.b=t.b),e}function rn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function on(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function an(t){var e=t.a.F.a;if(null!=e)te(4),e?(te(10),Qn(t.a,t,!1)):(te(11),Qn(t.a,t,!0));else{t.b=new pe(t,void 0,void 0),t.b.h=t.h,e=Zn(e=t.a,e.Y()?t.f:null,t.i),te(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Be(e,n,r),ge(t.b,e,!1,t.f)}}function sn(){this.a=this.b=null}function un(){this.a=new Ae}function cn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++y)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function fn(t){this.g=t||hn,a.PerformanceNavigationTiming?t=0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new un),this.b=null,this.c=[]}(r=$e.prototype).add=function(t,e){Je(this),this.c=null,t=rn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Je(this),this.a.forEach(function(n,r){I(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Je(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Je(this);var e=[];if(s(t))tn(this,t)&&(e=k(e,this.a.get(rn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return Je(this),this.c=null,tn(this,t=rn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},S(function(){},function(){}),(r=on.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Ln(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Ln(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(t){return(e=this.a).m=this.c,void $n(e,2)}this.f=r[0]}else(e=this.a).m=this.c,$n(e,2)}else 1==this.M&&(this.g?te(6):"11111"==e?(te(5),this.g=!0,(!W||10<=Number(J))&&(this.c=200,this.b.cancel(),te(11),Qn(this.a,this,!0))):(te(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,an(this)):1==this.M&&(this.g?(te(11),Qn(this.a,this,!0)):(te(10),Qn(this.a,this,!1)));else{0==this.M?te(8):1==this.M&&te(9);var t=this.a;t.m=this.c,$n(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},un.prototype.add=function(t){this.a.set(cn(t),t)},un.prototype.C=function(){return this.a.C()};var hn=10;function pn(t,e){!t.a&&(x(e,"spdy")||x(e,"quic")||x(e,"h2"))&&(t.f=t.g,t.a=new un,t.b&&(vn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function mn(t){return t.b?1:t.a?t.a.a.c:0}function yn(t,e){return t.b?t=t.b==e:t.a?(e=cn(e),t=Pe(t.a.a.b,e)):t=!1,t}function vn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=cn(e),n=Pe(t.a.a.b,n)),n&&Oe(t.a.a,cn(e)))}function bn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return I(t.a.C(),function(t){e=e.concat(t.j)}),e}return C(t.c)}function wn(){}function En(){this.a=new wn}function Sn(t,e,n){var r=n||"";try{Ne(t,function(t,n){var i=t;d(t)&&(i=Nt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Tn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}fn.prototype.cancel=function(){this.c=bn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(I(this.a.C(),function(t){t.cancel()}),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},wn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},wn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var _n=a.JSON.parse;function In(t){kt.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=kn,this.D=this.F=!1}S(In,kt);var kn="",Cn=/^https?$/i,Nn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function On(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),Dn(t)}function xn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Pn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Mn(t)||2!=t.T()))if(t.l&&4==Mn(t))qt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Mn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(De)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!Cn.test(s?s.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",xn(t))}finally{Dn(t)}}}function Dn(t,e){if(t.a){Rn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Rn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Mn(t){return t.a?t.a.readyState:0}function Ln(t,e){return t.a?t.a.getResponseHeader(e):null}function Fn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Be(t,e,n),t}function Un(t){this.f=[],this.F=new sn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new fn(t&&t.concurrentRequestLimit),this.ja=new En,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function jn(t){if(Bn(t),3==t.u){var e=t.P++,n=Me(t.B);Be(n,"SID",t.H),Be(n,"RID",e),Be(n,"TYPE","terminate"),Kn(t,n),(e=new pe(t,e,void 0)).F=2,e.f=qe(Me(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=E(),Se(e)}Jn(t)}function Bn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Yn(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new ln(t.Ra++,e)),3==t.u&&qn(t)}function qn(t){dn(t.b)||t.h||(t.h=!0,Lt(t.Ia,t),t.A=0)}function Wn(t,e){var n;n=e?e.W:t.P++;var r=Me(t.B);Be(r,"SID",t.H),Be(r,"RID",n),Be(r,"AID",t.O),Kn(t,r),t.g&&t.i&&Fn(r,t.g,t.i),n=new pe(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),vn(t.b,n),ve(n,r,e)}function Kn(t,e){t.c&&Ne({},function(t,n){Be(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Sn(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Gn(t){t.a||t.l||(t.S=1,Lt(t.Ha,t),t.v=0)}function Hn(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=ne(b(t.Ha,t),Xn(t,t.v)),t.v++,!0)}function Qn(t,e,n){var r=e.l;r&&pn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Zn(t,null,t.ha),qn(t)}function Yn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Xn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function $n(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Le(n,"https"),qe(n)),function(t,e){var n=new Yt;if(a.Image){var r=new Image;r.onload=w(Tn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(Tn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(Tn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(Tn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else te(2);t.u=0,t.c&&t.c.ta(e),Jn(t),Bn(t)}function Jn(t){t.u=0,t.m=-1,t.c&&(0==bn(t.b).length&&0==t.f.length||(t.b.c.length=0,C(t.f),t.f.length=0),t.c.sa())}function Zn(t,e,n){var r=function(t){return t instanceof Re?Me(t):new Re(t,void 0)}(n);if(""!=r.b)e&&Fe(r,e+"."+r.b),Ue(r,r.i);else{var i,o=a.location;i=e?e+"."+o.hostname:o.hostname,r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Le(i,t),e&&Fe(i,e),n&&Ue(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return t.V&&M(t.V,function(t,e){Be(r,e,t)}),e=t.j,n=t.I,e&&n&&Be(r,e,n),Be(r,"VER",t.wa),Kn(t,r),r}function tr(){}function er(){if(W&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function nr(t,e){kt.call(this),this.a=new Un(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else(r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!N(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new or(this)}function rr(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ir(){fe.call(this),this.status=1}function or(t){this.a=t}(r=In.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ae(this.H):ae(ue),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void On(this,t)}t=n||"";var i=new Ae(this.headers);r&&Ne(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=An,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=_(Nn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rn(this),0<this.o&&((this.D=function(t){return W&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=qt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){On(this,t)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),In.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?Pn(this):this.$a())},r.$a=function(){Pn(this)},r.T=function(){try{return 2<Mn(this)?this.a.status:-1}catch(t){return-1}},r.za=function(){try{return 2<Mn(this)?this.a.statusText:""}catch(t){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_n(e)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=Un.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new pe(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Be(i=Me(this.B),"RID",t),Be(i,"CVER",22),this.o&&this.j&&Be(i,"X-HTTP-Session-Id",this.j),Kn(this,i),this.g&&r&&Fn(i,this.g,r),vn(this.b,n),this.W?(Be(i,"$req",e),Be(i,"SID","null"),n.S=!0,ve(n,i,null)):ve(n,i,e),this.u=2}}else 3==this.u&&(t?Wn(this,t):0==this.f.length||dn(this.b)||Wn(this))},r.Ha=function(){this.l=null,this.a=new pe(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Me(this.pa);Be(t,"RID","rpc"),Be(t,"SID",this.H),Be(t,"CI",this.ia?"0":"1"),Be(t,"AID",this.O),Kn(this,t),Be(t,"TYPE","xmlhttp"),this.g&&this.i&&Fn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||yn(this.b,t)))if(this.m=t.o,!t.s&&yn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(t){n=null}if(h(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Yn(this),this.a.cancel(),this.a=null}Hn(this),te(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ne(b(this.Za,this),6e3));if(1>=mn(this.b)&&this.fa){try{this.fa()}catch(t){}this.fa=void 0}}else $n(this,11)}else if((t.s||this.a==t)&&Yn(this),!N(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Ln(r,"X-Client-Wire-Protocol"))&&pn(this.b,i),this.j&&(r=Ln(r,"X-HTTP-Session-Id")))&&(this.I=r,Be(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(_e(r),Se(r)),this.a=r):Gn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||$n(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?$n(this,7):jn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),te(19))},r.na=function(t){var e=null;if(this.a==t){Yn(this),this.a=null;var n=2}else{if(!yn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=E()-t.v,Xt.dispatchEvent(new ee(Xt,t.l?t.l.length:0,e,this.A)),qn(this)):Gn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(mn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa))&&(t.h=ne(b(t.Ia,t,e),Xn(t,t.A)),t.A++,!0))}(this,t)||2==n&&Hn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},r.fb=function(t){te(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new In(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=tr.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},er.prototype.a=function(t,e){return new nr(t,e)},S(nr,kt),(r=nr.prototype).addEventListener=function(t,e,n,r){nr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){nr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;te(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new on(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Fn(e,t.g,t.i)),(t=t.w).i=n,e=Zn(t.a,null,t.i),te(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,an(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new pe(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){jn(this.a)},r.Xa=function(t){if(s(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=Nt(t),Vn(this.a,e)):Vn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,jn(this.a),delete this.a,nr.N.G.call(this)},S(rr,le),S(ir,fe),S(or,tr),or.prototype.va=function(){this.a.dispatchEvent("a")},or.prototype.ua=function(t){this.a.dispatchEvent(new rr(t))},or.prototype.ta=function(t){this.a.dispatchEvent(new ir(t))},or.prototype.sa=function(){this.a.dispatchEvent("b")};var ar=w(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},er);er.prototype.createWebChannel=er.prototype.a,nr.prototype.send=nr.prototype.Xa,nr.prototype.open=nr.prototype.Wa,nr.prototype.close=nr.prototype.close,re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,ie.COMPLETE="complete",se.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",kt.prototype.listen=kt.prototype.Aa,In.prototype.listenOnce=In.prototype.Ba,In.prototype.getLastError=In.prototype.Ya,In.prototype.getLastErrorCode=In.prototype.ya,In.prototype.getStatus=In.prototype.T,In.prototype.getStatusText=In.prototype.za,In.prototype.getResponseJson=In.prototype.Va,In.prototype.getResponseText=In.prototype.aa,In.prototype.send=In.prototype.ca;var sr={createWebChannelTransport:ar,ErrorCode:re,EventType:ie,WebChannel:se,XhrIo:In},ur=sr.createWebChannelTransport,cr=sr.ErrorCode,lr=sr.EventType,fr=sr.WebChannel,hr=sr.XhrIo;e.default=sr}.call(this,n(51))},function(t,e,n){"use strict";(function(t){var e=n(2),r=n.n(e);(function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this;function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(e=e(o=r[t=t[t.length-1]]))!=o&&null!=e&&n(r,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.o=function(t){var e=this.f();t.La(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.La(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.La=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).La(e,n)})},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).La(o(a.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},u=this||self;function c(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var f=/^[\w+\/_-]+[=]{0,2}$/,h=null;function p(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function m(t){return null===t}function y(t){return"array"==d(t)}function v(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function b(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var w="closure_uid_"+(1e9*Math.random()>>>0),E=0;function S(t,e,n){return t.call.apply(t.bind,arguments)}function T(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:T).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");A.call(this,n+t[r])}function x(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function R(){this.b=this.a=null}C(A,Error),A.prototype.name="CustomError",C(O,A),O.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var M=new P(function(){return new F},function(t){t.reset()});function L(){var t=Kt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}function U(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(b(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}R.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(c(t))return c(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=c(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=c(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=c(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=j(t,e)}function K(t,e){var n;return(n=0<=(e=j(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=c(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function G(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Y(t){for(var e in t)return!1;return!0}function X(t){var e,n={};for(e in t)n[e]=t[e];return n}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Z(t,e){this.a=t===nt&&e||"",this.b=et}function tt(t){return t instanceof Z&&t.constructor===Z&&t.b===et?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var et={},nt={},rt=new Z(nt,"");function it(){this.a="",this.b=ct}function ot(t){return t instanceof it&&t.constructor===it&&t.b===ct?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function at(t,e){var n=tt(t);if(!ut.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return lt(t=n.replace(st,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof Z?tt(t):encodeURIComponent(String(t))}))}it.prototype.qa=!0,it.prototype.pa=function(){return this.a.toString()},it.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var st=/%{(\w+)}/g,ut=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,ct={};function lt(t){var e=new it;return e.a=t,e}var ft=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ht=/&/g,pt=/</g,dt=/>/g,mt=/"/g,yt=/'/g,vt=/\x00/g,gt=/[\x00&<>"']/;function bt(t,e){return-1!=t.indexOf(e)}function wt(t,e){return t<e?-1:t>e?1:0}function Et(){this.a="",this.b=kt}function St(t){return t instanceof Et&&t.constructor===Et&&t.b===kt?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Et.prototype.qa=!0,Et.prototype.pa=function(){return this.a.toString()},Et.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Tt=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function _t(t){return t instanceof Et?t:(t="object"==typeof t&&t.qa?t.pa():String(t),Tt.test(t)||(t="about:invalid#zClosurez"),Ct(t))}var It,kt={};function Ct(t){var e=new Et;return e.a=t,e}Ct("about:blank");t:{var Nt=u.navigator;if(Nt){var At=Nt.userAgent;if(At){It=At;break t}}It=""}function Ot(t){return bt(It,t)}function xt(){this.a="",this.b=Dt}function Pt(t){return t instanceof xt&&t.constructor===xt&&t.b===Dt?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}xt.prototype.qa=!0,xt.prototype.pa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Dt={};function Rt(t){var e=new xt;return e.a=t,e}Rt("<!DOCTYPE html>");var Mt,Lt,Ft=Rt("");function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function jt(t){return gt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ht,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(pt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(mt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(yt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(vt,"&#0;"))),t}function Bt(t){u.setTimeout(function(){throw t},0)}function Vt(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ot("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=lt(tt(rt));U(t,"HTMLIFrameElement"),t.src=ot(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Pt(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!Ot("Trident")&&!Ot("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){u.setTimeout(t,0)}}function qt(t,e){Lt||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);Lt=function(){t.then(zt)}}else Lt=function(){var t=zt;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!Ot("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Mt||(Mt=Vt()),Mt(t)):u.setImmediate(t)}}(),Wt||(Lt(),Wt=!0),Kt.add(t,e)}Rt("<br>");var Wt=!1,Kt=new R;function zt(){for(var t;t=L();){try{t.a.call(t.b)}catch(t){Bt(t)}D(M,t)}Wt=!1}function Gt(t,e){if(this.a=Ht,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=p)try{var n=this;t.call(e,function(t){oe(n,Qt,t)},function(t){if(!(t instanceof he))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}oe(n,Yt,t)})}catch(t){oe(this,Yt,t)}}var Ht=0,Qt=2,Yt=3;function Xt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Xt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $t=new P(function(){return new Xt},function(t){t.reset()});function Jt(t,e,n){var r=$t.get();return r.g=t,r.b=e,r.f=n,r}function Zt(t){if(t instanceof Gt)return t;var e=new Gt(p);return oe(e,Qt,t),e}function te(t){return new Gt(function(e,n){n(t)})}function ee(t,e,n){ae(t,e,n,null)||qt(I(e,t))}function ne(t){return new Gt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ee(t[o],I(i,o,!0),I(i,o,!1));else e(r)})}function re(t,e){t.b||t.a!=Qt&&t.a!=Yt||se(t),t.f?t.f.next=e:t.b=e,t.f=e}function ie(t,e,n,r){var i=Jt(null,null,null);return i.a=new Gt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof he?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,re(t,i),i.a}function oe(t,e,n){t.a==Ht&&(t===n&&(e=Yt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ae(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,se(t),e!=Yt||n instanceof he||function(t,e){t.g=!0,qt(function(){t.g&&fe.call(null,e)})}(t,n)))}function ae(t,e,n,r){if(t instanceof Gt)return re(t,Jt(e||p,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(b(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function se(t){t.h||(t.h=!0,qt(t.Zb,t))}function ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ce(t,e,n,r){if(n==Yt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,le(e,n,r);else try{e.c?e.g.call(e.f):le(e,n,r)}catch(t){fe.call(null,t)}D($t,e)}function le(t,e,n){e==Qt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Gt.prototype.then=function(t,e,n){return ie(this,g(t)?t:null,g(e)?e:null,n)},Gt.prototype.$goog_Thenable=!0,(e=Gt.prototype).ka=function(t,e){return(t=Jt(t,t,e)).c=!0,re(this,t),this},e.s=function(t,e){return ie(this,null,t,e)},e.cancel=function(t){this.a==Ht&&qt(function(){!function t(e,n){if(e.a==Ht)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Ht&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ue(r),ce(r,o,Yt,n)))}e.c=null}else oe(e,Yt,n)}(this,new he(t))},this)},e.Oc=function(t){this.a=Ht,oe(this,Qt,t)},e.Pc=function(t){this.a=Ht,oe(this,Yt,t)},e.Zb=function(){for(var t;t=ue(this);)ce(this,t,this.a,this.i);this.h=!1};var fe=Bt;function he(t){A.call(this,t)}function pe(){0!=de&&(me[this[w]||(this[w]=++E)]=this),this.va=this.va,this.la=this.la}C(he,A),he.prototype.name="cancel";var de=0,me={};function ye(t){if(!t.va&&(t.va=!0,t.za(),0!=de)){var e=t[w]||(t[w]=++E);if(0!=de&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete me[e]}}function ve(t){return ve[" "](t),t}pe.prototype.va=!1,pe.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},ve[" "]=p;var ge,be,we=Ot("Opera"),Ee=Ot("Trident")||Ot("MSIE"),Se=Ot("Edge"),Te=Se||Ee,_e=Ot("Gecko")&&!(bt(It.toLowerCase(),"webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),Ie=bt(It.toLowerCase(),"webkit")&&!Ot("Edge");function ke(){var t=u.document;return t?t.documentMode:void 0}t:{var Ce="",Ne=(be=It,_e?/rv:([^\);]+)(\)|;)/.exec(be):Se?/Edge\/([\d\.]+)/.exec(be):Ee?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(be):Ie?/WebKit\/(\S+)/.exec(be):we?/(?:Version)[ \/]?(\S+)/.exec(be):void 0);if(Ne&&(Ce=Ne?Ne[1]:""),Ee){var Ae=ke();if(null!=Ae&&Ae>parseFloat(Ce)){ge=String(Ae);break t}}ge=Ce}var Oe,xe={};function Pe(t){return function(t,e){var n=xe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=ft(String(ge)).split("."),r=ft(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=wt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||wt(0==a[2].length,0==s[2].length)||wt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}Oe=u.document&&Ee?ke():void 0;var De=Object.freeze||function(t){return t},Re=!Ee||9<=Number(Oe),Me=Ee&&!Pe("9"),Le=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",p,e),u.removeEventListener("test",p,e)}catch(t){}return t}();function Fe(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Ue(t,e){if(Fe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(_e){t:{try{ve(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=c(t.pointerType)?t.pointerType:je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Fe.prototype.preventDefault=function(){this.Mb=!1},C(Ue,Fe);var je=De({2:"touch",3:"pen",4:"mouse"});Ue.prototype.preventDefault=function(){Ue.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Me)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ue.prototype.f=function(){return this.a};var Be="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Pa=i,this.key=++Ve,this.ta=this.Ka=!1}function We(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Pa=null}function Ke(t){this.src=t,this.a={},this.b=0}function ze(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(We(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ge(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ta&&o.listener==e&&o.capture==!!n&&o.Pa==r)return i}return-1}Ke.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ge(t,e,r,i);return-1<a?(e=t[a],n||(e.Ka=!1)):((e=new qe(e,this.src,o,!!r,i)).Ka=n,t.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),Qe={};function Ye(t,e,n,r,i){if(r&&r.once)$e(t,e,n,r,i);else if(y(e))for(var o=0;o<e.length;o++)Ye(t,e[o],n,r,i);else n=sn(n),t&&t[Be]?cn(t,e,n,b(r)?!!r.capture:!!r,i):Xe(t,e,n,!1,r,i)}function Xe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=on(t);if(s||(t[He]=s=new Ke(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=rn,e=Re?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Le||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function $e(t,e,n,r,i){if(y(e))for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);else n=sn(n),t&&t[Be]?ln(t,e,n,b(r)?!!r.capture:!!r,i):Xe(t,e,n,!0,r,i)}function Je(t,e,n,r,i){if(y(e))for(var o=0;o<e.length;o++)Je(t,e[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=sn(n),t&&t[Be]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=Ge(o=t.a[e],n,r,i))&&(We(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=on(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ge(e,n,r,i)),(n=-1<t?e[t]:null)&&Ze(n))}function Ze(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Be])ze(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=on(e))?(ze(n,t),0==n.b&&(n.src=null,e[He]=null)):We(t)}}}function tn(t){return t in Qe?Qe[t]:Qe[t]="on"+t}function en(t,e,n,r){var i=!0;if((t=on(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ta&&(o=nn(o,r),i=i&&!1!==o)}return i}function nn(t,e){var n=t.listener,r=t.Pa||t.src;return t.Ka&&Ze(t),n.call(r,e)}function rn(t,e){if(t.ta)return!0;if(!Re){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ue(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=en(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=en(r[i],t,!1,e),n=n&&o}return n}return nn(t,new Ue(e,this))}function on(t){return(t=t[He])instanceof Ke?t:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(t){return g(t)?t:(t[an]||(t[an]=function(e){return t.handleEvent(e)}),t[an])}function un(){pe.call(this),this.u=new Ke(this),this.Sb=this,this.Xa=null}function cn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function ln(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function fn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ta&&a.capture==n){var s=a.listener,u=a.Pa||a.src;a.Ka&&ze(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function hn(t,e,n){if(g(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function pn(t){var e=null;return new Gt(function(n,r){-1==(e=hn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw u.clearTimeout(e),t})}function dn(t){if(t.U&&"function"==typeof t.U)return t.U();if(c(t))return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function mn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(v(t)||c(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function yn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(un,pe),un.prototype[Be]=!0,un.prototype.addEventListener=function(t,e,n,r){Ye(this,t,e,n,r)},un.prototype.removeEventListener=function(t,e,n,r){Je(this,t,e,n,r)},un.prototype.dispatchEvent=function(t){var e,n=this.Xa;if(n)for(e=[];n;n=n.Xa)e.push(n);n=this.Sb;var r=t.type||t;if(c(t))t=new Fe(t,n);else if(t instanceof Fe)t.target=t.target||n;else{var i=t;J(t=new Fe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=fn(a,r,!0,t)&&i}if(i=fn(a=t.b=n,r,!0,t)&&i,i=fn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=fn(a=t.b=e[o],r,!1,t)&&i;return i},un.prototype.za=function(){if(un.qb.za.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,We(n[r]);delete e.a[t],e.b--}}this.Xa=null},(e=yn.prototype).U=function(){vn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return vn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return gn(this.b,t)?this.b[t]:e},e.set=function(t,e){gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var bn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof wn?(this.h=void 0!==e?e:t.h,En(this,t.f),this.i=t.i,this.b=t.b,Sn(this,t.l),this.c=t.c,Tn(this,qn(t.a)),this.g=t.g):t&&(n=String(t).match(bn))?(this.h=!!e,En(this,n[1]||"",!0),this.i=Nn(n[2]||""),this.b=Nn(n[3]||"",!0),Sn(this,n[4]),this.c=Nn(n[5]||"",!0),Tn(this,n[6]||"",!0),this.g=Nn(n[7]||"")):(this.h=!!e,this.a=new Ln(null,this.h))}function En(t,e,n){t.f=n?Nn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Sn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Tn(t,e,n){e instanceof Ln?(t.a=e,function(t,e){e&&!t.f&&(Fn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(jn(this,e),Vn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=An(e,Rn)),t.a=new Ln(e,t.h))}function _n(t,e,n){t.a.set(e,n)}function In(t,e){return t.a.get(e)}function kn(t){return t instanceof wn?new wn(t):new wn(t,void 0)}function Cn(t,e){var n=new wn(null,void 0);return En(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Nn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function An(t,e,n){return c(t)?(t=encodeURI(t).replace(e,On),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function On(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}wn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(An(e,xn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(An(e,xn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(An(n,"/"==n.charAt(0)?Dn:Pn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",An(n,Mn)),t.join("")},wn.prototype.resolve=function(t){var e=new wn(this),n=!!t.f;n?En(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Sn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(bt(i,"./")||bt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Tn(e,qn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var xn=/[#\/\?@]/g,Pn=/[#\?:]/g,Dn=/[#\?]/g,Rn=/[#\?@]/g,Mn=/#/g;function Ln(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Fn(t){t.a||(t.a=new yn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Un(t){var e=mn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Ln(null,void 0);t=dn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];y(o)?Vn(n,i,o):n.add(i,o)}return n}function jn(t,e){Fn(t),e=Wn(t,e),gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&vn(t)))}function Bn(t,e){return Fn(t),e=Wn(t,e),gn(t.a.b,e)}function Vn(t,e,n){jn(t,e),0<n.length&&(t.c=null,t.a.set(Wn(t,e),H(n)),t.b+=n.length)}function qn(t){var e=new Ln;return e.c=t.c,t.a&&(e.a=new yn(t.a),e.b=t.b),e}function Wn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(e=Ln.prototype).add=function(t,e){Fn(this),this.c=null,t=Wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Fn(this),this.a.forEach(function(n,r){B(n,function(n){t.call(e,n,r,this)},this)},this)},e.X=function(){Fn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.U=function(t){Fn(this);var e=[];if(c(t))Bn(this,t)&&(e=G(e,this.a.get(Wn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},e.set=function(t,e){return Fn(this),this.c=null,Bn(this,t=Wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Kn=!Ee||9<=Number(Oe);function zn(t){var e=document;return c(t)?e.getElementById(t):t}function Gn(t,e){Q(e,function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Hn.hasOwnProperty(n)?t.setAttribute(Hn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var Hn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Qn(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Kn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',jt(a.name),'"'),a.type){o.push(' type="',jt(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(c(a)?o.className=a:y(a)?o.className=a.join(" "):Gn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(c(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||b(o)&&0<o.nodeType?r(o):B(Yn(o)?H(o):o,r)}}(i,o,r),o}function Yn(t){if(t&&"number"==typeof t.length){if(b(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function Xn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(y(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),tr(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":tr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new $n,t,e),e.join("")}function $n(){}var Jn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Zn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tr(t,e){e.push('"',t.replace(Zn,function(t){var e=Jn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Jn[t]=e),e}),'"')}function er(){var t=wr();return Ee&&!!Oe&&11==Oe||/Edge\/\d+/.test(t)}function nr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function rr(t,e){e=e||u.window;var n="about:blank";t&&(n=St(_t(t)).toString()),e.location.href=n}function ir(t){return!!((t=(t||wr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function or(t){t=t||u.window;try{t.close()}catch(t){}}function ar(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=wr().toLowerCase(),r&&(e.target=r,bt(n,"crios/")&&(e.target="_blank")),vr(wr())==mr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Et?n:_t(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((Ot("iPhone")&&!Ot("iPod")&&!Ot("iPad")||Ot("iPad")||Ot("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(U(a=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof Et||e instanceof Et||(e="object"==typeof e&&e.qa?e.pa():String(e),Tt.test(e)||(e="about:invalid#zClosurez"),e=Ct(e)),a.href=St(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=St(e).toString(),a&&(Te&&bt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Rt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+jt(t)+'">'),a.document.write(Pt(t)),a.document.close())):(a=r.open(St(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ur=/^[^@]+@[^@]+$/;function cr(){var t=null;return new Gt(function(e){"complete"==u.document.readyState?e():(t=function(){e()},$e(window,"load",t))}).s(function(e){throw Je(window,"load",t),e})}function lr(t){return t=t||wr(),!("file:"!==Ir()&&"ionic:"!==Ir()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function hr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function pr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function dr(){var t=pr();return"ReactNative"===t||"Node"===t}var mr="Firefox",yr="Chrome";function vr(t){var e=t.toLowerCase();return bt(e,"opera/")||bt(e,"opr/")||bt(e,"opios/")?"Opera":bt(e,"iemobile")?"IEMobile":bt(e,"msie")||bt(e,"trident/")?"IE":bt(e,"edge/")?"Edge":bt(e,"firefox/")?mr:bt(e,"silk/")?"Silk":bt(e,"blackberry")?"Blackberry":bt(e,"webos")?"Webos":!bt(e,"safari/")||bt(e,"chrome/")||bt(e,"crios/")||bt(e,"android")?!bt(e,"chrome/")&&!bt(e,"crios/")||bt(e,"edge/")?bt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":yr:"Safari"}var gr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function br(t,e){e=e||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=pr())?r=vr(i=wr()):"Worker"===r&&(r=vr(i=wr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function wr(){return u.navigator&&u.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Sr(){try{var t=u.localStorage,e=Or();if(t)return t.setItem(e,"1"),t.removeItem(e),!er()||!!u.indexedDB}catch(t){return hr()&&!!u.indexedDB}return!1}function Tr(){return(_r()||"chrome-extension:"===Ir()||lr())&&!dr()&&Sr()&&!hr()}function _r(){return"http:"===Ir()||"https:"===Ir()}function Ir(){return u.location&&u.location.protocol||null}function kr(t){return!ir(t=t||wr())&&vr(t)!=mr}function Cr(t){return void 0===t?null:Xn(t)}function Nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ar(t){if(null!==t)return JSON.parse(t)}function Or(t){return t||Math.floor(1e9*Math.random()).toString()}function xr(t){return"Safari"!=vr(t=t||wr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Pr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Dr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=wr(),e=pr(),this.b=ir(t)||"ReactNative"===e}function Rr(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Mr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Lr(){return!(!Er("fireauth.oauthhelper",u)&&!Er("fireauth.iframe",u))}Dr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!_r()&&"chrome-extension:"!==Ir()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Fr,Ur={};function jr(t){Ur[t]||(Ur[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),Fr=2==Br.abcd}catch(be){Fr=!1}function Vr(t,e,n){Fr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vr(t,n,e[n])}function Wr(t){var e={};return qr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vr(e,n,Kr(t[n]));return e}function zr(t){var e={},n=t[Hr],r=t[Qr];if(!(t=t[Yr])||t!=Gr&&!n)throw Error("Invalid provider user info!");e[$r]=r||null,e[Xr]=n||null,Vr(this,Zr,t),Vr(this,Jr,Kr(e))}var Gr="EMAIL_SIGNIN",Hr="email",Qr="newEmail",Yr="requestType",Xr="email",$r="fromEmail",Jr="data",Zr="operation";function ti(t,e){this.code=ni+t,this.message=e||ri[t]||""}function ei(t){var e=t&&t.code;return e?new ti(e.substring(ni.length),t.message):null}C(ti,Error),ti.prototype.A=function(){return{code:this.code,message:this.message}},ti.prototype.toJSON=function(){return this.A()};var ni="auth/",ri={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ii(t){var e=In(t=kn(t),oi)||null,n=In(t,ai)||null,r=In(t,ci)||null;if(r=r&&fi[r]||null,!e||!n||!r)throw new ti("argument-error",oi+", "+ai+"and "+ci+" are required in a valid action code URL.");qr(this,{apiKey:e,operation:r,code:n,continueUrl:In(t,si)||null,languageCode:In(t,ui)||null,tenantId:In(t,li)||null})}var oi="apiKey",ai="oobCode",si="continueUrl",ui="languageCode",ci="mode",li="tenantId",fi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Gr,verifyEmail:"VERIFY_EMAIL"};function hi(t){try{return new ii(t)}catch(t){return null}}function pi(t){var e=t[gi];if(void 0===e)throw new ti("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new ti("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[di];if(n&&"object"==typeof n){e=n[Ei];var r=n[bi];if(n=n[wi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new ti("argument-error",bi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new ti("argument-error",wi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new ti("argument-error",Ei+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new ti("missing-android-pkg-name")}}else if(void 0!==n)throw new ti("argument-error",di+" property must be a non null object when specified.");if(this.f=null,(e=t[vi])&&"object"==typeof e){if("string"==typeof(e=e[Si])&&e.length)this.f=e;else if(void 0!==e)throw new ti("argument-error",Si+" property must be a non empty string when specified.")}else if(void 0!==e)throw new ti("argument-error",vi+" property must be a non null object when specified.");if(void 0!==(e=t[yi])&&"boolean"!=typeof e)throw new ti("argument-error",yi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[mi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new ti("argument-error",mi+" property must be a non empty string when specified.");this.i=t||null}var di="android",mi="dynamicLinkDomain",yi="handleCodeInApp",vi="iOS",gi="url",bi="installApp",wi="minimumVersion",Ei="packageName",Si="bundleId";function Ti(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var _i=null,Ii=null;function ki(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ii[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!_i){_i={},Ii={};for(var t=0;65>t;t++)_i[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ii[_i[t]]=t,62<=t&&(Ii["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}function Ci(t){this.f=t.sub,k(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ni(t){return(t=Ai(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ci(t):null}function Ai(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ki(t))}catch(t){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Oi,xi={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Pi(t){for(var e in xi)if(xi[e].id===t)return{firebaseEndpoint:(t=xi[e]).cb,secureTokenEndpoint:t.ib};return null}Oi=Pi("__EID__")?"__EID__":void 0;var Di="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ri=["client_id","response_type","scope","redirect_uri","state"],Mi={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Ri},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Ri},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Ri},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:Di},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Li(t){for(var e in Mi)if(Mi[e].Fa==t)return Mi[e];return null}function Fi(t){var e={};e["facebook.com"]=qi,e["google.com"]=Ki,e["github.com"]=Wi,e["twitter.com"]=zi;var n=t&&t[ji];try{if(n)return e[n]?new e[n](t):new Vi(t);if(void 0!==t[Ui])return new Bi(t)}catch(t){}return null}var Ui="idToken",ji="providerId";function Bi(t){var e=t[ji];if(!e&&t[Ui]){var n=Ni(t[Ui]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Vr(this,"providerId",e),Vr(this,"isNewUser",n)}function Vi(t){Bi.call(this,t),Vr(this,"profile",Kr((t=Ar(t.rawUserInfo||"{}"))||{}))}function qi(t){if(Vi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wi(t){if(Vi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",this.profile&&this.profile.login||null)}function Ki(t){if(Vi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function zi(t){if(Vi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",t.screenName||null)}function Gi(t){var e=kn(t),n=In(e,"link"),r=In(kn(n),"link");return e=In(e,"deep_link_id"),In(kn(e),"link")||e||r||n||t}function Hi(){}function Qi(t,e){return t.then(function(t){if(t[La]){var n=Ni(t[La]);if(!n||e!=n.f)throw new ti("user-mismatch");return t}throw new ti("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==ni+"user-not-found"?new ti("user-mismatch"):t})}function Yi(t,e){if(!e)throw new ti("internal-error","failed to construct a credential");this.a=e,Vr(this,"providerId",t),Vr(this,"signInMethod",t)}function Xi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function $i(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Yi(t.providerId,t.pendingToken)}catch(t){}return null}function Ji(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vr(this,"idToken",e.idToken),e.accessToken&&Vr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new ti("internal-error","failed to construct a credential");Vr(this,"accessToken",e.oauthToken),Vr(this,"secret",e.oauthTokenSecret)}Vr(this,"providerId",t),Vr(this,"signInMethod",n)}function Zi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Un(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function to(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Ji(t.providerId,e,t.signInMethod)}catch(t){}}return null}function eo(t,e){this.Fc=e||[],qr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(Li(t)||{}).Ea||null,this.bb=null}function no(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new ti("argument-error",'SAML provider IDs must be prefixed with "saml."');eo.call(this,t,[])}function ro(t){eo.call(this,t,Ri),this.a=[]}function io(){ro.call(this,"facebook.com")}function oo(t){if(!t)throw new ti("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return b(t)&&(e=t.accessToken),(new io).credential({accessToken:e})}function ao(){ro.call(this,"github.com")}function so(t){if(!t)throw new ti("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return b(t)&&(e=t.accessToken),(new ao).credential({accessToken:e})}function uo(){ro.call(this,"google.com"),this.ya("profile")}function co(t,e){var n=t;return b(t)&&(n=t.idToken,e=t.accessToken),(new uo).credential({idToken:n,accessToken:e})}function lo(){eo.call(this,"twitter.com",Di)}function fo(t,e){var n=t;if(b(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new ti("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ji("twitter.com",n,"twitter.com")}function ho(t,e,n){this.a=t,this.c=e,Vr(this,"providerId","password"),Vr(this,"signInMethod",n===mo.EMAIL_LINK_SIGN_IN_METHOD?mo.EMAIL_LINK_SIGN_IN_METHOD:mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function po(t){return t&&t.email&&t.password?new ho(t.email,t.password,t.signInMethod):null}function mo(){qr(this,{providerId:"password",isOAuthProvider:!1})}function yo(t,e){if(!(e=vo(e)))throw new ti("argument-error","Invalid email link!");return new ho(t,e.code,mo.EMAIL_LINK_SIGN_IN_METHOD)}function vo(t){return(t=hi(t=Gi(t)))&&t.operation===Gr?t:null}function go(t){if(!(t.Va&&t.Ua||t.Ha&&t.ba))throw new ti("internal-error");this.a=t,Vr(this,"providerId","phone"),Vr(this,"signInMethod","phone")}function bo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new go(e)}return null}function wo(t){return t.a.Ha&&t.a.ba?{temporaryProof:t.a.Ha,phoneNumber:t.a.ba}:{sessionInfo:t.a.Va,code:t.a.Ua}}function Eo(t){try{this.a=t||r.a.auth()}catch(t){throw new ti("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}qr(this,{providerId:"phone",isOAuthProvider:!1})}function So(t,e){if(!t)throw new ti("missing-verification-id");if(!e)throw new ti("missing-verification-code");return new go({Va:t,Ua:e})}function To(t){if(t.temporaryProof&&t.phoneNumber)return new go({Ha:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return co(o,n);case"facebook.com":return oo(n);case"github.com":return so(n);case"twitter.com":return fo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Yi(e,a):new Ji(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ro(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function _o(t){if(!t.isOAuthProvider)throw new ti("invalid-oauth-provider")}function Io(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new ti("invalid-auth-event");if(this.g&&this.a)throw new ti("invalid-auth-event");if(this.g&&!this.f)throw new ti("invalid-auth-event")}function ko(t){return(t=t||{}).type?new Io(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&ei(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}C(Vi,Bi),C(qi,Vi),C(Wi,Vi),C(Ki,Vi),C(zi,Vi),Yi.prototype.na=function(t){return ts(t,Xi(this))},Yi.prototype.b=function(t,e){var n=Xi(this);return n.idToken=e,es(t,n)},Yi.prototype.f=function(t,e){return Qi(ns(t,Xi(this)),e)},Yi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ji.prototype.na=function(t){return ts(t,Zi(this))},Ji.prototype.b=function(t,e){var n=Zi(this);return n.idToken=e,es(t,n)},Ji.prototype.f=function(t,e){return Qi(ns(t,Zi(this)),e)},Ji.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},eo.prototype.Ga=function(t){return this.zb=X(t),this},C(no,eo),C(ro,eo),ro.prototype.ya=function(t){return W(this.a,t)||this.a.push(t),this},ro.prototype.Hb=function(){return H(this.a)},ro.prototype.credential=function(t,e){var n;if(!(n=b(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new ti("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ji(this.providerId,n,this.providerId)},C(io,ro),Vr(io,"PROVIDER_ID","facebook.com"),Vr(io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(ao,ro),Vr(ao,"PROVIDER_ID","github.com"),Vr(ao,"GITHUB_SIGN_IN_METHOD","github.com"),C(uo,ro),Vr(uo,"PROVIDER_ID","google.com"),Vr(uo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(lo,eo),Vr(lo,"PROVIDER_ID","twitter.com"),Vr(lo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ho.prototype.na=function(t){return this.signInMethod==mo.EMAIL_LINK_SIGN_IN_METHOD?xs(t,ls,{email:this.a,oobCode:this.c}):xs(t,Cs,{email:this.a,password:this.c})},ho.prototype.b=function(t,e){return this.signInMethod==mo.EMAIL_LINK_SIGN_IN_METHOD?xs(t,fs,{idToken:e,email:this.a,oobCode:this.c}):xs(t,Es,{idToken:e,email:this.a,password:this.c})},ho.prototype.f=function(t,e){return Qi(this.na(t),e)},ho.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},qr(mo,{PROVIDER_ID:"password"}),qr(mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),qr(mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),go.prototype.na=function(t){return t.Wa(wo(this))},go.prototype.b=function(t,e){var n=wo(this);return n.idToken=e,xs(t,As,n)},go.prototype.f=function(t,e){var n=wo(this);return n.operation="REAUTH",Qi(t=xs(t,Os,n),e)},go.prototype.A=function(){var t={providerId:"phone"};return this.a.Va&&(t.verificationId=this.a.Va),this.a.Ua&&(t.verificationCode=this.a.Ua),this.a.Ha&&(t.temporaryProof=this.a.Ha),this.a.ba&&(t.phoneNumber=this.a.ba),t},Eo.prototype.Wa=function(t,e){var n=this.a.b;return Zt(e.verify()).then(function(r){if(!c(r))throw new ti("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return xs(t,bs,e)}(n,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new ti("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},qr(Eo,{PROVIDER_ID:"phone"}),qr(Eo,{PHONE_SIGN_IN_METHOD:"phone"}),Io.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Io.prototype.R=function(){return this.h},Io.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var No,Ao=null;function Oo(t){var e="unauthorized-domain",n=void 0,r=kn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",ti.call(this,e,n)}function xo(t,e,n){ti.call(this,t,n),(t=e||{}).Ab&&Vr(this,"email",t.Ab),t.ba&&Vr(this,"phoneNumber",t.ba),t.credential&&Vr(this,"credential",t.credential),t.Qb&&Vr(this,"tenantId",t.Qb)}function Po(t){if(t.code){var e=t.code||"";0==e.indexOf(ni)&&(e=e.substring(ni.length));var n={credential:To(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new ti(e,t.message||void 0);return new xo(e,n,t.message)}return null}function Do(){}function Ro(t){return t.c||(t.c=t.b())}function Mo(){}function Lo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Fo(){}function Uo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.fc,this),this.a.onerror=_(this.Ib,this),this.a.onprogress=_(this.gc,this),this.a.ontimeout=_(this.kc,this)}function jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bo(t,e,n){this.reset(t,e,n,void 0,void 0)}C(Oo,ti),C(xo,ti),xo.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&J(t,e),t},xo.prototype.toJSON=function(){return this.A()},Do.prototype.c=null,C(Mo,Do),Mo.prototype.a=function(){var t=Lo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Mo.prototype.b=function(){var t={};return Lo(this)&&(t[0]=!0,t[1]=!0),t},No=new Mo,C(Fo,Do),Fo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Uo;throw Error("Unsupported browser")},Fo.prototype.b=function(){return{}},(e=Uo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,jo(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",jo(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,jo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Bo.prototype.a=null;function Vo(t){this.f=t,this.b=this.c=this.a=null}function qo(t,e){this.name=t,this.value=e}Bo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||k(),delete this.a},qo.prototype.toString=function(){return this.name};var Wo=new qo("SEVERE",1e3),Ko=new qo("WARNING",900),zo=new qo("CONFIG",700),Go=new qo("FINE",500);Vo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Bo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Ho={},Qo=null;function Yo(t){var e;if(Qo||(Qo=new Vo(""),Ho[""]=Qo,Qo.c=zo),!(e=Ho[t])){e=new Vo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Yo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Ho[t]=e}return e}function Xo(t,e){t&&t.log(Go,e,void 0)}function $o(t){this.f=t}function Jo(t){un.call(this),this.o=t,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Yo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C($o,Do),$o.prototype.a=function(){return new Jo(this.f)},$o.prototype.b=function(t){return function(){return t}}({}),C(Jo,un);var Zo=0;function ta(t){t.c.read().then(t.ec.bind(t)).catch(t.Oa.bind(t))}function ea(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,na(t)}function na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ra(t){un.call(this),this.headers=new yn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ia,this.v=this.P=!1}(e=Jo.prototype).open=function(t,e){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,na(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ea(this,!1)),this.readyState=Zo},e.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ta(this)):t.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ea(this,!0):na(this),3==this.readyState&&ta(this)}},e.ic=function(t){this.a&&(this.response=this.responseText=t,ea(this,!0))},e.hc=function(t){this.a&&(this.response=t,ea(this,!0))},e.Oa=function(t){var e=this.h;e&&e.log(Ko,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ea(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Ko,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Ko,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(ra,un);var ia="";ra.prototype.b=Yo("goog.net.XhrIo");var oa=/^https?$/i,aa=["POST","PUT"];function sa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():No.a(),t.w=t.B?Ro(t.B):Ro(No),t.a.onreadystatechange=_(t.Lb,t);try{Xo(t.b,ya(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(e){return Xo(t.b,ya(t,"Error opening Xhr: "+e.message)),void ca(t,e)}e=r||"";var o=new yn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||c(t))B(t,e,void 0);else for(var n=mn(t),r=dn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ua,n=t.length,r=c(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:c(t)?t.charAt(e):t[e]}(o.X()),r=u.FormData&&e instanceof u.FormData,!W(aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{pa(t),0<t.g&&(t.v=function(t){return Ee&&Pe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Xo(t.b,ya(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ia,t)):t.o=hn(t.Ia,t.g,t)),Xo(t.b,ya(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){Xo(t.b,ya(t,"Send error: "+e.message)),ca(t,e)}}function ua(t){return"content-type"==t.toLowerCase()}function ca(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,la(t),ha(t)}function la(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function fa(t){if(t.c&&void 0!==s)if(t.w[1]&&4==da(t)&&2==ma(t))Xo(t.b,ya(t,"Local request error detected and ignored"));else if(t.i&&4==da(t))hn(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==da(t)){Xo(t.b,ya(t,"Request complete")),t.c=!1;try{var e,n=ma(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(bn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!oa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<da(t)?t.a.statusText:""}catch(e){Xo(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+ma(t)+"]",la(t)}}finally{ha(t)}}}function ha(t,e){if(t.a){pa(t);var n=t.a,r=t.w[0]?p:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Wo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function pa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(u.clearTimeout(t.o),t.o=null)}function da(t){return t.a?t.a.readyState:0}function ma(t){try{return 2<da(t)?t.a.status:-1}catch(t){return-1}}function ya(t,e){return e+" ["+t.O+" "+t.l+" "+ma(t)+"]"}function va(t){var e=Na;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ga(t,e,n){t.a=!0,t.c=n,t.f=!e,Sa(t)}function ba(t){if(t.a){if(!t.u)throw new Ta(t);t.u=!1}}function wa(t,e,n,r){t.g.push([e,n,r]),t.a&&Sa(t)}function Ea(t){return q(t.g,function(t){return g(t[1])})}function Sa(t){if(t.h&&t.a&&Ea(t)){var e=t.h,n=ka[e];n&&(u.clearTimeout(n.a),delete ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.o,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(N(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ea(t)||(n=!0)}}t.c=e,r&&(s=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof va?(wa(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new Ia(e),ka[e.a]=e,t.h=e.a)}function Ta(){A.call(this)}function _a(){A.call(this)}function Ia(t){this.a=u.setTimeout(_(this.c,this),0),this.b=t}(e=ra.prototype).Ia=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Xo(this.b,ya(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Xo(this.b,ya(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ha(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ha(this,!0)),ra.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?fa(this):this.yc())},e.yc=function(){fa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Wo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Xo(this.b,"Can not get response: "+t.message),null}},va.prototype.cancel=function(t){if(this.a)this.c instanceof va&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new _a(this),ba(this),ga(this,!1,t))}},va.prototype.m=function(t,e){this.i=!1,ga(this,t,e)},va.prototype.then=function(t,e,n){var r,i,o=new Gt(function(t,e){r=t,i=e});return wa(this,r,function(t){t instanceof _a?o.cancel():i(t)}),o.then(t,e,n)},va.prototype.$goog_Thenable=!0,C(Ta,A),Ta.prototype.message="Deferred has already fired",Ta.prototype.name="AlreadyCalledError",C(_a,A),_a.prototype.message="Deferred was canceled",_a.prototype.name="CanceledError",Ia.prototype.c=function(){throw delete ka[this.a],this.b};var ka={};function Ca(t){var e={},n=e.document||document,r=ot(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ia:void 0},a=new va(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout(function(){Aa(i,!0);var t=new Pa(xa,"Timeout reached for loading script "+r);ba(a),ga(a,!1,t)},c),o.Ia=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Aa(i,e.hd||!1,s),ba(a),ga(a,!0,null))},i.onerror=function(){Aa(i,!0,s);var t=new Pa(Oa,"Error while loading script "+r);ba(a),ga(a,!1,t)},J(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Gn(i,o),function(t,e){U(t,"HTMLScriptElement"),t.src=ot(e),null===h&&(h=(e=(e=u.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&f.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Na(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Aa(t,!0,this.Ia)}}function Aa(t,e,n){null!=n&&u.clearTimeout(n),t.onload=p,t.onerror=p,t.onreadystatechange=p,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Oa=0,xa=1;function Pa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function Da(t){this.f=t}function Ra(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Fa,this.g=X(t.secureTokenHeaders||Ua),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||ja,this.a=X(t.firebaseHeaders||Ba),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==pr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!hr())throw new ti("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new $o(self):dr()?this.f=new Da(n):this.f=new Fo,this.b=null}C(Pa,A),C(Da,Do),Da.prototype.a=function(){return new this.f},Da.prototype.b=function(){return{}};var Ma,La="idToken",Fa=new Dr(3e4,6e4),Ua={"Content-Type":"application/x-www-form-urlencoded"},ja=new Dr(3e4,6e4),Ba={"Content-Type":"application/json"};function Va(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function qa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Wa(t,e,n,r,i,o,a){(function(){var t=wr();return!((t=vr(t)!=yr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Ee||!Oe||9<Oe)})()||hr()?t=_(t.o,t):(Ma||(Ma=new Gt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[za]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){wa(t,null,e,void 0)}(Ca(at(Ka,{onload:za})),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=_(t.m,t)),t(e,n,r,i,o,a)}Ra.prototype.R=function(){return this.b},Ra.prototype.o=function(t,e,n,r,i,o){if(hr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new ti("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ra(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}cn(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Xo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),ln(a,"ready",function(){s&&clearTimeout(s),ye(this)}),ln(a,"timeout",function(){s&&clearTimeout(s),ye(this),e&&e(null)}),sa(a,t,n,r,i)};var Ka=new Z(nt,"https://apis.google.com/js/client.js?onload=%{onload}"),za="__fcb"+Math.floor(1e6*Math.random()).toString();function Ga(t){if(!c(t=t.email)||!ur.test(t))throw new ti("invalid-email")}function Ha(t){"email"in t&&Ga(t)}function Qa(t){if(!t[La])throw new ti("internal-error")}function Ya(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new ti("internal-error")}else{if(!t.sessionInfo)throw new ti("missing-verification-id");if(!t.code)throw new ti("missing-verification-code")}}Ra.prototype.m=function(t,e,n,r,i){var o=this;Ma.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ra.prototype.ob=function(){return xs(this,Ss,{})},Ra.prototype.rb=function(t,e){return xs(this,ws,{idToken:t,email:e})},Ra.prototype.sb=function(t,e){return xs(this,Es,{idToken:t,password:e})};var Xa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $a(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new ti("internal-error")}function Ja(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Bn(t=new Ln(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Za(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Po(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Po(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Po(t)):t.errorMessage&&(e=Ps(t.errorMessage)),e)throw e;if(!t[La])throw new ti("internal-error")}function ts(t,e){return e.returnIdpCredential=!0,xs(t,Ts,e)}function es(t,e){return e.returnIdpCredential=!0,xs(t,Is,e)}function ns(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,xs(t,_s,e)}function rs(t){if(!t.oobCode)throw new ti("invalid-action-code")}(e=Ra.prototype).tb=function(t,e){var n={idToken:t},r=[];return Q(Xa,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),xs(this,ws,n)},e.kb=function(t,e){return J(t={requestType:"PASSWORD_RESET",email:t},e),xs(this,ms,t)},e.lb=function(t,e){return J(t={requestType:"EMAIL_SIGNIN",email:t},e),xs(this,ps,t)},e.jb=function(t,e){return J(t={requestType:"VERIFY_EMAIL",idToken:t},e),xs(this,ds,t)},e.Wa=function(t){return xs(this,Ns,t)},e.ab=function(t,e){return xs(this,gs,{oobCode:t,newPassword:e})},e.Ma=function(t){return xs(this,os,{oobCode:t})},e.Ya=function(t){return xs(this,is,{oobCode:t})};var is={endpoint:"setAccountInfo",D:rs,fa:"email",F:!0},os={endpoint:"resetPassword",D:rs,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new ti("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(t){if(Ga(t),!t.password)throw new ti("weak-password")},K:Qa,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},us={endpoint:"deleteAccount",V:["idToken"]},cs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!y(t.deleteProvider))throw new ti("internal-error")}},ls={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Ga,K:Qa,T:!0,F:!0},fs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Ga,K:Qa,T:!0},hs={endpoint:"getAccountInfo"},ps={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new ti("internal-error");Ga(t)},fa:"email",F:!0},ds={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new ti("internal-error")},fa:"email",F:!0},ms={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new ti("internal-error");Ga(t)},fa:"email",F:!0},ys={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},vs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new ti("internal-error")}},gs={endpoint:"resetPassword",D:rs,fa:"email",F:!0},bs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:Ha,T:!0},Es={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Ha(t),!t.password)throw new ti("weak-password")},K:Qa,T:!0},Ss={endpoint:"signupNewUser",K:Qa,T:!0,F:!0},Ts={endpoint:"verifyAssertion",D:$a,Ra:Ja,K:Za,T:!0,F:!0},_s={endpoint:"verifyAssertion",D:$a,Ra:Ja,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new ti("user-not-found");if(t.errorMessage)throw Ps(t.errorMessage);if(!t[La])throw new ti("internal-error")},T:!0,F:!0},Is={endpoint:"verifyAssertion",D:function(t){if($a(t),!t.idToken)throw new ti("internal-error")},Ra:Ja,K:Za,T:!0},ks={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new ti("invalid-custom-token")},K:Qa,T:!0,F:!0},Cs={endpoint:"verifyPassword",D:function(t){if(Ga(t),!t.password)throw new ti("wrong-password")},K:Qa,T:!0,F:!0},Ns={endpoint:"verifyPhoneNumber",D:Ya,K:Qa,F:!0},As={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new ti("internal-error");Ya(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Po(t);Qa(t)}},Os={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ya,K:Qa,F:!0};function xs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return te(new ti("internal-error"));var r,i=e.Kb||"POST";return Zt(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var a=kn(t.h+e);_n(a,"key",t.c),o&&_n(a,"cb",k().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&_n(a,u,r[u]);return new Gt(function(e,o){Wa(t,a.toString(),function(t){t?t.error?o(Ds(t,i||{})):e(t):o(new ti("network-request-failed"))},n,s?void 0:Xn(Nr(r)),t.a,t.i.get())})}(t,e.endpoint,i,n,e.Yb,e.wb||!1)}).then(function(t){return r=t,e.Ra?e.Ra(n,r):r}).then(e.K).then(function(){if(!e.fa)return r;if(!(e.fa in r))throw new ti("internal-error");return r[e.fa]})}function Ps(t){return Ds({error:{errors:[{message:t}],code:400,message:t}})}function Ds(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new ti(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",J(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new ti(r[i],e);return!e&&t&&(e=Cr(t)),new ti("internal-error",e)}function Rs(t){this.b=t,this.a=null,this.gb=function(t){return(Us||(Us=new Gt(function(t,e){function n(){Pr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Pr(),e(Error("Network Error"))},timeout:Ls.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},Zt(Ca(r=at(Ms,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw Us=null,t}))).then(function(){return new Gt(function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Fs.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var Ms=new Z(nt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ls=new Dr(3e4,6e4),Fs=new Dr(5e3,15e3),Us=null;function js(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Cn(this.i,"/__/auth/iframe"),_n(this.a,"apiKey",this.g),_n(this.a,"appName",this.h),this.b=null,this.c=[]}function Bs(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Vs(t){try{return r.a.app(t).auth().Ca()}catch(t){return[]}}function qs(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ws(t){var e=nr();return function(t){return xs(t,ys,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=kn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=kn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:sr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Oo(nr())})}function Ks(t){return t.l?t.l:(t.l=cr().then(function(){if(!t.o){var e=t.c,n=t.h,r=Vs(t.b),i=new js(t.u,t.f,t.b);i.f=e,i.b=n,i.c=H(r||[]),t.o=i.toString()}t.i=new Rs(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then(function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ko(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Zt(n)}return n.status="ERROR",Zt(n)})}(t)}),t.l)}function zs(t){return t.m||(t.v=t.c?br(t.c,Vs(t.b)):null,t.m=new Ra(t.f,Pi(t.h),t.v)),t.m}function Gs(t,e,n,r,i,o,a,s,u,c,l){return(t=new Bs(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=X(u||null),t.f=c,t.nb(l).toString()}function Hs(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ti("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Qs(t){this.b=t,this.a={},this.f=_(this.c,this)}js.prototype.toString=function(){return this.f?_n(this.a,"v",this.f):jn(this.a.a,"v"),this.b?_n(this.a,"eid",this.b):jn(this.a.a,"eid"),this.c.length?_n(this.a,"fw",this.c.join(",")):jn(this.a.a,"fw"),this.a.toString()},Bs.prototype.nb=function(t){return this.h=t,this},Bs.prototype.toString=function(){var t=Cn(this.o,"/__/auth/handler");if(_n(t,"apiKey",this.m),_n(t,"appName",this.c),_n(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(t){n=null}for(var i in e.bb=n,_n(t,"providerId",this.a.providerId),n=Nr((e=this.a).zb))n[i]=n[i].toString();i=e.Fc,n=X(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.eb&&e.bb&&!n[e.eb]&&(n[e.eb]=e.bb),Y(n)||_n(t,"customParameters",Cr(n))}if("function"==typeof this.a.Hb&&((e=this.a.Hb()).length&&_n(t,"scopes",e.join(","))),this.l?_n(t,"redirectUrl",this.l):jn(t.a,"redirectUrl"),this.g?_n(t,"eventId",this.g):jn(t.a,"eventId"),this.i?_n(t,"v",this.i):jn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!In(t,s)&&_n(t,s,this.b[s]);return this.h?_n(t,"tid",this.h):jn(t.a,"tid"),this.f?_n(t,"eid",this.f):jn(t.a,"eid"),(s=Vs(this.c)).length&&_n(t,"fw",s.join(",")),t.toString()},(e=qs.prototype).Fb=function(t,e,n){var r=new ti("popup-closed-by-user"),i=new ti("web-storage-unsupported"),o=this,a=!1;return this.ia().then(function(){(function(t){var e={type:"webStorageSupport"};return Ks(t).then(function(){return function(t,e){return t.gb.then(function(){return new Gt(function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&or(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new Gt(function(e){return function n(){pn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return pn(n).then(function(){e(r)})})},e.Ob=function(){var t=wr();return!kr(t)&&!xr(t)},e.Jb=function(){return!1},e.Db=function(t,e,n,r,i,o,a,s){if(!t)return te(new ti("popup-blocked"));if(a&&!kr())return this.ia().s(function(e){or(t),i(e)}),r(),Zt();this.a||(this.a=Ws(zs(this)));var u=this;return this.a.then(function(){var e=u.ia().s(function(e){throw or(t),i(e),e});return r(),e}).then(function(){(_o(n),a)||rr(Gs(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},e.Eb=function(t,e,n,r){this.a||(this.a=Ws(zs(this)));var i=this;return this.a.then(function(){_o(e),rr(Gs(i.u,i.f,i.b,t,e,nr(),n,i.c,void 0,i.h,r))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},e.ia=function(){var t=this;return Ks(this).then(function(){return t.i.gb}).s(function(){throw t.a=null,new ti("network-request-failed")})},e.Rb=function(){return!0},e.Aa=function(t){this.g.push(t)},e.Na=function(t){z(this.g,function(e){return e==t})},(e=Hs.prototype).get=function(t){return Zt(this.a.getItem(t)).then(function(t){return t&&Ar(t)})},e.set=function(t,e){return Zt(this.a.setItem(t,Cr(e)))},e.S=function(t){return Zt(this.a.removeItem(t))},e.$=function(){},e.ea=function(){};var Ys,Xs=[];function $s(t,e,n){Y(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Js(t){this.a=t}function Zs(t){this.c=t,this.b=!1,this.a=[]}function tu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return te(Error("connection_unavailable"));var l=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Gt(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(e){return eu(t,c),e}).s(function(e){throw eu(t,c),e})}function eu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,function(t){return t==e})}}function nu(){if(!ou())throw new ti("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;hr()&&self?(this.l=function(){var t=hr()?self:null;if(B(Xs,function(n){n.b==t&&(e=n)}),!e){var e=new Qs(t);Xs.push(e)}return e}(),$s(this.l,"keyChanged",function(e,n){return lu(t).then(function(e){return 0<e.length&&B(t.a,function(t){t(e)}),{keyProcessed:W(e,n.key)}})}),$s(this.l,"ping",function(){return Zt(["keyChanged"])})):function(){var t=u.navigator;return t&&t.serviceWorker?Zt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Zt(null)}().then(function(e){(t.h=e)&&(t.g=new Zs(new Js(e)),tu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function ru(t){return new Gt(function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Gt(function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return ru(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function iu(t){return t.m||(t.m=ru(t)),t.m}function ou(){try{return!!u.indexedDB}catch(t){return!1}}function au(t){return t.objectStore("firebaseLocalStorage")}function su(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function uu(t){return new Gt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function cu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?tu(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Zt()}function lu(t){return iu(t).then(function(t){var e=au(su(t,!1));return e.getAll?uu(e.getAll()):new Gt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function fu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function hu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Zt().then(function(){if(ou()){var t=Or(),r="__sak"+t;return Ys||(Ys=new nu),(n=Ys).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.$(function(t){B(e.a,function(e){e(t)})}),t})}function pu(){this.a={},this.type="inMemory"}function du(){if(!function(){var t="Node"==pr();if(!(t=mu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==pr())throw new ti("internal-error","The LocalStorage compatibility library was not found.");throw new ti("web-storage-unsupported")}this.a=mu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function mu(){try{var t=u.localStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function yu(){this.type="nullStorage"}function vu(){if(!function(){var t="Node"==pr();if(!(t=gu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==pr())throw new ti("internal-error","The SessionStorage compatibility library was not found.");throw new ti("web-storage-unsupported")}this.a=gu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gu(){try{var t=u.sessionStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function bu(){var t={};t.Browser=Su,t.Node=Tu,t.ReactNative=_u,t.Worker=Iu,this.a=t[pr()]}Qs.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,function(e){i.push(Zt().then(function(){return e(t.origin,t.data.data)}))}),ne(i).then(function(r){var i=[];B(r,function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})}),B(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Js.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Zs.prototype.close=function(){for(;0<this.a.length;)eu(this,this.a[0]);this.b=!0},(e=nu.prototype).set=function(t,e){var n,r=!1,i=this;return iu(this).then(function(e){return uu((e=au(su(n=e,!0))).get(t))}).then(function(o){var a=au(su(n,!0));return o?(o.value=e,uu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,uu(a.add(o)))}).then(function(){return i.c[t]=e,cu(i,t)}).ka(function(){r&&i.b--})},e.get=function(t){return iu(this).then(function(e){return uu(au(su(e,!1)).get(t))}).then(function(t){return t&&t.value})},e.S=function(t){var e=!1,n=this;return iu(this).then(function(r){return e=!0,n.b++,uu(au(su(r,!0)).delete(t))}).then(function(){return delete n.c[t],cu(n,t)}).ka(function(){e&&n.b--})},e.$=function(t){0==this.a.length&&function(t){fu(t),function e(){t.f=setTimeout(function(){t.i=lu(t).then(function(e){0<e.length&&B(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},e.ea=function(t){z(this.a,function(e){return e==t}),0==this.a.length&&fu(this)},(e=hu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},e.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},e.S=function(t){return this.b.then(function(e){return e.S(t)})},e.$=function(t){this.a.push(t)},e.ea=function(t){z(this.a,function(e){return e==t})},(e=pu.prototype).get=function(t){return Zt(this.a[t])},e.set=function(t,e){return this.a[t]=e,Zt()},e.S=function(t){return delete this.a[t],Zt()},e.$=function(){},e.ea=function(){},(e=du.prototype).get=function(t){var e=this;return Zt().then(function(){return Ar(e.a.getItem(t))})},e.set=function(t,e){var n=this;return Zt().then(function(){var r=Cr(e);null===r?n.S(t):n.a.setItem(t,r)})},e.S=function(t){var e=this;return Zt().then(function(){e.a.removeItem(t)})},e.$=function(t){u.window&&Ye(u.window,"storage",t)},e.ea=function(t){u.window&&Je(u.window,"storage",t)},(e=yu.prototype).get=function(){return Zt(null)},e.set=function(){return Zt()},e.S=function(){return Zt()},e.$=function(){},e.ea=function(){},(e=vu.prototype).get=function(t){var e=this;return Zt().then(function(){return Ar(e.a.getItem(t))})},e.set=function(t,e){var n=this;return Zt().then(function(){var r=Cr(e);null===r?n.S(t):n.a.setItem(t,r)})},e.S=function(t){var e=this;return Zt().then(function(){e.a.removeItem(t)})},e.$=function(){},e.ea=function(){};var wu,Eu,Su={C:du,Ta:vu},Tu={C:du,Ta:vu},_u={C:Hs,Ta:yu},Iu={C:du,Ta:yu},ku={ad:"local",NONE:"none",cd:"session"};function Cu(){var t=!(xr(wr())||!fr()),e=kr(),n=Sr();this.m=t,this.h=e,this.l=n,this.a={},wu||(wu=new bu),t=wu;try{this.g=!er()&&Lr()||!u.indexedDB?new t.a.C:new hu(hr()?new pu:new t.a.C)}catch(t){this.g=new pu,this.h=!0}try{this.i=new t.a.Ta}catch(t){this.i=new pu}this.u=new pu,this.f=_(this.Pb,this),this.b={}}function Nu(){return Eu||(Eu=new Cu),Eu}function Au(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ou(t,e){return"firebase:"+t.name+(e?":"+e:"")}function xu(t,e,n){return n=Ou(e,n),"local"==e.C&&(t.b[n]=null),Au(t,e.C).S(n)}function Pu(t){t.c&&(clearInterval(t.c),t.c=null)}function Du(t){this.a=t,this.b=Nu()}(e=Cu.prototype).get=function(t,e){return Au(this,t.C).get(Ou(t,e))},e.set=function(t,e,n){var r=Ou(t,n),i=this,o=Au(this,t.C);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},e.addListener=function(t,e,n){t=Ou(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),Y(this.a)&&(Au(this,"local").$(this.f),this.h||(er()||!Lr())&&u.indexedDB||!this.l||function(t){Pu(t),t.c=setInterval(function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ue({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Ou(t,e),this.a[t]&&(z(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),Y(this.a)&&(Au(this,"local").ea(this.f),Pu(this))},e.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Au(this,"local").ea(this.f):Pu(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.$a(e))},Ee&&Oe&&10==Oe&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,_(this.$a,this))},e.$a=function(t){this.a[t]&&B(this.a[t],function(t){t()})};var Ru,Mu={name:"authEvent",C:"local"};function Lu(){this.a=Nu()}function Fu(t,e){this.b=Uu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==Ru||(Ru=u.Int32Array?new Int32Array(zu):zu),this.reset()}C(Fu,function(){this.b=-1});for(var Uu=64,ju=Uu-1,Bu=[],Vu=0;Vu<ju;Vu++)Bu[Vu]=0;var qu=G(128,Bu);function Wu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|Ru[e])|0)+(0|n[e])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function Ku(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(c(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Wu(t),i=0);else{if(!v(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Wu(t),i=0)}}t.c=i,t.g+=n}Fu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):H(this.h)};var zu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Gu(){Fu.call(this,8,Hu)}C(Gu,Fu);var Hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Qu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Lu,this.g=new Du(this.h),this.f=null,this.b=[],this.a=this.c=null}function Yu(t){return new ti("invalid-cordova-configuration",t)}function Xu(t){var e=new Gu;Ku(e,t),t=[];var n=8*e.g;56>e.c?Ku(e,qu,56-e.c):Ku(e,qu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Wu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function $u(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ju(t){return t.f||(t.f=t.ia().then(function(){return new Gt(function(e){t.Aa(function n(r){return e(r),t.Na(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Zu(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Gi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ar(In(o=kn(i),"firebaseError")||null))?ei(o):null)?new Io(r.c,r.b,null,null,o,null,r.R()):new Io(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}$u(t,i)})}var n=new Io("unknown",null,null,null,new ti("no-auth-event")),r=!1,i=pn(500).then(function(){return Zu(t).then(function(){r||$u(t,n)})}),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ao||(Ao=new Co),function(t){var e=Ao;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)})})),t.f}function Zu(t){var e=null;return function(t){return t.b.get(Mu,t.a).then(function(t){return ko(t)})}(t.g).then(function(n){return e=n,xu((n=t.g).b,Mu,n.a)}).then(function(){return e})}function tc(t){this.a=t,this.b=Nu()}(e=Qu.prototype).ia=function(){return this.Da?this.Da:this.Da=(lr(void 0)?cr().then(function(){return new Gt(function(t,e){var n=u.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):te(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Er("universalLinks.subscribe",u))throw Yu("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",u))throw Yu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",u))throw Yu("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",u))throw Yu("cordova-plugin-inappbrowser is not installed")},function(){throw new ti("cordova-not-ready")})},e.Fb=function(t,e){return e(new ti("operation-not-supported-in-this-environment")),Zt()},e.Db=function(){return te(new ti("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(t,e,n,r){if(this.c)return te(new ti("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Zt().then(function(){return _o(e),Ju(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Io(e,r,null,o,new ti("no-auth-event"),null,i),s=Er("BuildInfo.packageName",u);if("string"!=typeof s)throw new ti("invalid-cordova-configuration");var c=Er("BuildInfo.displayName",u),l={};if(wr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!wr().toLowerCase().match(/android/))return te(new ti("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Xu(o),l.sessionId=o;var f=Gs(t.u,t.i,t.l,e,n,null,r,t.m,l,t.o,i);return t.ia().then(function(){var e=t.h;return t.v.a.set(Mu,a.A(),e)}).then(function(){var e=Er("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new ti("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",u)))throw new ti("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",u)))throw new ti("invalid-cordova-configuration");e=wr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new Gt(function(t,e){s=function(){var e=Er("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(s),c=function(){a||(a=pn(2e3).then(function(){e(new ti("redirect-cancelled-by-user"))}))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),wr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).s(function(t){return Zu(i).then(function(){throw t})})}).ka(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Na(s),i.c=null})},e.Aa=function(t){this.b.push(t),Ju(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Io("unknown",null,null,null,new ti("no-auth-event")),t(e))})},e.Na=function(t){z(this.b,function(e){return e==t})};var ec={name:"pendingRedirect",C:"session"};function nc(t){return xu(t.b,ec,t.a)}function rc(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=_(this.o,this),this.b=new vc,this.w=new Sc,this.g=new tc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=ic(this.B,this.u,this.m,Oi)}function ic(t,e,n,i){var o=r.a.SDK_VERSION||null;return lr()?new Qu(t,e,n,o,i):new qs(t,e,n,o,i)}function oc(t){t.f||(t.f=!0,t.a.Aa(t.l));var e=t.a;return t.a.ia().s(function(n){throw t.a==e&&t.reset(),n})}function ac(t){t.a.Ob()&&oc(t).s(function(e){var n=new Io("unknown",null,null,null,new ti("operation-not-supported-in-this-environment"));hc(e)&&t.o(n)}),t.a.Jb()||gc(t.b)}function sc(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(ec,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?nc(t.g).then(function(){oc(t).s(function(e){var n=new Io("unknown",null,null,null,new ti("operation-not-supported-in-this-environment"));hc(e)&&t.o(n)})}):ac(t)}).s(function(){ac(t)})}function uc(t,e){z(t.h,function(t){return t==e})}rc.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=ic(this.B,this.u,this.m),this.i={}},rc.prototype.o=function(t){if(!t)throw new ti("invalid-auth-event");if(6e5<=k()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=k())),e=!0;break}}return gc(this.b),e};var cc=new Dr(2e3,1e4),lc=new Dr(3e4,6e4);function fc(t,e,n,r,i,o,a){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.Aa(t.l))},function(){t.reset()},i,o,a)}function hc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function pc(t,e,n,r,i){var o;return function(t){return t.b.set(ec,"pending",t.a)}(t.g).then(function(){return t.a.Eb(e,n,r,i).s(function(e){if(hc(e))throw new ti("operation-not-supported-in-this-environment");return o=e,nc(t.g).then(function(){throw o})}).then(function(){return t.a.Rb()?new Gt(function(){}):nc(t.g).then(function(){return t.oa()}).then(function(){}).s(function(){})})})}function dc(t,e,n,r,i){return t.a.Fb(r,function(t){e.ja(n,null,t,i)},cc.get())}rc.prototype.oa=function(){return this.b.oa()};var mc={};function yc(t,e,n){var r=e+":"+n;return mc[r]||(mc[r]=new rc(t,e,n)),mc[r]}function vc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function gc(t){t.g||(t.g=!0,Ec(t,!1,null,null))}function bc(t){t.g&&!t.i&&Ec(t,!1,null,null)}function wc(t,e){if(t.b=function(){return Zt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ec(t,e,n,r){e?r?function(t,e){if(t.b=function(){return te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):wc(t,n):wc(t,{user:null}),t.f=[],t.c=[]}function Sc(){}function Tc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function _c(t,e){this.a=e,Vr(this,"verificationId",t)}function Ic(t,e,n,r){return new Eo(t).Wa(e,n).then(function(t){return new _c(t,r)})}function kc(t){var e=Ai(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new ti("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");qr(this,{token:t,expirationTime:Mr(1e3*e.exp),authTime:Mr(1e3*e.auth_time),issuedAtTime:Mr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Cc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Nc(t){this.f=t,this.b=this.a=null,this.c=0}function Ac(t,e){var n=e[La],r=e.refreshToken;e=Oc(e.expiresIn),t.b=n,t.c=e,t.a=r}function Oc(t){return k()+1e3*parseInt(t,10)}function xc(t,e){return function(t,e){return new Gt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Wa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Ds(t)):t.access_token&&t.refresh_token?n(t):r(new ti("internal-error")):r(new ti("network-request-failed"))},"POST",Un(e).toString(),t.g,t.u.get()):r(new ti("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Oc(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Pc(t,e){this.a=t||null,this.b=e||null,qr(this,{lastSignInTime:Mr(e||null),creationTime:Mr(t||null)})}function Dc(t,e,n,r,i,o){qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Rc(t,e){for(var n in Fe.call(this,t),e)this[n]=e[n]}function Mc(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=r.a.SDK_VERSION?br(r.a.SDK_VERSION):null,this.a=new Ra(this.l,Pi(Oi),t),this.b=new Nc(this.a),qc(this,e[La]),Ac(this.b,e),Vr(this,"refreshToken",this.b.a),zc(this,n||{}),un.call(this),this.J=!1,this.o&&Tr()&&(this.i=yc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new Cc(function(){return t.G(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-k()-3e5;return 0<e?e:0})}(this),this.W=_(this.Ja,this);var i=this;this.ga=null,this.xa=function(t){i.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){Fc(i,t.c)},this.Y=null}function Lc(t,e){t.Z&&Je(t.Z,"languageCodeChanged",t.xa),(t.Z=e)&&Ye(e,"languageCodeChanged",t.xa)}function Fc(t,e){t.P=e,qa(t.a,r.a.SDK_VERSION?br(r.a.SDK_VERSION,t.P):null)}function Uc(t,e){t.Y&&Je(t.Y,"frameworkChanged",t.wa),(t.Y=e)&&Ye(e,"frameworkChanged",t.wa)}function jc(t){try{return r.a.app(t.m).auth()}catch(e){throw new ti("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Bc(t){t.B||t.w.b||(t.w.start(),Je(t,"tokenChanged",t.W),Ye(t,"tokenChanged",t.W))}function Vc(t){Je(t,"tokenChanged",t.W),t.w.stop()}function qc(t,e){t.ma=e,Vr(t,"_lat",e)}function Wc(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return ne(e).then(function(){return t})}function Kc(t){t.i&&!t.J&&(t.J=!0,sc(t.i,t))}function zc(t,e){qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Pc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Gc(){}function Hc(t){return Zt().then(function(){if(t.B)throw new ti("app-deleted")})}function Qc(t){return V(t.providerData,function(t){return t.providerId})}function Yc(t,e){e&&(Xc(t,e.providerId),t.providerData.push(e))}function Xc(t,e){z(t.providerData,function(t){return t.providerId==e})}function $c(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vr(t,e,n)}function Jc(t,e){t!=e&&(qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Vr(t,"metadata",function(t){return new Pc(t.a,t.b)}(e.metadata)):Vr(t,"metadata",new Pc),B(e.providerData,function(e){Yc(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Vr(t,"refreshToken",t.b.a))}function Zc(t){return t.G().then(function(e){var n=t.isAnonymous;return function(t,e){return xs(t.a,hs,{idToken:e}).then(_(t.zc,t))}(t,e).then(function(){return n||$c(t,"isAnonymous",!1),e})})}function tl(t,e){e[La]&&t.ma!=e[La]&&(Ac(t.b,e),t.dispatchEvent(new Rc("tokenChanged")),qc(t,e[La]),$c(t,"refreshToken",t.b.a))}function el(t,e){return Zc(t).then(function(){if(W(Qc(t),e))return Wc(t).then(function(){throw new ti("provider-already-linked")})})}function nl(t,e,n){return Wr({user:t,credential:To(e),additionalUserInfo:e=Fi(e),operationType:n})}function rl(t,e){return tl(t,e),t.reload().then(function(){return t})}function il(t,e,n,i,o){if(!Tr())return te(new ti("operation-not-supported-in-this-environment"));if(t.h&&!o)return te(t.h);var a=Li(n.providerId),s=Or(t.uid+":::"),u=null;(!kr()||fr())&&t.o&&n.isOAuthProvider&&(u=Gs(t.o,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=ar(u,a&&a.sa,a&&a.ra);return i=i().then(function(){if(al(t),!o)return t.G().then(function(){})}).then(function(){return fc(t.i,c,e,n,s,!!u,t.tenantId)}).then(function(){return new Gt(function(n,r){t.ja(e,null,new ti("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=dc(t.i,t,e,c,s)})}).then(function(t){return c&&or(c),t?Wr(t):null}).s(function(t){throw c&&or(c),t}),sl(t,i,o)}function ol(t,e,n,r,i){if(!Tr())return te(new ti("operation-not-supported-in-this-environment"));if(t.h&&!i)return te(t.h);var o=null,a=Or(t.uid+":::");return r=r().then(function(){if(al(t),!i)return t.G().then(function(){})}).then(function(){return t.ca=a,Wc(t)}).then(function(e){return t.da&&(e=(e=t.da).b.set(ll,t.A(),e.a)),e}).then(function(){return pc(t.i,e,n,a,t.tenantId)}).s(function(e){if(o=e,t.da)return fl(t.da);throw o}).then(function(){if(o)throw o}),sl(t,r,i)}function al(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new ti("internal-error");throw new ti("auth-domain-config-required")}}function sl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),te(t.h)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Rc("userInvalidated")),t.h=e),e})}(t,e,n);return t.I.push(r),r.ka(function(){K(t.I,r)}),r}function ul(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[La]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-k())/1e3;var r=new Mc(e,n,t);return t.providerData&&B(t.providerData,function(t){t&&Yc(r,Wr(t))}),t.redirectEventId&&(r.ca=t.redirectEventId),r}function cl(t){this.a=t,this.b=Nu()}vc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},vc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Ec(this,!0,null,t.a),Zt()):e.Ba(n,r)?function(t,e,n){n=n.Ba(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){Ec(t,s,e,null)}).s(function(e){Ec(t,s,null,e)})}(this,t,e):te(new ti("invalid-auth-event")):(Ec(this,!1,null,null),Zt())}else te(new ti("invalid-auth-event"))},vc.prototype.oa=function(){var t=this;return new Gt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new ti("timeout");t.a&&t.a.cancel(),t.a=pn(lc.get()).then(function(){t.b||(t.g=!0,Ec(t,!0,null,e))})}(t))})},Sc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Zt()):e.Ba(n,r)?function(t,e){var n=t.b,r=t.c;e.Ba(r,n)(t.g,t.f,t.R(),t.i).then(function(t){e.ja(r,t,null,n)}).s(function(t){e.ja(r,null,t,n)})}(t,e):te(new ti("invalid-auth-event"))}else te(new ti("invalid-auth-event"))},_c.prototype.confirm=function(t){return t=So(this.verificationId,t),this.a(t)},Cc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=pn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=u.document,e=null;return Rr()||!t?Zt():new Gt(function(n){e=function(){Rr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Cc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Nc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Nc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?te(new ti("user-token-expired")):t||!this.b||k()>this.c-3e4?this.a?xc(this,{grant_type:"refresh_token",refresh_token:this.a}):Zt(null):Zt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Pc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(Rc,Fe),C(Mc,un),Mc.prototype.ua=function(t){this.ga=t,Va(this.a,t)},Mc.prototype.ha=function(){return this.ga},Mc.prototype.Ca=function(){return H(this.P)},Mc.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Vr(Mc.prototype,"providerId","firebase"),(e=Mc.prototype).reload=function(){var t=this;return sl(this,Hc(this).then(function(){return Zc(t).then(function(){return Wc(t)}).then(Gc)}))},e.dc=function(t){return this.G(t).then(function(t){return new kc(t)})},e.G=function(t){var e=this;return sl(this,Hc(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new ti("internal-error");return t.accessToken!=e.ma&&(qc(e,t.accessToken),e.dispatchEvent(new Rc("tokenChanged"))),$c(e,"refreshToken",t.refreshToken),t.accessToken}))},e.zc=function(t){if(!(t=t.users)||!t.length)throw new ti("internal-error");zc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,function(t){return new Dc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Yc(this,e[n]);$c(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(t){return jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},e.hb=function(t){var e=this,n=null;return sl(this,t.f(this.a,this.uid).then(function(t){return tl(e,t),n=nl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},e.rc=function(t){return jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},e.fb=function(t){var e=this,n=null;return sl(this,el(this,t.providerId).then(function(){return e.G()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=nl(e,t,"link"),rl(e,t)}).then(function(){return n}))},e.sc=function(t,e){var n=this;return sl(this,el(this,"phone").then(function(){return Ic(jc(n),t,e,_(n.fb,n))}))},e.Bc=function(t,e){var n=this;return sl(this,Zt().then(function(){return Ic(jc(n),t,e,_(n.hb,n))}),!0)},e.rb=function(t){var e=this;return sl(this,this.G().then(function(n){return e.a.rb(n,t)}).then(function(t){return tl(e,t),e.reload()}))},e.Sc=function(t){var e=this;return sl(this,this.G().then(function(n){return t.b(e.a,n)}).then(function(t){return tl(e,t),e.reload()}))},e.sb=function(t){var e=this;return sl(this,this.G().then(function(n){return e.a.sb(n,t)}).then(function(t){return tl(e,t),e.reload()}))},e.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Hc(this);var e=this;return sl(this,this.G().then(function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return tl(e,t),$c(e,"displayName",t.displayName||null),$c(e,"photoURL",t.photoUrl||null),B(e.providerData,function(t){"password"===t.providerId&&(Vr(t,"displayName",e.displayName),Vr(t,"photoURL",e.photoURL))}),Wc(e)}).then(Gc))},e.Qc=function(t){var e=this;return sl(this,Zc(this).then(function(n){return W(Qc(e),t)?function(t,e,n){return xs(t,cs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return B(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),B(Qc(e),function(t){n[t]||Xc(e,t)}),n[Eo.PROVIDER_ID]||Vr(e,"phoneNumber",null),Wc(e)}):Wc(e).then(function(){throw new ti("no-such-provider")})}))},e.delete=function(){var t=this;return sl(this,this.G().then(function(e){return xs(t.a,us,{idToken:e})}).then(function(){t.dispatchEvent(new Rc("userDeleted"))})).then(function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Lc(t,null),Uc(t,null),t.I=[],t.B=!0,Vc(t),Vr(t,"refreshToken",null),t.i&&uc(t.i,t)})},e.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},e.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?_(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?_(this.Cb,this):null},e.tc=function(t){var e=this;return il(this,"linkViaPopup",t,function(){return el(e,t.providerId).then(function(){return Wc(e)})},!1)},e.Cc=function(t){return il(this,"reauthViaPopup",t,function(){return Zt()},!0)},e.uc=function(t){var e=this;return ol(this,"linkViaRedirect",t,function(){return el(e,t.providerId)},!1)},e.Dc=function(t){return ol(this,"reauthViaRedirect",t,function(){return Zt()},!0)},e.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,this.G().then(function(n){return es(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=nl(i,t,"link"),rl(i,t)}).then(function(){return o}))},e.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,Zt().then(function(){return Qi(ns(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=nl(i,t,"reauthenticate"),tl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},e.jb=function(t){var e=this,n=null;return sl(this,this.G().then(function(e){return n=e,void 0===t||Y(t)?{}:Ti(new pi(t))}).then(function(t){return e.a.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},e.toJSON=function(){return this.A()},e.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(t,this.metadata.A()),B(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var ll={name:"redirectUser",C:"session"};function fl(t){return xu(t.b,ll,t.a)}function hl(t){this.a=t,this.b=Nu(),this.c=null,this.f=function(t){var e=ml("local"),n=ml("session"),r=ml("none");return function(t,e,n){var r=Ou(e,n),i=Au(t,e.C);return t.get(e,n).then(function(o){var a=null;try{a=Ar(u.localStorage.getItem(r))}catch(t){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(dl,t.a).then(function(t){return t?ml(t):e})})})}).then(function(e){return t.c=e,pl(t,e.C)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(ml("local"),this.a,_(this.g,this))}function pl(t,e){var n,r=[];for(n in ku)ku[n]!==e&&r.push(xu(t.b,ml(ku[n]),t.a));return r.push(xu(t.b,dl,t.a)),function(t){return new Gt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)ee(t[s],I(o,s),a);else e(i)})}(r)}hl.prototype.g=function(){var t=this,e=ml("local");bl(this,function(){return Zt().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return pl(t,"local").then(function(){t.c=e})})})};var dl={name:"persistence",C:"session"};function ml(t){return{name:"authUser",C:t}}function yl(t,e){return bl(t,function(){return t.b.set(t.c,e.A(),t.a)})}function vl(t){return bl(t,function(){return xu(t.b,t.c,t.a)})}function gl(t,e){return bl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),ul(t||{})})})}function bl(t,e){return t.f=t.f.then(e,e),t.f}function wl(t){if(this.l=!1,Vr(this,"settings",new Tc),Vr(this,"app",t),!Nl(this).options||!Nl(this).options.apiKey)throw new ti("invalid-api-key");t=r.a.SDK_VERSION?br(r.a.SDK_VERSION):null,this.b=new Ra(Nl(this).options&&Nl(this).options.apiKey,Pi(Oi),t),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(_(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(_(this.pc,this)),kl(this,null),this.h=new hl(Nl(this).options.apiKey+":"+Nl(this).name),this.w=new cl(Nl(this).options.apiKey+":"+Nl(this).name),this.Y=Pl(this,function(t){var e=Nl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(ll,t.a).then(function(t){return t&&e&&(t.authDomain=e),ul(t||{})})}(t.w,Nl(t).options.authDomain).then(function(e){return(t.B=e)&&(e.da=t.w),fl(t.w)});return Pl(t,e)}(t).then(function(){return gl(t.h,e)}).then(function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then(function(){return yl(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:vl(t.h)})):null}).then(function(e){kl(t,e||null)});return Pl(t,n)}(this)),this.i=Pl(this,function(t){return t.Y.then(function(){return _l(t)}).s(function(){}).then(function(){if(!t.l)return t.ma()}).s(function(){}).then(function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(ml("local"),e.a,t.ma)}})}(this)),this.ga=!1,this.ma=_(this.Nc,this),this.ub=_(this.aa,this),this.wa=_(this.bc,this),this.xa=_(this.mc,this),this.Ja=_(this.nc,this),this.a=null,function(t){var e=Nl(t).options.authDomain,n=Nl(t).options.apiKey;e&&Tr()&&(t.Tb=t.Y.then(function(){if(!t.l){if(t.a=yc(e,n,Nl(t).name),sc(t.a,t),Al(t)&&Kc(Al(t)),t.B){Kc(t.B);var r=t.B;r.ua(t.ha()),Lc(r,t),Fc(r=t.B,t.I),Uc(r,t),t.B=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.vc,this),this.o=0,un.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.ua(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function El(t){Fe.call(this,"languageCodeChanged"),this.g=t}function Sl(t){Fe.call(this,"frameworkChanged"),this.c=t}function Tl(t){return t.Tb||te(new ti("auth-domain-config-required"))}function _l(t){if(!Tr())return te(new ti("operation-not-supported-in-this-environment"));var e=Tl(t).then(function(){return t.a.oa()}).then(function(t){return t?Wr(t):null});return Pl(t,e)}function Il(t,e){var n={};return n.apiKey=Nl(t).options.apiKey,n.authDomain=Nl(t).options.authDomain,n.appName=Nl(t).name,t.Y.then(function(){return function(t,e,n,r){var i=new Mc(t,e);return n&&(i.da=n),r&&Fc(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.Ca())}).then(function(e){return Al(t)&&e.uid==Al(t).uid?(Jc(Al(t),e),t.aa(e)):(kl(t,e),Kc(e),t.aa(e))}).then(function(){xl(t)})}function kl(t,e){Al(t)&&(function(t,e){z(t.O,function(t){return t==e})}(Al(t),t.ub),Je(Al(t),"tokenChanged",t.wa),Je(Al(t),"userDeleted",t.xa),Je(Al(t),"userInvalidated",t.Ja),Vc(Al(t))),e&&(e.O.push(t.ub),Ye(e,"tokenChanged",t.wa),Ye(e,"userDeleted",t.xa),Ye(e,"userInvalidated",t.Ja),0<t.o&&Bc(e)),Vr(t,"currentUser",e),e&&(e.ua(t.ha()),Lc(e,t),Fc(e,t.I),Uc(e,t))}function Cl(t,e){var n=null,r=null;return Pl(t,e.then(function(e){return n=To(e),r=Fi(e),Il(t,e)}).then(function(){return Wr({user:Al(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Nl(t){return t.app}function Al(t){return t.currentUser}function Ol(t){return Al(t)&&Al(t)._lat||null}function xl(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Ol(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](Ol(t))}}function Pl(t,e){return t.O.push(e),e.ka(function(){K(t.O,e)}),e}function Dl(){}function Rl(){this.a={},this.b=1e12}hl.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new ti("invalid-persistence-type"),n=new ti("unsupported-persistence-type");t:{for(r in ku)if(ku[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(pr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Sr()&&"none"!==t)throw n}}(t),bl(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,pl(n,t)}).then(function(){if(n.c=ml(t),e)return n.b.set(n.c,e,n.a)}):Zt()})},C(wl,un),C(El,Fe),C(Sl,Fe),(e=wl.prototype).mb=function(t){return Pl(this,t=this.h.mb(t))},e.ua=function(t){this.Z===t||this.l||(this.Z=t,Va(this.b,this.Z),this.dispatchEvent(new El(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var t=u.navigator;this.ua(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.vc=function(t){this.I.push(t),qa(this.b,r.a.SDK_VERSION?br(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new Sl(this.I))},e.Ca=function(){return H(this.I)},e.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:Nl(this).options.apiKey,authDomain:Nl(this).options.authDomain,appName:Nl(this).name,currentUser:Al(this)&&Al(this).A()}},e.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ac,this):null},e.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=ts(i.b,t).then(function(t){return o=To(t),a=Fi(t),t});return Pl(this,t=i.Y.then(function(){return s}).then(function(t){return Il(i,t)}).then(function(){return Wr({user:Al(i),credential:o,additionalUserInfo:a,operationType:"signIn"})}))},e.Lc=function(t){if(!Tr())return te(new ti("operation-not-supported-in-this-environment"));var e=this,n=Li(t.providerId),i=Or(),o=null;(!kr()||fr())&&Nl(this).options.authDomain&&t.isOAuthProvider&&(o=Gs(Nl(this).options.authDomain,Nl(this).options.apiKey,Nl(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=ar(o,n&&n.sa,n&&n.ra);return Pl(this,n=Tl(this).then(function(n){return fc(n,a,"signInViaPopup",t,i,!!o,e.R())}).then(function(){return new Gt(function(t,n){e.ja("signInViaPopup",null,new ti("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=dc(e.a,e,"signInViaPopup",a,i)})}).then(function(t){return a&&or(a),t?Wr(t):null}).s(function(t){throw a&&or(a),t}))},e.Mc=function(t){if(!Tr())return te(new ti("operation-not-supported-in-this-environment"));var e=this;return Pl(this,Tl(this).then(function(){return function(t){return bl(t,function(){return t.b.set(dl,t.c.C,t.a)})}(e.h)}).then(function(){return pc(e.a,"signInViaRedirect",t,void 0,e.R())}))},e.oa=function(){var t=this;return _l(this).then(function(e){return t.a&&bc(t.a.b),e}).s(function(e){throw t.a&&bc(t.a.b),e})},e.Rc=function(t){if(!t)return te(new ti("null-user"));if(this.P!=t.tenantId)return te(new ti("tenant-id-mismatch"));var e=this,n={};n.apiKey=Nl(this).options.apiKey,n.authDomain=Nl(this).options.authDomain,n.appName=Nl(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[La]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-k())/1e3,e=new Mc(e,o),n&&(e.da=n),r&&Fc(e,r),Jc(e,t),e}(t,n,e.w,e.Ca());return Pl(this,this.i.then(function(){if(Nl(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Al(e)&&t.uid==Al(e).uid?(Jc(Al(e),t),e.aa(t)):(kl(e,r),Kc(r),e.aa(r))}).then(function(){xl(e)}))},e.pb=function(){var t=this;return Pl(this,this.i.then(function(){return t.a&&bc(t.a.b),Al(t)?(kl(t,null),vl(t.h).then(function(){xl(t)})):Zt()}))},e.Nc=function(){var t=this;return gl(this.h,Nl(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Al(t)&&e){n=Al(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Jc(Al(t),e),Al(t).G();(Al(t)||e)&&(kl(t,e),e&&(Kc(e),e.da=t.w),t.a&&sc(t.a,t),xl(t))}})},e.aa=function(t){return yl(this.h,t)},e.bc=function(){xl(this),this.aa(Al(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Al(e))})},e.pc=function(t){var e=this;!function(t,e){t.J.push(e),Pl(t,t.i.then(function(){!t.l&&W(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Ol(t)))}))}(this,function(){t.next(Al(e))})},e.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){g(t)?t(Al(r)):g(t.next)&&t.next(Al(r))}),this.Ub(t,e,n)},e.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){r.W=r.getUid(),g(t)?t(Al(r)):g(t.next)&&t.next(Al(r))}),this.Vb(t,e,n)},e.cc=function(t){var e=this;return Pl(this,this.i.then(function(){return Al(e)?Al(e).G(t).then(function(t){return{accessToken:t}}):null}))},e.Hc=function(t){var e=this;return this.i.then(function(){return Cl(e,xs(e.b,ks,{token:t}))}).then(function(t){var n=t.user;return $c(n,"isAnonymous",!1),e.aa(n),t})},e.Ic=function(t,e){var n=this;return this.i.then(function(){return Cl(n,xs(n.b,Cs,{email:t,password:e}))})},e.Xb=function(t,e){var n=this;return this.i.then(function(){return Cl(n,xs(n.b,as,{email:t,password:e}))})},e.Sa=function(t){var e=this;return this.i.then(function(){return Cl(e,t.na(e.b))})},e.Gc=function(t){return jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(t)},e.ob=function(){var t=this;return this.i.then(function(){var e=Al(t);if(e&&e.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Cl(t,t.b.ob()).then(function(e){var n=e.user;return $c(n,"isAnonymous",!0),t.aa(n),e})})},e.getUid=function(){return Al(this)&&Al(this).uid||null},e.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&Al(this)&&Bc(Al(this))},e.Ec=function(t){var e=this;B(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&Al(this)&&Vc(Al(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),Pl(this,this.i.then(function(){e.l||W(e.m,t)&&t(Ol(e))}))},e.removeAuthTokenListener=function(t){z(this.m,function(e){return e==t})},e.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(ml("local"),t.a,this.ma),this.a&&(uc(this.a,this),bc(this.a.b)),Promise.resolve()},e.$b=function(t){return Pl(this,function(t,e){return xs(t,ss,{identifier:e,continueUri:_r()?nr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},e.qc=function(t){return!!vo(t)},e.lb=function(t,e){var n=this;return Pl(this,Zt().then(function(){var t=new pi(e);if(!t.c)throw new ti("argument-error",yi+" must be true when sending sign in link to email");return Ti(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},e.Uc=function(t){return this.Ma(t).then(function(t){return t.data.email})},e.ab=function(t,e){return Pl(this,this.b.ab(t,e).then(function(){}))},e.Ma=function(t){return Pl(this,this.b.Ma(t).then(function(t){return new zr(t)}))},e.Ya=function(t){return Pl(this,this.b.Ya(t).then(function(){}))},e.kb=function(t,e){var n=this;return Pl(this,Zt().then(function(){return void 0===e||Y(e)?{}:Ti(new pi(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},e.Kc=function(t,e){return Pl(this,Ic(this,t,e,_(this.Sa,this)))},e.Jc=function(t,e){var n=this;return Pl(this,Zt().then(function(){var r=e||nr(),i=yo(t,r);if(!(r=vo(r)))throw new ti("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new ti("tenant-id-mismatch");return n.Sa(i)}))},Dl.prototype.render=function(){},Dl.prototype.reset=function(){},Dl.prototype.getResponse=function(){},Dl.prototype.execute=function(){};var Ml=null;function Ll(t,e){return(e=Fl(e))&&t.a[e]||null}function Fl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ul(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=zn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ye(this.f,"click",this.i)}function jl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Bl(){}Rl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ul(t,e),this.b++},Rl.prototype.reset=function(t){var e=Ll(this,t);t=Fl(t),e&&t&&(e.delete(),delete this.a[t])},Rl.prototype.getResponse=function(t){return(t=Ll(this,t))?t.getResponse():null},Rl.prototype.execute=function(t){(t=Ll(this,t))&&t.execute()},Ul.prototype.getResponse=function(){return jl(this),this.b},Ul.prototype.execute=function(){jl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},Ul.prototype.delete=function(){jl(this),this.g=!0,clearTimeout(this.a),this.a=null,Je(this.f,"click",this.i)},Bl.prototype.g=function(){return Ml||(Ml=new Rl),Zt(Ml)},Bl.prototype.c=function(){};var Vl=null;function ql(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Wl=new Z(nt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Kl=new Dr(3e4,6e4);ql.prototype.g=function(t){var e=this;return new Gt(function(n,r){var i=setTimeout(function(){r(new ti("network-request-failed"))},Kl.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new ti("internal-error"));delete u[e.a]},Zt(Ca(at(Wl,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new ti("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(u.grecaptcha))})},ql.prototype.c=function(){this.b--};var zl=null;function Gl(t,e,n,r,i,o,a){if(Vr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a?(Vl||(Vl=new Bl),a=Vl):(zl||(zl=new ql),a=zl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Yl])throw new ti("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Xl],!u.document)throw new ti("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zn(e)||!this.i&&zn(e).hasChildNodes())throw new ti("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ra(t,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var c=this.a[Hl];this.a[Hl]=function(t){if($l(s,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Er(c,u);"function"==typeof e&&e(t)}};var l=this.a[Ql];this.a[Ql]=function(){if($l(s,null),"function"==typeof l)l();else if("string"==typeof l){var t=Er(l,u);"function"==typeof t&&t()}}}var Hl="callback",Ql="expired-callback",Yl="sitekey",Xl="size";function $l(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Jl(t,e){return t.h.push(e),e.ka(function(){K(t.h,e)}),e}function Zl(t){if(t.B)throw new ti("internal-error","RecaptchaVerifier instance has been destroyed.")}function tf(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new ti("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ti("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ca()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.a.SDK_VERSION?br(r.a.SDK_VERSION,a):null,Gl.call(this,n,t,e,function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t},a,Pi(Oi),i)}function ef(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new ti("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=nf.length)throw new ti("internal-error","Argument validator received an unsupported number of arguments.");n=nf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new ti("argument-error",t+" failed: "+r)}(e=Gl.prototype).Da=function(){var t=this;return this.f?this.f:this.f=Jl(this,Zt().then(function(){if(_r()&&!hr())return cr();throw new ti("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,xs(t.o,vs,{})}).then(function(e){t.a[Yl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},e.render=function(){Zl(this);var t=this;return Jl(this,this.Da().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=zn(e);e=Qn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},e.verify=function(){Zl(this);var t=this;return Jl(this,this.render().then(function(e){return new Gt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},e.reset=function(){Zl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Zl(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=zn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},C(tf,Gl);var nf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rf(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:c}}function of(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function af(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:b}}function sf(t,e){return{name:t||"",M:"a function",optional:!!e,N:g}}function uf(t,e){return{name:t||"",M:"null",optional:!!e,N:m}}function cf(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.na||!n)}}}function lf(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&c(t.type)&&g(t.verify))}}}function ff(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function hf(t,e){for(var n in e){var r=e[n].name;t[r]=mf(r,t[n],e[n].j)}}function pf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I(function(t){return this[t]},n),set:I(function(t,e,n,r){ef(t,[n],[r],!0),this[e]=r},r,n,e[n].Za),enumerable:!0})}}function df(t,e,n,r){t[e]=mf(e,n,r)}function mf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return ef(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}hf(wl.prototype,{Ya:{name:"applyActionCode",j:[rf("code")]},Ma:{name:"checkActionCode",j:[rf("code")]},ab:{name:"confirmPasswordReset",j:[rf("code"),rf("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[rf("email"),rf("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[rf("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[rf("emailLink")]},wc:{name:"onAuthStateChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[ff(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rf("email"),ff(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rf("email"),af("actionCodeSettings")]},mb:{name:"setPersistence",j:[rf("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[cf()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[cf()]},Hc:{name:"signInWithCustomToken",j:[rf("token")]},Ic:{name:"signInWithEmailAndPassword",j:[rf("email"),rf("password")]},Jc:{name:"signInWithEmailLink",j:[rf("email"),rf("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[ff({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Mc)}},uf(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[rf("code")]}}),pf(wl.prototype,{lc:{name:"languageCode",Za:ff(rf(),uf(),"languageCode")},ti:{name:"tenantId",Za:ff(rf(),uf(),"tenantId")}}),wl.Persistence=ku,wl.Persistence.LOCAL="local",wl.Persistence.SESSION="session",wl.Persistence.NONE="none",hf(Mc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[of("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[of("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[cf()]},fb:{name:"linkWithCredential",j:[cf()]},sc:{name:"linkWithPhoneNumber",j:[rf("phoneNumber"),lf()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[cf()]},hb:{name:"reauthenticateWithCredential",j:[cf()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[rf("phoneNumber"),lf()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[ff(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Qc:{name:"unlink",j:[rf("provider")]},rb:{name:"updateEmail",j:[rf("email")]},sb:{name:"updatePassword",j:[rf("password")]},Sc:{name:"updatePhoneNumber",j:[cf("phone")]},tb:{name:"updateProfile",j:[af("profile")]}}),hf(Rl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hf(Dl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hf(Gt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),pf(Tc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:of("appVerificationDisabledForTesting")}}),hf(_c.prototype,{confirm:{name:"confirm",j:[rf("verificationCode")]}}),df(Hi,"fromJSON",function(t){t=c(t)?JSON.parse(t):t;for(var e,n=[to,po,bo,$i],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[ff(rf(),af(),"json")]),df(mo,"credential",function(t,e){return new ho(t,e)},[rf("email"),rf("password")]),hf(ho.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(io.prototype,{ya:{name:"addScope",j:[rf("scope")]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(io,"credential",oo,[ff(rf(),af(),"token")]),df(mo,"credentialWithLink",yo,[rf("email"),rf("emailLink")]),hf(ao.prototype,{ya:{name:"addScope",j:[rf("scope")]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(ao,"credential",so,[ff(rf(),af(),"token")]),hf(uo.prototype,{ya:{name:"addScope",j:[rf("scope")]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(uo,"credential",co,[ff(rf(),ff(af(),uf()),"idToken"),ff(rf(),uf(),"accessToken",!0)]),hf(lo.prototype,{Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),df(lo,"credential",fo,[ff(rf(),af(),"token"),rf("secret",!0)]),hf(ro.prototype,{ya:{name:"addScope",j:[rf("scope")]},credential:{name:"credential",j:[ff(rf(),ff(af(),uf()),"optionsOrIdToken"),ff(rf(),uf(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),hf(Ji.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(Yi.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),df(Eo,"credential",So,[rf("verificationId"),rf("verificationCode")]),hf(Eo.prototype,{Wa:{name:"verifyPhoneNumber",j:[rf("phoneNumber"),lf()]}}),hf(go.prototype,{A:{name:"toJSON",j:[rf(null,!0)]}}),hf(ti.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(xo.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(Oo.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),hf(tf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),df(ii,"parseLink",hi,[rf("link")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wl,AuthCredential:Hi,Error:ti};df(t,"EmailAuthProvider",mo,[]),df(t,"FacebookAuthProvider",io,[]),df(t,"GithubAuthProvider",ao,[]),df(t,"GoogleAuthProvider",uo,[]),df(t,"TwitterAuthProvider",lo,[]),df(t,"OAuthProvider",ro,[rf("providerId")]),df(t,"SAMLAuthProvider",no,[rf("providerId")]),df(t,"PhoneAuthProvider",Eo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof wl)}}]),df(t,"RecaptchaVerifier",tf,[ff(rf(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),af("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof r.a.app.App)}}]),df(t,"ActionCodeURL",ii,[]),r.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:_((t=new wl(t)).getUid,t),getToken:_(t.cc,t),addAuthTokenListener:_(t.Wb,t),removeAuthTokenListener:_(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),r.a.INTERNAL.extendNamespace({User:Mc})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(51))},function(t,e,n){var r=n(453);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){var r=n(456);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(458);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(460);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(462);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(464);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(466);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(468);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(470);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(472);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(474);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(476);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(478);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(480);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){var r=n(482);"string"==typeof r&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(15)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(383),n(170);var r=n(0),i=n.n(r),o=n(93),a=n.n(o);function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var u=n(136),c=n.n(u),l=n(3),f=n.n(l),h=n(196),p=n.n(h),d=1073741823;var m=i.a.createContext||function(t,e){var n,i,o="__create-react-context-"+p()()+"__",a=function(t){function n(){var e,n,r;return(e=t.apply(this,arguments)||this).emitter=(n=e.props.value,r=[],{on:function(t){r.push(t)},off:function(t){r=r.filter(function(e){return e!==t})},get:function(){return n},set:function(t,e){n=t,r.forEach(function(t){return t(n,e)})}}),e}c()(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[o]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof e?e(r,i):d,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);a.childContextTypes=((n={})[o]=f.a.object.isRequired,n);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}c()(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?d:e},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?d:t},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return s.contextTypes=((i={})[o]=f.a.object,i),{Provider:a,Consumer:s}};function y(){return(y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function v(t){return"/"===t.charAt(0)}function g(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&v(t),o=e&&v(e),a=i||o;if(t&&v(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,l=r.length;l>=0;l--){var f=r[l];"."===f?g(r,l):".."===f?(g(r,l),c++):c&&(g(r,l),c--)}if(!a)for(;c--;c)r.unshift("..");!a||""===r[0]||r[0]&&v(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h},w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var E=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});var r=void 0===e?"undefined":w(e);if(r!==(void 0===n?"undefined":w(n)))return!1;if("object"===r){var i=e.valueOf(),o=n.valueOf();if(i!==e||o!==n)return t(i,o);var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every(function(r){return t(e[r],n[r])})}return!1},S=!0,T="Invariant failed";var _=function(t,e){if(!t)throw S?new Error(T):new Error(T+": "+(e||""))};function I(t){return"/"===t.charAt(0)?t:"/"+t}function k(t){return"/"===t.charAt(0)?t.substr(1):t}function C(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function N(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function A(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function O(t,e,n,r){var i;"string"==typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(i=y({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=b(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function x(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&E(t.state,e.state)}function P(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}var D=!("undefined"==typeof window||!window.document||!window.document.createElement);function R(t,e){e(window.confirm(t))}var M="popstate",L="hashchange";function F(){try{return window.history.state||{}}catch(t){return{}}}function U(t){void 0===t&&(t={}),D||_(!1);var e,n=window.history,r=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,c=void 0===u?R:u,l=o.keyLength,f=void 0===l?6:l,h=t.basename?N(I(t.basename)):"";function p(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&(o=C(o,h)),O(o,r,n)}function d(){return Math.random().toString(36).substr(2,f)}var m=P();function v(t){y(V,t),V.length=n.length,m.notifyListeners(V.location,V.action)}function g(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||E(p(t.state))}function b(){E(p(F()))}var w=!1;function E(t){if(w)w=!1,v();else{m.confirmTransitionTo(t,"POP",c,function(e){e?v({action:"POP",location:t}):function(t){var e=V.location,n=T.indexOf(e.key);-1===n&&(n=0);var r=T.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(w=!0,x(i))}(t)})}}var S=p(F()),T=[S.key];function k(t){return h+A(t)}function x(t){n.go(t)}var U=0;function j(t){1===(U+=t)&&1===t?(window.addEventListener(M,g),i&&window.addEventListener(L,b)):0===U&&(window.removeEventListener(M,g),i&&window.removeEventListener(L,b))}var B=!1;var V={length:n.length,action:"POP",location:S,createHref:k,push:function(t,e){var i=O(t,e,d(),V.location);m.confirmTransitionTo(i,"PUSH",c,function(t){if(t){var e=k(i),o=i.key,a=i.state;if(r)if(n.pushState({key:o,state:a},null,e),s)window.location.href=e;else{var u=T.indexOf(V.location.key),c=T.slice(0,-1===u?0:u+1);c.push(i.key),T=c,v({action:"PUSH",location:i})}else window.location.href=e}})},replace:function(t,e){var i=O(t,e,d(),V.location);m.confirmTransitionTo(i,"REPLACE",c,function(t){if(t){var e=k(i),o=i.key,a=i.state;if(r)if(n.replaceState({key:o,state:a},null,e),s)window.location.replace(e);else{var u=T.indexOf(V.location.key);-1!==u&&(T[u]=i.key),v({action:"REPLACE",location:i})}else window.location.replace(e)}})},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(t){void 0===t&&(t=!1);var e=m.setPrompt(t);return B||(j(1),B=!0),function(){return B&&(B=!1,j(-1)),e()}},listen:function(t){var e=m.appendListener(t);return j(1),function(){j(-1),e()}}};return V}var j="hashchange",B={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+k(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:k,decodePath:I},slash:{encodePath:I,decodePath:I}};function V(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function q(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function W(t){void 0===t&&(t={}),D||_(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,i=void 0===r?R:r,o=n.hashType,a=void 0===o?"slash":o,s=t.basename?N(I(t.basename)):"",u=B[a],c=u.encodePath,l=u.decodePath;function f(){var t=l(V());return s&&(t=C(t,s)),O(t)}var h=P();function p(t){y(L,t),L.length=e.length,h.notifyListeners(L.location,L.action)}var d=!1,m=null;function v(){var t=V(),e=c(t);if(t!==e)q(e);else{var n=f(),r=L.location;if(!d&&x(r,n))return;if(m===A(n))return;m=null,function(t){if(d)d=!1,p();else{h.confirmTransitionTo(t,"POP",i,function(e){e?p({action:"POP",location:t}):function(t){var e=L.location,n=E.lastIndexOf(A(e));-1===n&&(n=0);var r=E.lastIndexOf(A(t));-1===r&&(r=0);var i=n-r;i&&(d=!0,S(i))}(t)})}}(n)}}var g=V(),b=c(g);g!==b&&q(b);var w=f(),E=[A(w)];function S(t){e.go(t)}var T=0;function k(t){1===(T+=t)&&1===t?window.addEventListener(j,v):0===T&&window.removeEventListener(j,v)}var M=!1;var L={length:e.length,action:"POP",location:w,createHref:function(t){return"#"+c(s+A(t))},push:function(t,e){var n=O(t,void 0,void 0,L.location);h.confirmTransitionTo(n,"PUSH",i,function(t){if(t){var e=A(n),r=c(s+e);if(V()!==r){m=e,function(t){window.location.hash=t}(r);var i=E.lastIndexOf(A(L.location)),o=E.slice(0,-1===i?0:i+1);o.push(e),E=o,p({action:"PUSH",location:n})}else p()}})},replace:function(t,e){var n=O(t,void 0,void 0,L.location);h.confirmTransitionTo(n,"REPLACE",i,function(t){if(t){var e=A(n),r=c(s+e);V()!==r&&(m=e,q(r));var i=E.indexOf(A(L.location));-1!==i&&(E[i]=e),p({action:"REPLACE",location:n})}})},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(t){void 0===t&&(t=!1);var e=h.setPrompt(t);return M||(k(1),M=!0),function(){return M&&(M=!1,k(-1)),e()}},listen:function(t){var e=h.appendListener(t);return k(1),function(){k(-1),e()}}};return L}function K(t,e,n){return Math.min(Math.max(t,e),n)}var z=n(137),G=n.n(z),H=n(94);function Q(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var Y=n(72),X=n.n(Y),$=function(t){var e=m();return e.displayName=t,e}("Router"),J=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t})),n}s(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.a.createElement($.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(i.a.Component);i.a.Component;i.a.Component;var Z={},tt=1e4,et=0;function nt(t,e){void 0===e&&(e={}),"string"==typeof e&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce(function(e,n){if(!n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=Z[n]||(Z[n]={});if(r[t])return r[t];var i=[],o={regexp:G()(t,i,e),keys:i};return et<tt&&(r[t]=o,et++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],f=u.slice(1),h=t===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce(function(t,e,n){return t[e.name]=f[n],t},{})}},null)}var rt=function(t){function e(){return t.apply(this,arguments)||this}return s(e,t),e.prototype.render=function(){var t=this;return i.a.createElement($.Consumer,null,function(e){e||_(!1);var n=t.props.location||e.location,r=y({},e,{location:n,match:t.props.computedMatch?t.props.computedMatch:t.props.path?nt(n.pathname,t.props):e.match}),o=t.props,a=o.children,s=o.component,u=o.render;(Array.isArray(a)&&0===a.length&&(a=null),"function"==typeof a)&&(void 0===(a=a(r))&&(a=null));return i.a.createElement($.Provider,{value:r},a&&!function(t){return 0===i.a.Children.count(t)}(a)?a:r.match?s?i.a.createElement(s,r):u?u(r):null:null)})},e}(i.a.Component);function it(t){return"/"===t.charAt(0)?t:"/"+t}function ot(t,e){if(!t)return e;var n=it(t);return 0!==e.pathname.indexOf(n)?e:y({},e,{pathname:e.pathname.substr(n.length)})}function at(t){return"string"==typeof t?t:A(t)}function st(t){return function(){_(!1)}}function ut(){}i.a.Component;var ct=function(t){function e(){return t.apply(this,arguments)||this}return s(e,t),e.prototype.render=function(){var t=this;return i.a.createElement($.Consumer,null,function(e){e||_(!1);var n,r,o=t.props.location||e.location;return i.a.Children.forEach(t.props.children,function(t){if(null==r&&i.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?nt(o.pathname,y({},t.props,{path:a})):e.match}}),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null})},e}(i.a.Component);var lt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=U(e.props),e}return s(e,t),e.prototype.render=function(){return i.a.createElement(J,{history:this.history,children:this.props.children})},e}(i.a.Component);i.a.Component;var ft=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;return n.handleClick=function(t,e){try{this.props.onClick&&this.props.onClick(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||this.props.target&&"_self"!==this.props.target||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),(this.props.replace?e.replace:e.push)(this.props.to))},n.render=function(){var t=this,e=this.props,n=e.innerRef,r=(e.replace,e.to),o=Q(e,["innerRef","replace","to"]);return i.a.createElement($.Consumer,null,function(e){e||_(!1);var a="string"==typeof r?O(r,null,null,e.location):r,s=a?e.history.createHref(a):"";return i.a.createElement("a",y({},o,{onClick:function(n){return t.handleClick(n,e.history)},href:s,ref:n}))})},e}(i.a.Component);var ht=i.a.createContext(null);var pt=function(t){t()},dt=function(){return pt},mt=null,yt={notify:function(){}};var vt=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=yt,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var t,e,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(t=dt(),e=[],n=[],{clear:function(){n=mt,e=mt},notify:function(){var r=e=n;t(function(){for(var t=0;t<r.length;t++)r[t]()})},get:function(){return n},subscribe:function(t){var r=!0;return n===e&&(n=e.slice()),n.push(t),function(){r&&e!==mt&&(r=!1,n===e&&(n=e.slice()),n.splice(n.indexOf(t),1))}}}))},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=yt)},t}(),gt=function(t){function e(e){var n;n=t.call(this,e)||this;var r=e.store;n.notifySubscribers=n.notifySubscribers.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n));var i=new vt(r);return i.onStateChange=n.notifySubscribers,n.state={store:r,subscription:i},n.previousState=r.getState(),n}s(e,t);var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(t){if(this.props.store!==t.store){this.state.subscription.tryUnsubscribe();var e=new vt(this.props.store);e.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:e})}},n.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},n.render=function(){var t=this.props.context||ht;return i.a.createElement(t.Provider,{value:this.state},this.props.children)},e}(r.Component);gt.propTypes={store:f.a.shape({subscribe:f.a.func.isRequired,dispatch:f.a.func.isRequired,getState:f.a.func.isRequired}),context:f.a.object,children:f.a.any};var bt=gt,wt=n(36),Et=n.n(wt),St=[],Tt=[null,null];function _t(t,e){var n=t[1];return[e.payload,n+1]}var It=function(){return[null,0]},kt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function Ct(t,e){void 0===e&&(e={});var n=e,o=n.getDisplayName,a=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,s=n.methodName,u=void 0===s?"connectAdvanced":s,c=n.renderCountProp,l=void 0===c?void 0:c,f=n.shouldHandleStateChanges,h=void 0===f||f,p=n.storeKey,d=void 0===p?"store":p,m=n.withRef,v=void 0!==m&&m,g=n.forwardRef,b=void 0!==g&&g,w=n.context,E=void 0===w?ht:w,S=Q(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);Et()(void 0===l,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),Et()(!v,"withRef is removed. To access the wrapped instance, use a ref on the connected component");Et()("store"===d,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var T=E;return function(e){var n=e.displayName||e.name||"Component",o=a(n),s=y({},S,{getDisplayName:a,methodName:u,renderCountProp:l,shouldHandleStateChanges:h,storeKey:d,displayName:o,wrappedComponentName:n,WrappedComponent:e}),c=S.pure;var f=c?r.useMemo:function(t){return t()};function p(n){var a=Object(r.useMemo)(function(){var t=n.forwardedRef,e=Q(n,["forwardedRef"]);return[n.context,t,e]},[n]),u=a[0],c=a[1],l=a[2],p=Object(r.useMemo)(function(){return u&&u.Consumer&&Object(H.isContextConsumer)(i.a.createElement(u.Consumer,null))?u:T},[u,T]),d=Object(r.useContext)(p),m=Boolean(n.store),v=Boolean(d)&&Boolean(d.store);Et()(m||v,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var g=n.store||d.store,b=Object(r.useMemo)(function(){return function(e){return t(e.dispatch,s)}(g)},[g]),w=Object(r.useMemo)(function(){if(!h)return Tt;var t=new vt(g,m?null:d.subscription),e=t.notifyNestedSubs.bind(t);return[t,e]},[g,m,d]),E=w[0],S=w[1],_=Object(r.useMemo)(function(){return m?d:y({},d,{subscription:E})},[m,d,E]),I=Object(r.useReducer)(_t,St,It),k=I[0][0],C=I[1];if(k&&k.error)throw k.error;var N=Object(r.useRef)(),A=Object(r.useRef)(l),O=Object(r.useRef)(),x=Object(r.useRef)(!1),P=f(function(){return O.current&&l===A.current?O.current:b(g.getState(),l)},[g,k,l]);kt(function(){A.current=l,N.current=P,x.current=!1,O.current&&(O.current=null,S())}),kt(function(){if(h){var t=!1,e=null,n=function(){if(!t){var n,r,i=g.getState();try{n=b(i,A.current)}catch(t){r=t,e=t}r||(e=null),n===N.current?x.current||S():(N.current=n,O.current=n,x.current=!0,C({type:"STORE_UPDATED",payload:{latestStoreState:i,error:r}}))}};E.onStateChange=n,E.trySubscribe(),n();return function(){if(t=!0,E.tryUnsubscribe(),e)throw e}}},[g,E,b]);var D=Object(r.useMemo)(function(){return i.a.createElement(e,y({},P,{ref:c}))},[c,e,P]);return Object(r.useMemo)(function(){return h?i.a.createElement(p.Provider,{value:_},D):D},[p,D,_])}var m=c?i.a.memo(p):p;if(m.WrappedComponent=e,m.displayName=o,b){var v=i.a.forwardRef(function(t,e){return i.a.createElement(m,y({},t,{forwardedRef:e}))});return v.displayName=o,v.WrappedComponent=e,X()(v,e)}return X()(m,e)}}var Nt=Object.prototype.hasOwnProperty;function At(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function Ot(t,e){if(At(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Nt.call(e,n[i])||!At(t[n[i]],e[n[i]]))return!1;return!0}var xt=n(135),Pt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Dt={INIT:"@@redux/INIT"+Pt(),REPLACE:"@@redux/REPLACE"+Pt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pt()}};function Rt(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Mt(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function Lt(t,e){return function(){return e(t.apply(this,arguments))}}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(n,!0).forEach(function(e){Ft(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function Vt(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function qt(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function Wt(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=qt(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=qt(i),i=r(e,n)),i},r}}var Kt=[function(t){return"function"==typeof t?Wt(t):void 0},function(t){return t?void 0:Vt(function(t){return{dispatch:t}})},function(t){return t&&"object"==typeof t?Vt(function(e){return function(t,e){if("function"==typeof t)return Lt(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"==typeof i&&(n[r]=Lt(i,e))}return n}(t,e)}):void 0}];var zt=[function(t){return"function"==typeof t?Wt(t):void 0},function(t){return t?void 0:Vt(function(){return{}})}];function Gt(t,e,n){return y({},n,t,e)}var Ht=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return Gt}}];function Qt(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function Yt(t,e,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function d(i,p){var d,m,y=!f(p,a),v=!l(i,o);return o=i,a=p,y&&v?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):y?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),c=n(s,u,a)):v?(d=t(o,a),m=!h(d,s),s=d,m&&(c=n(s,u,a)),c):c}return function(i,l){return p?d(i,l):(s=t(o=i,a=l),u=e(r,a),c=n(s,u,a),p=!0,c)}}function Xt(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Q(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?Yt:Qt)(a,s,u,t,o)}function $t(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Jt(t,e){return t===e}var Zt,te,ee,ne,re,ie,oe,ae,se,ue,ce,le,fe=(ee=(te=void 0===Zt?{}:Zt).connectHOC,ne=void 0===ee?Ct:ee,re=te.mapStateToPropsFactories,ie=void 0===re?zt:re,oe=te.mapDispatchToPropsFactories,ae=void 0===oe?Kt:oe,se=te.mergePropsFactories,ue=void 0===se?Ht:se,ce=te.selectorFactory,le=void 0===ce?Xt:ce,function(t,e,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,u=void 0===s?Jt:s,c=i.areOwnPropsEqual,l=void 0===c?Ot:c,f=i.areStatePropsEqual,h=void 0===f?Ot:f,p=i.areMergedPropsEqual,d=void 0===p?Ot:p,m=Q(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=$t(t,ie,"mapStateToProps"),g=$t(e,ae,"mapDispatchToProps"),b=$t(n,ue,"mergeProps");return ne(le,y({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:b,pure:a,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:h,areMergedPropsEqual:d},m))});var he;"undefined"!=typeof window?r.useLayoutEffect:r.useEffect;he=o.unstable_batchedUpdates,pt=he;var pe=n(55),de=n.n(pe),me=(n(448),n(2)),ye=n.n(me),ve=n(40),ge="firebasestorage.googleapis.com",be="storageBucket",we=12e4,Ee=6e5,Se=-9007199254740991,Te=function(){function t(t,e){this.code_=Ie(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Ie(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),_e={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function Ie(t){return"storage/"+t}function ke(){return new Te(_e.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ce(){return new Te(_e.CANCELED,"User canceled the upload/download.")}function Ne(){return new Te(_e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Ae(){return new Te(_e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Oe(t,e,n){return new Te(_e.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function xe(){return new Te(_e.APP_DELETED,"The Firebase app was deleted.")}function Pe(t,e){return new Te(_e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function De(t){throw new Te(_e.INTERNAL_ERROR,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Me(t){switch(t){case Re.RAW:case Re.BASE64:case Re.BASE64URL:case Re.DATA_URL:return;default:throw"Expected one of the event types: ["+Re.RAW+", "+Re.BASE64+", "+Re.BASE64URL+", "+Re.DATA_URL+"]."}}var Le=function(t,e){this.data=t,this.contentType=e||null};function Fe(t,e){switch(t){case Re.RAW:return new Le(Ue(e));case Re.BASE64:case Re.BASE64URL:return new Le(je(t,e));case Re.DATA_URL:return new Le((n=new Be(e)).base64?je(Re.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw Pe(Re.DATA_URL,"Malformed data URL.")}return Ue(e)}(n.rest),function(t){return new Be(t).contentType}(e))}var n;throw ke()}function Ue(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function je(t,e){switch(t){case Re.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Pe(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Re.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Pe(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw Pe(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Be=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Pe(Re.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var Ve,qe={STATE_CHANGED:"state_changed"},We={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Ke={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ze(t){switch(t){case We.RUNNING:case We.PAUSING:case We.CANCELING:return Ke.RUNNING;case We.PAUSED:return Ke.PAUSED;case We.SUCCESS:return Ke.SUCCESS;case We.CANCELED:return Ke.CANCELED;case We.ERROR:default:return Ke.ERROR}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return null!=t}function He(t){return void 0!==t}function Qe(t){return"function"==typeof t}function Ye(t){return"object"==typeof t}function Xe(t){return Ye(t)&&null!==t}function $e(t){return"string"==typeof t||t instanceof String}function Je(t){return Ze(t)&&Number.isInteger(t)}function Ze(t){return"number"==typeof t||t instanceof Number}function tn(t){return en()&&t instanceof Blob}function en(){return"undefined"!=typeof Blob}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Ve||(Ve={}));
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nn=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ve.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ve.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ve.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw De("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Ge(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Ge(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw De("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw De("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw De("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Ge(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Ge(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),rn=function(){function t(){}return t.prototype.createXhrIo=function(){return new nn},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function on(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function an(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=on();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(en())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sn=function(){function t(t,e){var n=0,r="";tn(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(tn(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(en()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(an.apply(null,r))}var i=e.map(function(t){return $e(t)?Fe(Re.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),un=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n,r;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw r=e,new Te(_e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");for(var i=ge.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],a=0;a<o.length;a++){var s=o[a],u=s.regex.exec(e);if(u){var c=u[s.indices.bucket],l=u[s.indices.path];l||(l=""),n=new t(c,l),s.postModify(n);break}}if(null==n)throw function(t){return new Te(_e.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cn(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return Ye(n=e)&&!Array.isArray(n)?e:null}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function fn(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return"https://"+ge+"/v0"+t}function pn(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){return e}var mn=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||dn},yn=null;function vn(){if(yn)return yn;var t=[];t.push(new mn("bucket")),t.push(new mn("generation")),t.push(new mn("metageneration")),t.push(new mn("name","fullPath",!0));var e=new mn("name");e.xform=function(t,e){return function(t){return!$e(t)||t.length<2?t:fn(t)}(e)},t.push(e);var n=new mn("size");return n.xform=function(t,e){return Ge(e)?Number(e):e},t.push(n),t.push(new mn("timeCreated")),t.push(new mn("updated")),t.push(new mn("md5Hash",null,!0)),t.push(new mn("cacheControl",null,!0)),t.push(new mn("contentDisposition",null,!0)),t.push(new mn("contentEncoding",null,!0)),t.push(new mn("contentLanguage",null,!0)),t.push(new mn("contentType",null,!0)),t.push(new mn("metadata","customMetadata",!0)),yn=t}function gn(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new un(n,r);return e.makeStorageReference(i)}})}(r,t),r}function bn(t,e,n){var r=cn(e);return null===r?null:gn(t,r,n)}function wn(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function En(t){if(!Ye(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!Ye(n))throw"Expected object for 'customMetadata' mapping."}else if(Xe(n))throw"Mapping for '"+e+"' cannot be an object."}}
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn="maxResults",Tn=1e3,_n="pageToken",In="prefixes",kn="items";function Cn(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new Te(_e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+be+"' property when initializing the app?");if(e[In])for(var i=0,o=e[In];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new un(r,a));n.prefixes.push(s)}if(e[kn])for(var u=0,c=e[kn];u<c.length;u++){var l=c[u];s=t.makeStorageReference(new un(r,l.name));n.items.push(s)}return n}function Nn(t){if(!Ye(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===Sn){if(!Je(t[Sn])||t[Sn]<=0)throw"Expected maxResults to be a positive number.";if(t[Sn]>1e3)throw"Expected maxResults to be less than or equal to "+Tn+"."}else{if(e!==_n)throw"Unknown option: "+e;if(t[_n]&&!$e(t[_n]))throw"Expected pageToken to be string."}}var An=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){if(!t)throw ke()}function xn(t,e){return function(n,r){var i=bn(t,r,e);return On(null!==i),i}}function Pn(t){return function(e,n){var r=function(t,e){var n=cn(e);return null===n?null:Cn(t,n)}(t,n);return On(null!==r),r}}function Dn(t,e){return function(n,r){var i=bn(t,r,e);return On(null!==i),function(t,e){var n=cn(e);if(null===n)return null;if(!$e(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,r=t.fullPath;return hn("/b/"+i(n)+"/o/"+i(r))+pn({alt:"media",token:e})})[0]}(i,r)}}function Rn(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new Te(_e.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new Te(_e.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new Te(_e.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Mn(t){var e=Rn(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new Te(_e.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Ln(t,e,n){var r=hn(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new An(r,"GET",xn(t,n),i);return o.errorHandler=Mn(e),o}function Fn(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=hn(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime(),u=new An(a,"GET",Pn(t),s);return u.urlParams=o,u.errorHandler=Rn(e),u}function Un(t,e,n){var r=hn(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new An(r,"GET",Dn(t,n),i);return o.errorHandler=Mn(e),o}function jn(t,e,n,r){var i=hn(e.fullServerUrl()),o=wn(n,r),a=t.maxOperationRetryTime(),s=new An(i,"PATCH",xn(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Mn(e),s}function Bn(t,e){var n=hn(e.fullServerUrl()),r=t.maxOperationRetryTime();var i=new An(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=Mn(e),i}function Vn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var qn=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function Wn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){On(!1)}return On(!!n&&-1!==(e||["active"]).indexOf(n)),n}function Kn(t,e,n,r,i,o,a,s){var u=new qn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Te(_e.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(f,h);if(null===d)throw Ne();var m=e.maxUploadRetryTime(),y=new An(n,"POST",function(t,n){var i,a=Wn(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?xn(e,o)(t,n):null,new qn(s,c,"final"===a,i)},m);return y.headers=p,y.body=d.uploadData(),y.progressCallback=s||null,y.errorHandler=Rn(t),y}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(t,e,n){if(Qe(t)||Ge(e)||Ge(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Gn=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hn(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var a,s,u,c,l,f;if(!(r<=n.length&&n.length<=i))throw a=r,s=i,u=t,c=n.length,a===s?(l=a,f=1===a?"argument":"arguments"):(l="between "+a+" and "+s,f="arguments"),new Te(_e.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+u+"`: Expected "+l+" "+f+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?Oe(o,t,e.message):Oe(o,t,e)}}var Qn=function(t,e){var n=this;this.validator=function(e){n.optional&&!He(e)||t(e)},this.optional=!!e};function Yn(t,e){function n(t){if(!$e(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new Qn(r,e)}function Xn(){return new Qn(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||en()&&t instanceof Blob))throw"Expected Blob or File."})}function $n(t){return new Qn(En,t)}function Jn(t){return new Qn(Nn,t)}function Zn(){return new Qn(function(t){if(!(Ze(t)&&t>=0))throw"Expected a number 0 or greater."})}function tr(t,e){return new Qn(function(e){if(!(null===e||Ge(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function er(t){return new Qn(function(t){if(!(null===t||Qe(t)))throw"Expected a Function."},t)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function t(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=We.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(_e.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(We.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(_e.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(We.ERROR))},this.promise_=new Promise(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===We.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case We.RUNNING:t(n);break;case We.CANCELING:e.transition_(We.CANCELED);break;case We.PAUSING:e.transition_(We.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Vn(e,r,i),s={name:a.fullPath},u=hn(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=wn(a,n),f=t.maxUploadRetryTime(),h=new An(u,"POST",function(t){var e;Wn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){On(!1)}return On($e(e)),e},f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Rn(e),h}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new An(n,"POST",function(t){var e=Wn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){On(!1)}n||On(!1);var i=Number(n);return On(!isNaN(i)),new qn(i,r.size(),"final"===e)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Rn(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new qn(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Kn(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(We.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(We.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=Ln(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(We.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Vn(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wn(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=sn.getBlob(c,r,l);if(null===f)throw Ne();var h={name:u.fullPath},p=hn(o),d=t.maxUploadRetryTime(),m=new An(p,"POST",xn(t,n),d);return m.urlParams=h,m.headers=a,m.body=f.uploadData(),m.errorHandler=Rn(e),m}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(We.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case We.CANCELING:case We.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case We.RUNNING:var e=this.state_===We.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case We.PAUSED:this.state_=t,this.notifyObservers_();break;case We.CANCELED:this.error_=Ce(),this.state_=t,this.notifyObservers_();break;case We.ERROR:case We.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case We.PAUSING:this.transition_(We.PAUSED);break;case We.CANCELING:this.transition_(We.CANCELED);break;case We.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=ze(this.state_);return new Gn(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==qe.STATE_CHANGED)throw"Expected one of the event types: ["+qe.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=er(!0).validator,s=tr(null,!0).validator;function u(t){try{return void a(t)}catch(t){}try{if(s(t),!(He(t.next)||He(t.error)||He(t.complete)))throw"";return}catch(t){throw o}}var c=[Yn(i),tr(u,!0),er(!0),er(!0)];Hn("on",c,arguments);var l=this;function f(t){return function(e,n,i){null!==t&&Hn("on",t,arguments);var o=new zn(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function h(t){if(null===t)throw o;u(t)}var p=[tr(h),er(!0),er(!0)],d=!(He(e)||He(n)||He(r));return d?f(p):f(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(ze(this.state_)){case Ke.SUCCESS:nr(this.resolve_.bind(null,this.snapshot))();break;case Ke.CANCELED:case Ke.ERROR:nr(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(ze(this.state_)){case Ke.RUNNING:case Ke.PAUSED:t.next&&nr(t.next.bind(t,this.snapshot))();break;case Ke.SUCCESS:t.complete&&nr(t.complete.bind(t))();break;case Ke.CANCELED:case Ke.ERROR:t.error&&nr(t.error.bind(t,this.error_))();break;default:t.error&&nr(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Hn("resume",[],arguments);var t=this.state_===We.PAUSED||this.state_===We.PAUSING;return t&&this.transition_(We.RUNNING),t},t.prototype.pause=function(){Hn("pause",[],arguments);var t=this.state_===We.RUNNING;return t&&this.transition_(We.PAUSING),t},t.prototype.cancel=function(){Hn("cancel",[],arguments);var t=this.state_===We.RUNNING||this.state_===We.PAUSING;return t&&this.transition_(We.CANCELING),t},t}(),ir=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof un?e:un.makeFromUrl(e)}return t.prototype.toString=function(){return Hn("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return vn()},t.prototype.child=function(t){Hn("child",[Yn()],arguments);var e=ln(this.location.path,t),n=new un(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new un(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new un(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return fn(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Hn("put",[Xn(),$n(!0)],arguments),this.throwIfRoot_("put"),new rr(this,this.authWrapper,this.location,this.mappings(),new sn(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Re.RAW),Hn("putString",[Yn(),Yn(Me,!0),$n(!0)],arguments),this.throwIfRoot_("putString");var r=Fe(e,t),i=Object.assign({},n);return!Ge(i.contentType)&&Ge(r.contentType)&&(i.contentType=r.contentType),new rr(this,this.authWrapper,this.location,this.mappings(),new sn(r.data,!0),i)},t.prototype.delete=function(){var t=this;return Hn("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then(function(e){var n=Bn(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.listAll=function(){Hn("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},t.prototype.listAllHelper=function(t,e){return Object(ve.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(ve.__generator)(this,function(a){switch(a.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.list=function(t){Hn("list",[Jn(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=t||{},i=Fn(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()})},t.prototype.getMetadata=function(){var t=this;return Hn("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then(function(e){var n=Ln(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){var e=this;return Hn("updateMetadata",[$n()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then(function(n){var r=jn(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){var t=this;return Hn("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then(function(e){var n=Un(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw Ae();return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Te(_e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),or=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ar=function(){function t(){this.map=new Map,this.id=Se}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then(function(){return e.map.delete(n)},function(){return e.map.delete(n)})},t.prototype.clear=function(){this.map.forEach(function(t){t&&t.cancel(!0)}),this.map.clear()},t}(),sr=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;Ge(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=we,this.maxUploadRetryTime_=Ee,this.requestMap_=new ar}return t.extractBucket_=function(t){var e=t[be]||null;return null==e?null:un.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&Ge(this.app_.INTERNAL)&&Ge(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(){return null}):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw xe();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new or(xe());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ur=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){f.resolve_=t,f.reject_=e,f.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());He(s)?i(s):i()}catch(t){o(t)}else null!==a?((r=ke()).setServerResponseProp(a.getResponseText()),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?xe():Ce()):o(r=new Te(_e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new cr(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout(function(){i=null,t(f,s())},e)}function f(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?c.call.apply(c,Object(ve.__spreadArrays)([null,t],n)):s()||o?c.call.apply(c,Object(ve.__spreadArrays)([null,t],n)):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),l(e)))}var h=!1;function p(t){h||(h=!0,u||(null!==i?(t||(a=2),clearTimeout(i),l(0)):t||(a=1)))}return l(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new cr(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ve.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new cr(a,n))}else{var s=n.getErrorCode()===Ve.ABORT;e(!1,new cr(!1,null,s))}})}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),cr=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function lr(t,e,n){var r=pn(t.urlParams),i=t.url+r,o=Object.assign({},t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){var e=void 0!==ye.a?ye.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(o),new ur(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr,hr,pr=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new sr(t,function(t,e){return new ir(t,e)},lr,this,e),this.app_=t,null!=n)this.bucket_=un.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new un(r,""))}this.internals_=new dr(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Hn("ref",[Yn(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new ir(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{un.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return Hn("refFromURL",[Yn(e,!1)],arguments),new ir(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Hn("setMaxUploadRetryTime",[Zn()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){Hn("setMaxOperationRetryTime",[Zn()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),dr=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}(),mr="storage";function yr(t,e,n){return new pr(t,new rn,n)}fr=ye.a,hr={TaskState:Ke,TaskEvent:qe,StringFormat:Re,Storage:pr,Reference:ir},fr.INTERNAL.registerService(mr,yr,hr,void 0,!0);n(451);function vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vr(n,!0).forEach(function(e){br(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vr(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function br(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wr(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Er(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){wr(o,r,i,a,s,"next",t)}function s(t){wr(o,r,i,a,s,"throw",t)}a(void 0)})}}de.a.initializeApp({apiKey:"AIzaSyDHeX_Vje3meJZo5sWhTtSMZh0pdRmXFho",authDomain:"pokedex-kirakosov.firebaseapp.com",databaseURL:"https://pokedex-kirakosov.firebaseio.com",projectId:"pokedex-kirakosov",storageBucket:"pokedex-kirakosov.appspot.com",messagingSenderId:"212302423608",appId:"1:212302423608:web:0ef8376d94156c3ba128cd",measurementId:"G-4FZPK8JQ36"});var Sr=de.a.auth(),Tr=de.a.firestore(),_r=de.a.storage().ref(),Ir=function(t){return _r.child("pokemon-images/".concat(t,".png")).getDownloadURL().then(function(t){return t}).catch(function(t){return console.log(t.message)})},kr=new de.a.auth.GoogleAuthProvider;kr.setCustomParameters({prompt:"select_account"});var Cr=function(){var t=Er(regeneratorRuntime.mark(function t(e,n){var r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return r=Tr.doc("users/".concat(e.uid)),t.next=5,r.get();case 5:if(t.sent.exists){t.next=17;break}return i=e.displayName,o=e.email,a=e.photoURL,s=new Date,t.prev=9,t.next=12,r.set(gr({displayName:i,email:o,createdAt:s,photoURL:a},n));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9),console.error("error creating user: ",t.t0.message);case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}},t,null,[[9,14]])}));return function(e,n){return t.apply(this,arguments)}}(),Nr=function(){var t=Er(regeneratorRuntime.mark(function t(e,n){var r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Tr.collection(e),i=Tr.batch(),o=r.doc(),i.set(o,gr({},n,{id:o.id})),t.next=6,i.commit();case 6:return t.abrupt("return",o.id);case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),Ar=function(t,e){return t.docs.map(e)},Or=(de.a,{HOMEPAGE:"/",POKEMON_PAGE:"/pokemon/:pokemonID",FREE_POKEMONS_PAGE:"/free-pokemons",CAPTURED_POKEMONS_PAGE:"/captured-pokemons",RANDOM_POKEMON_PAGE:"/random-pokemon",SIGN_IN_AND_SIGN_UP:"/sign-in-and-sign-up"}),xr=(n(452),function(t){var e=t.userData,n=t.auth;return i.a.createElement("nav",{className:"navbar"},i.a.createElement(ft,{className:"logo-container",to:Or.HOMEPAGE},i.a.createElement("img",{className:"logo",src:"/assets/images/Pokedex_logo.png",alt:"Pokemon logo"})),e&&i.a.createElement("div",{className:"user"},i.a.createElement("img",{className:"user-avatar",src:e.photoURL||"https://picsum.photos/200"}),i.a.createElement("p",{className:"user-name"},e.displayName)),i.a.createElement("ul",{className:"options"},i.a.createElement("li",null,i.a.createElement(ft,{className:"option",to:Or.FREE_POKEMONS_PAGE},"Wild Pokemons")),i.a.createElement("li",null,i.a.createElement(ft,{className:"option",to:Or.CAPTURED_POKEMONS_PAGE},"Captured Pokemons")),i.a.createElement("li",null,i.a.createElement(ft,{className:"option",to:Or.RANDOM_POKEMON_PAGE},"Random Pokemon")),e?i.a.createElement("li",null,i.a.createElement("div",{className:"option auth",onClick:function(){return n.signOut()}},"Sign Out")):i.a.createElement("li",null,i.a.createElement(ft,{className:"option auth",to:Or.SIGN_IN_AND_SIGN_UP},"Sign In"))))}),Pr=fe(function(t){return{userData:t.user.userData,auth:Sr}},null)(xr),Dr=(n(455),n(138));function Rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Lr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fr=function(){return i.a.createElement("div",{className:"homepage"},i.a.createElement("h1",{className:"homepage__title"},"Welcome to Pokedex!"),i.a.createElement("section",{className:"homepage__info"},i.a.createElement("p",null,"This App is the final task of EPAM's JavaScript Development summer course. It's built up of the following npm packages:"),i.a.createElement("h3",null,"Dependencies:"),i.a.createElement("ul",null,function(){for(var t=[],e=0,n=Object.entries(Dr.dependencies);e<n.length;e++){var r=Lr(n[e],2),o=r[0],a=r[1];t=[].concat(Mr(t),[Rr({},o,a)])}return t.map(function(t,e){return i.a.createElement("li",{className:"animated",key:e+1},i.a.createElement("strong",null,Object.entries(t)[0][0]),":"," ",i.a.createElement("i",null,Object.entries(t)[0][1]))})}()),i.a.createElement("h3",null,"Development dependencies:"),i.a.createElement("ul",null,function(){for(var t=[],e=0,n=Object.entries(Dr.devDependencies);e<n.length;e++){var r=Lr(n[e],2),o=r[0],a=r[1];t=[].concat(Mr(t),[Rr({},o,a)])}return t.map(function(t,e){return i.a.createElement("li",{className:"animated",key:e+1},i.a.createElement("strong",{style:{}},Object.entries(t)[0][0]),":"," ",i.a.createElement("i",null,Object.entries(t)[0][1]))})}())))},Ur=function(t){return t.split("")[0].toUpperCase()+t.slice(1)},jr=(n(457),function(t){var e=t.currentPokemon,n=e.photoId,r=e.owner,o=e.name,a=e.status,s=e.captureDate;return i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{className:"background-image",style:{backgroundImage:"url(../../assets/images/pokemons-images/".concat(n,".png)")}}),i.a.createElement("div",{className:"pokemon-info"},i.a.createElement("h1",{className:"pokemon-title"},Ur(o)),i.a.createElement("img",{className:"pokemon-image",src:"../../assets/images/pokemons-images/".concat(n,".png"),alt:"pokemon"}),i.a.createElement("span",null,"Owner: ",i.a.createElement("span",{className:"pokemon-info_focus"},r||"none")),i.a.createElement("span",null,"Status: ",i.a.createElement("span",{className:"pokemon-info_focus"},a)),"none"!==s&&i.a.createElement("span",null,"Capture Date:"," ",i.a.createElement("span",{className:"pokemon-info_focus"},s))))});jr.propTypes={currentPokemon:f.a.object.isRequired};var Br=jr,Vr=fe(function(t){return{currentPokemon:t.pokemons.currentPokemon||null}})(Br),qr={CATCH_POKEMON_ASYNC:"CATCH_POKEMON_ASYNC",CATCH_POKEMON:"CATCH_POKEMON",SET_POKEMON_FREE_ASYNC:"SET_POKEMON_FREE_ASYNC",SET_POKEMON_FREE:"SET_POKEMON_FREE",FETCH_FREE_POKEMONS:"FETCH_FREE_POKEMONS",FETCH_FREE_POKEMONS_START:"FETCH_FREE_POKEMONS_START",FETCH_FREE_POKEMONS_SUCCESS:"FETCH_FREE_POKEMONS_SUCCESS",FETCH_FREE_POKEMONS_FAILURE:"FETCH_FREE_POKEMONS_FAILURE",FETCH_CAPTURED_POKEMONS:"FETCH_CAPTURED_POKEMONS",FETCH_CAPTURED_POKEMONS_START:"FETCH_CAPTURED_POKEMONS_START",FETCH_CAPTURED_POKEMONS_SUCCESS:"FETCH_CAPTURED_POKEMONS_SUCCESS",FETCH_CAPTURED_POKEMONS_FAILURE:"FETCH_CAPTURED_POKEMONS_FAILURE",FETCH_RANDOM_POKEMON:"FETCH_RANDOM_POKEMON",FETCH_RANDOM_POKEMON_ASYNC:"FETCH_RANDOM_POKEMON_ASYNC",SET_CURRENT_POKEMON:"SET_CURRENT_POKEMON"},Wr=function(t){return{type:qr.FETCH_FREE_POKEMONS_SUCCESS,payload:t}},Kr=function(t){return{type:qr.FETCH_FREE_POKEMONS_FAILURE,payload:t}},zr=function(t){return{type:qr.FETCH_CAPTURED_POKEMONS_SUCCESS,payload:t}},Gr=function(t){return{type:qr.FETCH_CAPTURED_POKEMONS_FAILURE,payload:t}},Hr=function(t){return{type:qr.FETCH_RANDOM_POKEMON,payload:t}},Qr=function(t){return{type:qr.CATCH_POKEMON,payload:t}},Yr=function(t){return{type:qr.SET_POKEMON_FREE,payload:t}};n(459);function Xr(){return(Xr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function $r(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Jr=function(t){var e=t.children,n=t.additionalClass,r=$r(t,["children","additionalClass"]);return i.a.createElement("button",Xr({},r,{className:"custom-button ".concat(n)}),e)};Jr.propTypes={children:f.a.string.isRequired||f.a.number.isRequired,onClick:f.a.func.isRequired},Jr.defaultProps={onClick:function(){}};var Zr=Jr;n(461);function ti(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function ei(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ni=function(t){var e=t.id,n=t.name,o=t.status,a=t.owner,s=t.captureDate,u=t.photoId,c=t.userData,l=t.setCurrentPokemon,f=t.catchPokemonAsync,h=t.setPokemonFreeAsync,p=t.getPokemonImgReference,d=ei(Object(r.useState)({imgUrl:null}),2),m=d[0],y=d[1],v=m.imgUrl,g=function(){var t,e=(t=regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:return n=t.sent,y({imgUrl:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){ti(o,r,i,a,s,"next",t)}function s(t){ti(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){return g(u),function(){return null}},[e]);var b,w,E="pokemon/".concat(e),S="".concat("free"!==o?"Pokemon_captured":"Pokemon_captured-alt"," Pokemon"),T="".concat("free"!==o?"hidden-background_alt":"hidden-background");return i.a.createElement("div",{className:S},i.a.createElement("div",{className:T}),i.a.createElement(ft,{onClick:function(){return l({id:e,photoId:u,name:n,status:o,captureDate:s})},to:E},i.a.createElement("img",{className:"Pokemon__image",src:v,alt:"pokemon"})),i.a.createElement("div",{className:"Pokemon__text"},i.a.createElement("div",{className:"Pokemon__id"},"Owner: ",i.a.createElement("span",{className:"Pokemon__text_focus"},a)),i.a.createElement("div",{className:"Pokemon__name"},"Name:"," ",i.a.createElement("span",{className:"Pokemon__text_focus"},Ur(n))),i.a.createElement("div",{className:"Pokemon__status"},"Status: ",i.a.createElement("span",{className:"Pokemon__text_focus"},o)),"free"!==o&&i.a.createElement("div",{className:"Pokemon__captureDate"},"Capture Date: ",i.a.createElement("span",{className:"Pokemon__text_focus"},s))),(w=c,"free"==(b=o)&&w?i.a.createElement(Zr,{onClick:function(){return f({id:e,name:n,owner:c.displayName,photoId:u,status:"captured",captureDate:(new Date).toDateString().split(" ").slice(1,4).join(" ")})}},"Catch"):"captured"==b&&w?i.a.createElement(Zr,{onClick:function(){return h({id:e,name:n,owner:"none",photoId:u,status:"free",captureDate:"none"})}},"Set Free"):void 0))};ni.defaultProps={owner:"none"},ni.propTypes={id:f.a.string.isRequired,name:f.a.string.isRequired,status:f.a.string.isRequired,captureDate:f.a.string.isRequired,setCurrentPokemon:f.a.func.isRequired,catchPokemonAsync:f.a.func.isRequired,setPokemonFreeAsync:f.a.func.isRequired};var ri=ni,ii=fe(function(t){return{userData:t.user.userData,getPokemonImgReference:Ir}},function(t){return{catchPokemonAsync:function(e){return t(function(t){return{type:qr.CATCH_POKEMON_ASYNC,payload:t}}(e))},setPokemonFreeAsync:function(e){return t(function(t){return{type:qr.SET_POKEMON_FREE_ASYNC,payload:t}}(e))},setCurrentPokemon:function(e){return t(function(t){return{type:qr.SET_CURRENT_POKEMON,payload:t}}(e))}}})(ri),oi=(n(463),function(t){var e=t.placeholder,n=t.handleChange;return i.a.createElement("input",{className:"search",type:"search",placeholder:e,onChange:n})});oi.propTypes={placeholder:f.a.string.isRequired,handleChange:f.a.func.isRequired};var ai=oi,si=(n(465),function(t){var e=t.pokemonsPerPage,n=t.currentPage,r=t.totalPokemons,o=t.paginate,a=function(t,e){for(var n=[],r=1;r<=Math.ceil(t/e);r++)n.push(r);return n}(r,e);return i.a.createElement("nav",{className:"pagination"},a.map(function(t){return i.a.createElement("div",{key:t},i.a.createElement("a",{className:"".concat(t===n?"pagination__page-pointer pagination__page-pointer_active":"pagination__page-pointer"),onClick:function(){return o(t)}},t))}))});si.propTypes={pokemonsPerPage:f.a.number.isRequired,currentPage:f.a.number.isRequired,totalPokemons:f.a.number.isRequired,paginate:f.a.func.isRequired};var ui=si;n(467);function ci(){return(ci=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function li(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fi(n,!0).forEach(function(e){pi(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fi(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function di(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var mi=function(t){var e=t.collection,n=t.isFetching,o=t.fetchPokemons,a=di(Object(r.useState)({searchField:"",isPaginationWindow:!1,currentPage:1,pokemonsPerPage:20}),2),s=a[0],u=a[1],c=s.searchField,l=s.isPaginationWindow,f=s.currentPage,h=s.pokemonsPerPage;Object(r.useEffect)(function(){return!e[0]&&o(),function(){return null}});var p=f*h,d=p-h;return n?i.a.createElement("div",null):i.a.createElement("div",{className:"homepage",id:"homepage"},i.a.createElement("div",{className:"search-box__container"},i.a.createElement(ai,{placeholder:"search pokemons",handleChange:function(t){return u(hi({},s,{searchField:t.target.value}))}})),i.a.createElement("div",{className:"pagination__container"},i.a.createElement("a",{className:"pagination__toggler",onClick:function(){return u(hi({},s,{isPaginationWindow:!l}))}},"More pages"),e&&l&&i.a.createElement(ui,{pokemonsPerPage:h,currentPage:f,totalPokemons:e.length,paginate:function(t){return u(hi({},s,{currentPage:t}))}})),i.a.createElement("div",{className:"pokemons"},e&&function(t){return t.map(function(t){var e=t.id,n=t.photoId,r=li(t,["id","photoId"]);return i.a.createElement(ii,ci({key:e,id:e,photoId:n},r))}).sort(function(t,e){return t.props.photoId-e.props.photoId})}(function(t,e,n){var r;return t.length?(r=t.slice(n,e),r.filter(function(t){return t.name.toLowerCase().includes(c.toLowerCase())})):t}(e,p,d))),i.a.createElement("a",{className:"to-begin-button",href:"#homepage"},"To Top"))};mi.propTypes={collection:f.a.array.isRequired,isFetching:f.a.bool.isRequired},mi.defaultProps={isFetching:!1};var yi=mi,vi=fe(function(t){return{collection:t.pokemons.freePokemons}},function(t){return{fetchPokemons:function(){return t({type:qr.FETCH_FREE_POKEMONS_START})}}})(yi),gi=fe(function(t){return{collection:t.pokemons.capturedPokemons}},function(t){return{fetchPokemons:function(){return t({type:qr.FETCH_CAPTURED_POKEMONS_START})}}})(yi);n(469);function bi(t){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wi(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Si(t,e){return!e||"object"!==bi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ti(t){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _i(t,e){return(_i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ii=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Si(this,(t=Ti(e)).call.apply(t,[this].concat(i)))).state={pokemon:{owner:"none",name:"name",status:"status",photoId:null,captureDate:"capture date"},imgUrl:null,isFetching:!0},n.loadImageUrl=function(){var t,e=(t=regeneratorRuntime.mark(function t(e){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.props.getPokemonImgReference,t.next=3,r(e);case 3:return i=t.sent,n.setState({imgUrl:i}),t.abrupt("return",i);case 6:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){wi(o,r,i,a,s,"next",t)}function s(t){wi(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_i(t,e)}(e,i.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){(0,this.props.fetchRandomPokemonAsync)()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.pokemon,r=e.isFetching;t.pokemon!==n&&(this.setState({pokemon:n,isFetching:r}),this.loadImageUrl(n.photoId))}},{key:"render",value:function(){var t=this.state,e=t.pokemon,n=e.owner,r=e.name,o=e.status,a=e.captureDate,s=t.isFetching,u=t.imgUrl;return s&&null===u?i.a.createElement("h1",null,"IS LOADING"):i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{className:"background-image",style:{backgroundImage:"url(".concat(u,")")}}),i.a.createElement("div",{className:"pokemon-info"},i.a.createElement("h1",null,Ur(r)),i.a.createElement("img",{className:"pokemon-image",src:u,alt:"pokemon"}),i.a.createElement("span",null,"Owner: ",i.a.createElement("span",{className:"focus"},n||"none")),i.a.createElement("span",null,"Status: ",i.a.createElement("span",{className:"focus"},o)),"none"!==a&&i.a.createElement("span",null,"Capture Date: ",i.a.createElement("span",{className:"focus"},a))))}}])&&Ei(n.prototype,r),o&&Ei(n,o),e}();Ii.propTypes={fetchRandomPokemonAsync:f.a.func.isRequired,pokemon:f.a.object.isRequired,isFetching:f.a.bool.isRequired,getPokemonImgReference:f.a.func.isRequired},Ii.defaultProps={pokemon:{owner:"none",name:"name",status:"status",captureDate:"capture date"},isFetching:!1};var ki=Ii,Ci=fe(function(t){var e=t.pokemons;return{pokemon:e.randomPokemon,isFetching:e.isFetching,getPokemonImgReference:Ir}},function(t){return{fetchRandomPokemonAsync:function(){return t({type:qr.FETCH_RANDOM_POKEMON_ASYNC})}}})(ki),Ni={USER_SIGN_IN:"USER_SIGN_IN",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",EMAIL_SIGN_IN_START:"EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE"},Ai=function(t){return{type:Ni.SIGN_IN_SUCCESS,payload:t}},Oi=function(t){return{type:Ni.SIGN_IN_FAILURE,payload:t}};n(471);function xi(){return(xi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Pi(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Di=function(t){var e=t.handleInputChange,n=t.label,r=Pi(t,["handleInputChange","label"]);return i.a.createElement("div",{className:"group"},i.a.createElement("input",xi({className:"form-input",onChange:e},r)),n?i.a.createElement("label",{className:"".concat(r.value.length?"shrink":""," form-input-label")},n):null)};n(473);function Ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ri(n,!0).forEach(function(e){Li(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ri(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ui(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ji=function(t){var e=t.googleSignInStart,n=t.emailSignInStart,o=Ui(Object(r.useState)({email:"",password:""}),2),a=o[0],s=o[1],u=a.email,c=a.password,l=function(){var t,e=(t=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),n({email:u,password:c}),s(Mi({},a,{email:"",password:""}));case 3:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){Fi(o,r,i,a,s,"next",t)}function s(t){Fi(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),f=function(t){var e=t.target,n=e.value,r=e.name;s(Mi({},a,Li({},r,n)))};return i.a.createElement("div",{className:"sign-in"},i.a.createElement("h2",{className:"have-account"},"Already have an account?"),i.a.createElement("p",{className:"sign-in-message"},"Sign in with your email and password"),i.a.createElement("form",{onSubmit:l},i.a.createElement(Di,{name:"email",type:"email",value:u,handleInputChange:f,label:"Email",required:!0}),i.a.createElement(Di,{name:"password",type:"password",value:c,handleInputChange:f,label:"Password",required:!0}),i.a.createElement("div",{className:"buttons-wrapper"},i.a.createElement(Zr,{type:"submit"},"Sign In"),i.a.createElement(Zr,{type:"button",additionalClass:"google-sign-in",onClick:e},"Sign In With Google"))))},Bi=fe(null,function(t){return{googleSignInStart:function(){return t({type:Ni.GOOGLE_SIGN_IN_START})},emailSignInStart:function(e){return t(function(t){return{type:Ni.EMAIL_SIGN_IN_START,payload:t}}(e))}}})(ji);n(475);function Vi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vi(n,!0).forEach(function(e){Wi(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vi(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ki(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function zi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Gi=function(){var t={displayName:"",email:"",password:"",confirmPassword:""},e=zi(Object(r.useState)(t),2),n=e[0],o=e[1],a=n.displayName,s=n.email,u=n.password,c=n.confirmPassword,l=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u===c){e.next=4;break}return alert("Passwords don't match"),e.abrupt("return");case 4:return e.prev=4,e.next=7,Sr.createUserWithEmailAndPassword(s,u);case 7:return r=e.sent,i=r.user,e.next=11,Cr(i,{displayName:a});case 11:o(qi({},t)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[4,14]])}),function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(t){Ki(o,r,i,a,s,"next",t)}function s(t){Ki(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return n.apply(this,arguments)}}(),f=function(t){t.preventDefault();var e=t.target,r=e.name,i=e.value;o(qi({},n,Wi({},r,i)))};return i.a.createElement("div",{className:"sign-up"},i.a.createElement("h2",{className:"title"},"Do not have an account?"),i.a.createElement("span",{className:"sign-up-message"},"Sign up with your email and password"),i.a.createElement("form",{className:"sign-up-form",onSubmit:l},i.a.createElement(Di,{type:"text",name:"displayName",value:a,onChange:f,label:"Display Name",required:!0}),i.a.createElement(Di,{type:"email",name:"email",value:s,onChange:f,label:"Email",required:!0}),i.a.createElement(Di,{type:"password",name:"password",value:u,onChange:f,label:"Password",required:!0}),i.a.createElement(Di,{type:"password",name:"confirmPassword",value:c,onChange:f,label:"Confirm Password",required:!0}),i.a.createElement(Zr,{type:"submit"},"SIGN UP")))},Hi=(n(477),function(){return i.a.createElement("div",{className:"sign-in-and-sign-up"},i.a.createElement(Bi,null),i.a.createElement(Gi,null))});n(479);function Qi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qi(n,!0).forEach(function(e){Xi(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qi(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Xi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $i(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}var Ji=function(t){var e=t.setUserData,n=t.userData,o=t.userId;Object(r.useEffect)(function(){return Sr.onAuthStateChanged(function(){var t,n=(t=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||o){t.next=5;break}return t.next=3,Cr(n);case 3:t.sent.onSnapshot(function(t){e({id:t.id,userData:Yi({},t.data())})});case 5:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){$i(o,r,i,a,s,"next",t)}function s(t){$i(o,r,i,a,s,"throw",t)}a(void 0)})});return function(t){return n.apply(this,arguments)}}())},[n,o]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Pr,null),i.a.createElement(ct,null,i.a.createElement(rt,{exact:!0,path:Or.HOMEPAGE,component:Fr}),i.a.createElement(rt,{path:Or.POKEMON_PAGE,component:Vr}),i.a.createElement(rt,{path:Or.FREE_POKEMONS_PAGE,component:vi}),i.a.createElement(rt,{path:Or.CAPTURED_POKEMONS_PAGE,component:gi}),i.a.createElement(rt,{path:Or.RANDOM_POKEMON_PAGE,component:Ci}),i.a.createElement(rt,{path:Or.SIGN_IN_AND_SIGN_UP,component:Hi}),i.a.createElement(rt,{component:function(){return i.a.createElement("div",{className:"no-match-page"},"The page doesn't exist")}})))},Zi=fe(function(t){var e=t.user;return{userId:e.userId,userData:e.userData}},function(t){return{setUserData:function(e){return t((n=e,{type:Ni.USER_SIGN_IN,payload:n}));var n}}})(Ji),to=(n(481),function(t){return"@@redux-saga/"+t}),eo=to("CANCEL_PROMISE"),no=to("CHANNEL_END"),ro=to("IO"),io=to("MATCH"),oo=to("MULTICAST"),ao=to("SAGA_ACTION"),so=to("SELF_CANCELLATION"),uo=to("TASK"),co=to("TASK_CANCEL"),lo=to("TERMINATE"),fo=to("LOCATION"),ho=function(t){return null==t},po=function(t){return null!=t},mo=function(t){return"function"==typeof t},yo=function(t){return"string"==typeof t},vo=Array.isArray,go=function(t){return t&&mo(t.then)},bo=function(t){return t&&mo(t.next)&&mo(t.throw)},wo=function t(e){return e&&(yo(e)||To(e)||mo(e)||vo(e)&&e.every(t))},Eo=function(t){return t&&mo(t.take)&&mo(t.close)},So=function(t){return mo(t)&&t.hasOwnProperty("toString")},To=function(t){return Boolean(t)&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype},_o=function(t){return Eo(t)&&t[oo]};var Io=function(t){return function(){return t}}(!0),ko=function(){},Co=function(t){return t};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var No=function(t,e){y(t,e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(function(n){t[n]=e[n]})},Ao=function(t,e){var n;return(n=[]).concat.apply(n,e.map(t))};function Oo(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function xo(t){var e=!1;return function(){e||(e=!0,t())}}var Po=function(t){throw t},Do=function(t){return{value:t,done:!0}};function Ro(t,e,n){void 0===e&&(e=Po),void 0===n&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:Do,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function Mo(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var Lo=function(t){return Array.apply(null,new Array(t))},Fo=function(t){return function(e){return t(Object.defineProperty(e,ao,{value:!0}))}},Uo=function(t){return t===lo},jo=function(t){return t===co},Bo=function(t){return Uo(t)||jo(t)};function Vo(t,e){var n=Object.keys(t),r=n.length;var i,o=0,a=vo(t)?Lo(r):{},s={};return n.forEach(function(t){var n=function(n,s){i||(s||Bo(n)?(e.cancel(),e(n,s)):(a[t]=n,++o===r&&(i=!0,e(a))))};n.cancel=ko,s[t]=n}),e.cancel=function(){i||(i=!0,n.forEach(function(t){return s[t].cancel()}))},s}function qo(t){return{name:t.name||"anonymous",location:Wo(t)}}function Wo(t){return t[fo]}var Ko="Channel's Buffer overflow!",zo=1,Go=3,Ho=4;function Qo(t,e){void 0===t&&(t=10);var n=new Array(t),r=0,i=0,o=0,a=function(e){n[i]=e,i=(i+1)%t,r++},s=function(){if(0!=r){var e=n[o];return n[o]=null,r--,o=(o+1)%t,e}},u=function(){for(var t=[];r;)t.push(s());return t};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<t)a(s);else switch(e){case zo:throw new Error(Ko);case Go:n[i]=s,o=i=(i+1)%t;break;case Ho:c=2*t,n=u(),r=n.length,i=n.length,o=0,n.length=c,t=c,a(s)}},take:s,flush:u}}var Yo=function(t){return Qo(t,Ho)},Xo="TAKE",$o="PUT",Jo="ALL",Zo="RACE",ta="CALL",ea="CPS",na="FORK",ra="JOIN",ia="CANCEL",oa="SELECT",aa="ACTION_CHANNEL",sa="CANCELLED",ua="FLUSH",ca="GET_CONTEXT",la="SET_CONTEXT",fa=function(t,e){var n;return(n={})[ro]=!0,n.combinator=!1,n.type=t,n.payload=e,n};function ha(t,e){return void 0===t&&(t="*"),wo(t)?fa(Xo,{pattern:t}):_o(t)&&po(e)&&wo(e)?fa(Xo,{channel:t,pattern:e}):Eo(t)?fa(Xo,{channel:t}):void 0}function pa(t,e){return ho(e)&&(e=t,t=void 0),fa($o,{channel:t,action:e})}function da(t){var e=fa(Jo,t);return e.combinator=!0,e}function ma(t,e){var n,r=null;return mo(t)?n=t:(vo(t)?(r=t[0],n=t[1]):(r=t.context,n=t.fn),r&&yo(n)&&mo(r[n])&&(n=r[n])),{context:r,fn:n,args:e}}function ya(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fa(ta,ma(t,n))}function va(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fa(na,ma(t,n))}function ga(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var ba=ga,wa=[],Ea=0;function Sa(t){try{Ia(),t()}finally{ka()}}function Ta(t){wa.push(t),Ea||(Ia(),Ca())}function _a(t){try{return Ia(),t()}finally{Ca()}}function Ia(){Ea++}function ka(){Ea--}function Ca(){var t;for(ka();!Ea&&void 0!==(t=wa.shift());)Sa(t)}var Na=function(t){return function(e){return t.some(function(t){return Da(t)(e)})}},Aa=function(t){return function(e){return t(e)}},Oa=function(t){return function(e){return e.type===String(t)}},xa=function(t){return function(e){return e.type===t}},Pa=function(){return Io};function Da(t){var e="*"===t?Pa:yo(t)?Oa:vo(t)?Na:So(t)?Oa:mo(t)?Aa:To(t)?xa:null;if(null===e)throw new Error("invalid pattern: "+t);return e(t)}var Ra={type:no},Ma=function(t){return t&&t.type===no};function La(t){void 0===t&&(t=Yo());var e=!1,n=[];return{take:function(r){e&&t.isEmpty()?r(Ra):t.isEmpty()?(n.push(r),r.cancel=function(){Oo(n,r)}):r(t.take())},put:function(r){if(!e){if(0===n.length)return t.put(r);n.shift()(r)}},flush:function(n){e&&t.isEmpty()?n(Ra):n(t.flush())},close:function(){if(!e){e=!0;var t=n;n=[];for(var r=0,i=t.length;r<i;r++){(0,t[r])(Ra)}}}}}function Fa(){var t=function(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},o=function(){e=!0;var t=n=r;r=[],t.forEach(function(t){t(Ra)})};return(t={})[oo]=!0,t.put=function(t){if(!e)if(Ma(t))o();else for(var i=n=r,a=0,s=i.length;a<s;a++){var u=i[a];u[io](t)&&(u.cancel(),u(t))}},t.take=function(t,n){void 0===n&&(n=Pa),e?t(Ra):(t[io]=n,i(),r.push(t),t.cancel=xo(function(){i(),Oo(r,t)}))},t.close=o,t}(),e=t.put;return t.put=function(t){t[ao]?e(t):Ta(function(){e(t)})},t}var Ua=0,ja=1,Ba=2,Va=3;function qa(t,e){var n=t[eo];mo(n)&&(e.cancel=n),t.then(e,function(t){e(t,!0)})}var Wa,Ka=0,za=function(){return++Ka};function Ga(t){t.isRunning()&&t.cancel()}var Ha=((Wa={})[Xo]=function(t,e,n){var r=e.channel,i=void 0===r?t.channel:r,o=e.pattern,a=e.maybe,s=function(t){t instanceof Error?n(t,!0):!Ma(t)||a?n(t):n(lo)};try{i.take(s,po(o)?Da(o):null)}catch(t){return void n(t,!0)}n.cancel=s.cancel},Wa[$o]=function(t,e,n){var r=e.channel,i=e.action,o=e.resolve;Ta(function(){var e;try{e=(r?r.put:t.dispatch)(i)}catch(t){return void n(t,!0)}o&&go(e)?qa(e,n):n(e)})},Wa[Jo]=function(t,e,n,r){var i=r.digestEffect,o=Ka,a=Object.keys(e);if(0!==a.length){var s=Vo(e,n);a.forEach(function(t){i(e[t],o,s[t],t)})}else n(vo(e)?[]:{})},Wa[Zo]=function(t,e,n,r){var i=r.digestEffect,o=Ka,a=Object.keys(e),s=vo(e)?Lo(a.length):{},u={},c=!1;a.forEach(function(t){var e=function(e,r){c||(r||Bo(e)?(n.cancel(),n(e,r)):(n.cancel(),c=!0,s[t]=e,n(s)))};e.cancel=ko,u[t]=e}),n.cancel=function(){c||(c=!0,a.forEach(function(t){return u[t].cancel()}))},a.forEach(function(t){c||i(e[t],o,u[t],t)})},Wa[ta]=function(t,e,n,r){var i=e.context,o=e.fn,a=e.args,s=r.task;try{var u=o.apply(i,a);if(go(u))return void qa(u,n);if(bo(u))return void rs(t,u,s.context,Ka,qo(o),!1,n);n(u)}catch(t){n(t,!0)}},Wa[ea]=function(t,e,n){var r=e.context,i=e.fn,o=e.args;try{var a=function(t,e){ho(t)?n(e):n(t,!0)};i.apply(r,o.concat(a)),a.cancel&&(n.cancel=a.cancel)}catch(t){n(t,!0)}},Wa[na]=function(t,e,n,r){var i=e.context,o=e.fn,a=e.args,s=e.detached,u=r.task,c=function(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(bo(i))return i;var o=!1;return Ro(function(t){return o?{value:t,done:!0}:(o=!0,{value:i,done:!go(i)})})}catch(t){return Ro(function(){throw t})}}({context:i,fn:o,args:a}),l=function(t,e){return t.isSagaIterator?{name:t.meta.name}:qo(e)}(c,o);_a(function(){var e=rs(t,c,u.context,Ka,l,s,ko);s?n(e):e.isRunning()?(u.queue.addTask(e),n(e)):e.isAborted()?u.queue.abort(e.error()):n(e)})},Wa[ra]=function(t,e,n,r){var i=r.task,o=function(t,e){if(t.isRunning()){var n={task:i,cb:e};e.cancel=function(){t.isRunning()&&Oo(t.joiners,n)},t.joiners.push(n)}else t.isAborted()?e(t.error(),!0):e(t.result())};if(vo(e)){if(0===e.length)return void n([]);var a=Vo(e,n);e.forEach(function(t,e){o(t,a[e])})}else o(e,n)},Wa[ia]=function(t,e,n,r){var i=r.task;e===so?Ga(i):vo(e)?e.forEach(Ga):Ga(e),n()},Wa[oa]=function(t,e,n){var r=e.selector,i=e.args;try{n(r.apply(void 0,[t.getState()].concat(i)))}catch(t){n(t,!0)}},Wa[aa]=function(t,e,n){var r=e.pattern,i=La(e.buffer),o=Da(r),a=function e(n){Ma(n)||t.channel.take(e,o),i.put(n)},s=i.close;i.close=function(){a.cancel(),s()},t.channel.take(a,o),n(i)},Wa[sa]=function(t,e,n,r){n(r.task.isCancelled())},Wa[ua]=function(t,e,n){e.flush(n)},Wa[ca]=function(t,e,n,r){n(r.task.context[e])},Wa[la]=function(t,e,n,r){var i=r.task;No(i.context,e),n()},Wa);function Qa(t,e){return t+"?"+e}function Ya(t){var e=t.name,n=t.location;return n?e+"  "+Qa(n.fileName,n.lineNumber):e}var Xa=null,$a=[],Ja=function(t){t.crashedEffect=Xa,$a.push(t)},Za=function(){Xa=null,$a.length=0},ts=function(t){Xa=t},es=function(){var t,e,n,r,i=$a[0],o=$a.slice(1),a=i.crashedEffect?(t=i.crashedEffect,(e=Wo(t))?e.code+"  "+Qa(e.fileName,e.lineNumber):""):null;return["The above error occurred in task "+Ya(i.meta)+(a?" \n when executing effect "+a:"")].concat(o.map(function(t){return"    created by "+Ya(t.meta)}),[(n=$a,r=Ao(function(t){return t.cancelledTasks},n),r.length?["Tasks cancelled due to error:"].concat(r).join("\n"):"")]).join("\n")};function ns(t,e,n,r,i,o,a){var s,u,c,l=Ua,f=null,h=[],p=Object.create(n),d=function(t,e,n){var r,i=[],o=!1;function a(t){e(),u(),n(t,!0)}function s(e){i.push(e),e.cont=function(s,u){o||(Oo(i,e),e.cont=ko,u?a(s):(e===t&&(r=s),i.length||(o=!0,n(r))))}}function u(){o||(o=!0,i.forEach(function(t){t.cont=ko,t.cancel()}),i=[])}return s(t),{addTask:s,cancelAll:u,abort:a,getTasks:function(){return i}}}(e,function(){h.push.apply(h,d.getTasks().map(function(t){return t.meta.name}))},m);function m(e,n){if(n){if(l=Ba,Ja({meta:i,cancelledTasks:h}),y.isRoot){var r=es();Za(),t.onError(e,{sagaStack:r})}c=e,f&&f.reject(e)}else e===co?l=ja:l!==ja&&(l=Va),u=e,f&&f.resolve(e);y.cont(e,n),y.joiners.forEach(function(t){t.cb(e,n)}),y.joiners=null}var y=((s={})[uo]=!0,s.id=r,s.meta=i,s.isRoot=o,s.context=p,s.joiners=[],s.queue=d,s.cancel=function(){l===Ua&&(l=ja,d.cancelAll(),m(co,!1))},s.cont=a,s.end=m,s.setContext=function(t){No(p,t)},s.toPromise=function(){return f?f.promise:(f=ba(),l===Ba?f.reject(c):l!==Ua&&f.resolve(u),f.promise)},s.isRunning=function(){return l===Ua},s.isCancelled=function(){return l===ja||l===Ua&&e.status===ja},s.isAborted=function(){return l===Ba},s.result=function(){return u},s.error=function(){return c},s);return y}function rs(t,e,n,r,i,o,a){var s=t.finalizeRunEffect(function(e,n,r){if(go(e))qa(e,r);else if(bo(e))rs(t,e,c.context,n,i,!1,r);else if(e&&e[ro]){(0,Ha[e.type])(t,e.payload,r,l)}else r(e)});f.cancel=ko;var u={meta:i,cancel:function(){u.status===Ua&&(u.status=ja,f(co))},status:Ua},c=ns(t,u,n,r,i,o,a),l={task:c,digestEffect:h};return a.cancel=c.cancel,f(),c;function f(t,n){try{var i;n?(i=e.throw(t),Za()):jo(t)?(u.status=ja,f.cancel(),i=mo(e.return)?e.return(co):{done:!0,value:co}):i=Uo(t)?mo(e.return)?e.return():{done:!0}:e.next(t),i.done?(u.status!==ja&&(u.status=Va),u.cont(i.value)):h(i.value,r,f)}catch(t){if(u.status===ja)throw t;u.status=Ba,u.cont(t,!0)}}function h(e,n,r,i){void 0===i&&(i="");var o,a=za();function u(n,i){o||(o=!0,r.cancel=ko,t.sagaMonitor&&(i?t.sagaMonitor.effectRejected(a,n):t.sagaMonitor.effectResolved(a,n)),i&&ts(e),r(n,i))}t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:i,effect:e}),u.cancel=ko,r.cancel=function(){o||(o=!0,u.cancel(),u.cancel=ko,t.sagaMonitor&&t.sagaMonitor.effectCancelled(a))},s(e,a,u)}}var is=function(t){void 0===t&&(t={});var e,n=t,r=n.context,i=void 0===r?{}:r,o=n.channel,a=void 0===o?Fa():o,s=n.sagaMonitor,u=Q(n,["context","channel","sagaMonitor"]);function c(t){var n=t.getState,r=t.dispatch;return e=function(t,e){for(var n=t.channel,r=void 0===n?Fa():n,i=t.dispatch,o=t.getState,a=t.context,s=void 0===a?{}:a,u=t.sagaMonitor,c=t.effectMiddlewares,l=t.onError,f=void 0===l?Mo:l,h=arguments.length,p=new Array(h>2?h-2:0),d=2;d<h;d++)p[d-2]=arguments[d];var m,y=e.apply(void 0,p),v=za();if(u&&(u.rootSagaStarted=u.rootSagaStarted||ko,u.effectTriggered=u.effectTriggered||ko,u.effectResolved=u.effectResolved||ko,u.effectRejected=u.effectRejected||ko,u.effectCancelled=u.effectCancelled||ko,u.actionDispatched=u.actionDispatched||ko,u.rootSagaStarted({effectId:v,saga:e,args:p})),c){var g=Bt.apply(void 0,c);m=function(t){return function(e,n,r){return g(function(e){return t(e,n,r)})(e)}}}else m=Co;var b={channel:r,dispatch:Fo(i),getState:o,sagaMonitor:u,onError:f,finalizeRunEffect:m};return _a(function(){var t=rs(b,y,s,v,qo(e),!0,ko);return u&&u.effectResolved(v,t),t})}.bind(null,y({},u,{context:i,channel:a,dispatch:r,getState:n,sagaMonitor:s})),function(t){return function(e){s&&s.actionDispatched&&s.actionDispatched(e);var n=t(e);return a.put(e),n}}}return c.run=function(){return e.apply(void 0,arguments)},c.setContext=function(t){No(i,t)},c};function os(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function as(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ss(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?as(n,!0).forEach(function(e){us(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):as(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function us(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cs={freePokemons:[],capturedPokemons:[],currentPokemon:[],randomPokemon:{},isFetching:!1,errorMessage:null};function ls(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ls(n,!0).forEach(function(e){hs(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ls(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function hs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ps={userId:null,userData:null,errorMessage:null},ds=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:Dt.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:Dt.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+Dt.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=t[u],f=c(l,e);if(void 0===f){var h=Mt(u,e);throw new Error(h)}i[u]=f,r=r||f!==l}return r?i:t}}({pokemons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case qr.FETCH_FREE_POKEMONS_START:case qr.FETCH_CAPTURED_POKEMONS_START:return ss({},t,{isFetching:!0});case qr.FETCH_FREE_POKEMONS_SUCCESS:return ss({},t,{isFetching:!1,freePokemons:e.payload.sort(function(t,e){return t.photoId-e.photoId}),errorMessage:null});case qr.FETCH_CAPTURED_POKEMONS_SUCCESS:return ss({},t,{isFetching:!1,capturedPokemons:e.payload.sort(function(t,e){return t.photoId-e.photoId}),errorMessage:null});case qr.FETCH_FREE_POKEMONS_FAILURE:case qr.FETCH_CAPTURED_POKEMONS_FAILURE:return ss({},t,{isFetching:!1,errorMessage:e.payload});case qr.FETCH_RANDOM_POKEMON_ASYNC:return ss({},t,{isFetching:!0});case qr.FETCH_RANDOM_POKEMON:return ss({},t,{isFetching:!1,randomPokemon:e.payload});case qr.CATCH_POKEMON:return ss({},t,{freePokemons:t.freePokemons.filter(function(t){return t.name!==e.payload.name}),capturedPokemons:[].concat(os(t.capturedPokemons),[e.payload]).sort(function(t,e){return t.id-e.id})});case qr.SET_POKEMON_FREE:return ss({},t,{capturedPokemons:t.capturedPokemons.filter(function(t){return t.name!==e.payload.name}),freePokemons:[].concat(os(t.freePokemons),[e.payload]).sort(function(t,e){return t.id-e.id})});case qr.SET_CURRENT_POKEMON:return ss({},t,{currentPokemon:e.payload});default:return t}},user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ps,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Ni.USER_SIGN_IN:return fs({},t,{userId:e.payload.id,userData:fs({},e.payload.userData),errorMessage:null});case Ni.SIGN_IN_SUCCESS:return fs({},t,{userId:e.payload.id,userData:fs({},e.payload),errorMessage:null});case Ni.SIGN_IN_FAILURE:return fs({},t,{errorMessage:e.payload});default:return t}}}),ms=function(t){return{done:!0,value:t}},ys={};function vs(t){return Eo(t)?"channel":So(t)?String(t):mo(t)?t.name:String(t)}function gs(t,e,n){var r,i,o,a=e;function s(e,n){if(a===ys)return ms(e);if(n&&!i)throw a=ys,n;r&&r(e);var s=n?t[i](n):t[a]();return a=s.nextState,o=s.effect,r=s.stateUpdater,i=s.errorState,a===ys?ms(e):o}return Ro(s,function(t){return s(null,t)},n)}function bs(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,a,s={done:!1,value:ha(t)},u=function(t){return{done:!1,value:va.apply(void 0,[e].concat(r,[t]))}},c=function(t){return{done:!1,value:(e=t,void 0===e&&(e=so),fa(ia,e))};var e},l=function(t){return o=t},f=function(t){return a=t};return gs({q1:function(){return{nextState:"q2",effect:s,stateUpdater:f}},q2:function(){return o?{nextState:"q3",effect:c(o)}:{nextState:"q1",effect:u(a),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:u(a),stateUpdater:l}}},"q1","takeLatest("+vs(t)+", "+e.name+")")}function ws(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return va.apply(void 0,[bs,t,e].concat(r))}var Es=regeneratorRuntime.mark(Ms),Ss=regeneratorRuntime.mark(Ls),Ts=regeneratorRuntime.mark(Fs),_s=regeneratorRuntime.mark(Us),Is=regeneratorRuntime.mark(js),ks=regeneratorRuntime.mark(Bs),Cs=regeneratorRuntime.mark(Vs),Ns=regeneratorRuntime.mark(qs),As=regeneratorRuntime.mark(Ws),Os=regeneratorRuntime.mark(Ks),xs=regeneratorRuntime.mark(zs);function Ps(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ps(n,!0).forEach(function(e){Rs(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ps(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ms(){var t,e,n,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=Tr.collection("freePokemons"),e=function(t){return Ds({},t.data(),{id:t.id,photoId:t.data().photoId})},i.next=5,t.get();case 5:return n=i.sent,i.next=8,ya(Ar,n,e);case 8:return r=i.sent,i.next=11,pa(Wr(r));case 11:i.next=18;break;case 13:return i.prev=13,i.t0=i.catch(0),console.error(i.t0.message),i.next=18,pa(Kr(i.t0.message));case 18:case"end":return i.stop()}},Es,null,[[0,13]])}function Ls(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(qr.FETCH_FREE_POKEMONS_START,Ms);case 2:case"end":return t.stop()}},Ss)}function Fs(){var t,e,n,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=Tr.collection("capturedPokemons"),e=function(t){return Ds({},t.data(),{id:t.id,photoId:t.data().photoId})},i.next=5,t.get();case 5:return n=i.sent,i.next=8,ya(Ar,n,e);case 8:return r=i.sent,i.next=11,pa(zr(r));case 11:i.next=18;break;case 13:return i.prev=13,i.t0=i.catch(0),console.error(i.t0.message),i.next=18,pa(Gr(i.t0.message));case 18:case"end":return i.stop()}},Ts,null,[[0,13]])}function Us(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(qr.FETCH_CAPTURED_POKEMONS_START,Fs);case 2:case"end":return t.stop()}},_s)}function js(t){var e,n,r,i,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ya(Nr,"capturedPokemons",t.payload);case 3:return e=a.sent,n=Tr.collection("freePokemons").doc(t.payload.id),a.next=7,n.delete();case 7:return r=Tr.collection("capturedPokemons").doc(e),a.next=10,r.get();case 10:return i=a.sent,o=[i].map(function(t){return Ds({},t.data(),{id:t.id,photoId:t.data().photoId})})[0],a.next=14,pa(Qr(o));case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.error(a.t0.message);case 19:case"end":return a.stop()}},Is,null,[[0,16]])}function Bs(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(qr.CATCH_POKEMON_ASYNC,js);case 2:case"end":return t.stop()}},ks)}function Vs(t){var e,n,r,i,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ya(Nr,"freePokemons",t.payload);case 3:return e=a.sent,n=Tr.collection("capturedPokemons").doc(t.payload.id),a.next=7,n.delete();case 7:return r=Tr.collection("freePokemons").doc(e),a.next=10,r.get();case 10:return i=a.sent,o=[i].map(function(t){return Ds({},t.data(),{id:t.id,photoId:t.data().photoId})})[0],a.next=14,pa(Yr(o));case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.error(a.t0.message);case 19:case"end":return a.stop()}},Cs,null,[[0,16]])}function qs(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(qr.SET_POKEMON_FREE_ASYNC,Vs);case 2:case"end":return t.stop()}},Ns)}function Ws(){var t,e,n,r,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=Math.floor(Math.random()*Math.floor(100))+10,e=t>0&&t,n=Tr.collection("freePokemons").where("photoId","==",e),o.next=6,n.get().then(function(t){return t.docs[0]});case 6:return r=o.sent,i=[r].map(function(t){return Ds({},t.data(),{id:t.id,photoId:t.data().photoId})})[0],o.next=10,pa(Hr(i));case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(0),console.error(o.t0.message);case 15:case"end":return o.stop()}},As,null,[[0,12]])}function Ks(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(qr.FETCH_RANDOM_POKEMON_ASYNC,Ws);case 2:case"end":return t.stop()}},Os)}function zs(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,da([ya(Bs),ya(qs),ya(Ks),ya(Ls),ya(Us)]);case 2:case"end":return t.stop()}},xs)}var Gs=regeneratorRuntime.mark(eu),Hs=regeneratorRuntime.mark(nu),Qs=regeneratorRuntime.mark(ru),Ys=regeneratorRuntime.mark(iu),Xs=regeneratorRuntime.mark(ou),$s=regeneratorRuntime.mark(au);function Js(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Js(n,!0).forEach(function(e){tu(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Js(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function tu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eu(t){var e,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ya(Cr,t);case 3:return e=r.sent,r.next=6,e.get();case 6:return n=r.sent,r.next=9,pa(Ai(Zs({},n.data(),{id:n.id})));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,pa(Oi(r.t0));case 15:case"end":return r.stop()}},Gs,null,[[0,11]])}function nu(){var t,e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Sr.signInWithPopup(kr);case 3:return t=n.sent,e=t.user,n.next=7,eu(e);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,pa(Oi(n.t0));case 13:case"end":return n.stop()}},Hs,null,[[0,9]])}function ru(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(Ni.GOOGLE_SIGN_IN_START,nu);case 2:case"end":return t.stop()}},Qs)}function iu(t){var e,n,r,i,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.payload,n=e.email,r=e.password,a.prev=1,a.next=4,Sr.signInWithEmailAndPassword(n,r);case 4:return i=a.sent,o=i.user,a.next=8,eu(o);case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(1),a.next=14,pa(Oi(a.t0));case 14:case"end":return a.stop()}},Ys,null,[[1,10]])}function ou(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ws(Ni.EMAIL_SIGN_IN_START,iu);case 2:case"end":return t.stop()}},Xs)}function au(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,da([ya(ru),ya(ou)]);case 2:case"end":return t.stop()}},$s)}var su=regeneratorRuntime.mark(uu);function uu(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,da([ya(zs),ya(au)]);case 2:case"end":return t.stop()}},su)}var cu=is(),lu=[cu],fu=function t(e,n,r){var i;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(t)(e,n)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function f(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function h(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return l(),u.push(t),function(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,l();var n=u.indexOf(t);u.splice(n,1)}}}function p(t){if(!Rt(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,a=o(a,t)}finally{c=!1}for(var e=s=u,n=0;n<e.length;n++)(0,e[n])();return t}return p({type:Dt.INIT}),(i={dispatch:p,subscribe:h,getState:f,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,p({type:Dt.REPLACE})}})[xt.a]=function(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(f())}return n(),{unsubscribe:e(n)}}})[xt.a]=function(){return this},t},i}(ds,(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose)(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map(function(t){return t(i)});return jt({},n,{dispatch:r=Bt.apply(void 0,o)(n.dispatch)})}}}.apply(void 0,lu)));cu.run(uu);var hu=fu;a.a.render(i.a.createElement(bt,{store:hu},i.a.createElement(lt,null,i.a.createElement(Zi,null))),document.getElementById("root"))}]);